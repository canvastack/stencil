php artisan test

   PASS  Tests\Unit\Application\Product\CreateProductCategoryUseCaseTest
  ✓ it creates root category successfully                                                                                                                                                                                                                               0.21s
  ✓ it creates child category successfully                                                                                                                                                                                                                              0.03s
  ✓ it throws exception when slug already exists                                                                                                                                                                                                                        0.03s
  ✓ it throws exception when parent not found                                                                                                                                                                                                                           0.04s
  ✓ it creates category with allowed materials                                                                                                                                                                                                                          0.04s
  ✓ it creates category with quality levels                                                                                                                                                                                                                             0.03s
  ✓ it creates category with customization options                                                                                                                                                                                                                      0.04s
  ✓ it creates category with seo information                                                                                                                                                                                                                            0.04s
  ✓ it creates category with pricing configuration                                                                                                                                                                                                                      0.03s
  ✓ it validates invalid material values                                                                                                                                                                                                                                0.03s
  ✓ it validates invalid quality values                                                                                                                                                                                                                                 0.03s
  ✓ it validates markup percentage range                                                                                                                                                                                                                                0.04s
  ✓ it creates featured category                                                                                                                                                                                                                                        0.03s
  ✓ it creates hidden menu category                                                                                                                                                                                                                                     0.10s
  ✓ it creates category with media information                                                                                                                                                                                                                          0.03s
  ✓ it creates category with custom sort order                                                                                                                                                                                                                          0.02s

   PASS  Tests\Unit\Application\Product\CreateProductVariantUseCaseTest
  ✓ it creates product variant successfully                                                                                                                                                                                                                             0.06s
  ✓ it creates variant with pricing information                                                                                                                                                                                                                         0.03s
  ✓ it creates variant with stock information                                                                                                                                                                                                                           0.03s
  ✓ it creates variant with dimensions                                                                                                                                                                                                                                  0.03s
  ✓ it creates variant with custom sku                                                                                                                                                                                                                                  0.02s
  ✓ it creates variant with etching specifications                                                                                                                                                                                                                      0.02s
  ✓ it throws exception when category not found                                                                                                                                                                                                                         0.02s
  ✓ it throws exception when variant already exists                                                                                                                                                                                                                     0.02s
  ✓ it throws exception when custom sku already exists                                                                                                                                                                                                                  0.03s
  ✓ it validates invalid material                                                                                                                                                                                                                                       0.02s
  ✓ it validates invalid quality                                                                                                                                                                                                                                        0.03s
  ✓ it validates negative dimensions                                                                                                                                                                                                                                    0.02s
  ✓ it validates negative weight                                                                                                                                                                                                                                        0.02s
  ✓ it validates negative stock                                                                                                                                                                                                                                         0.02s
  ✓ it validates invalid pricing                                                                                                                                                                                                                                        0.03s
  ✓ it calculates price with material and quality multipliers                                                                                                                                                                                                           0.02s

   PASS  Tests\Unit\Domain\CustomerEntityTest
  ✓ it can be created with valid data                                                                                                                                                                                                                                   0.04s
  ✓ it can be created as business customer                                                                                                                                                                                                                              0.02s
  ✓ business customer requires company name                                                                                                                                                                                                                             0.02s
  ✓ it can update name                                                                                                                                                                                                                                                  0.02s
  ✓ it can update email                                                                                                                                                                                                                                                 0.03s
  ✓ it can add and remove tags                                                                                                                                                                                                                                          0.02s
  ✓ it prevents duplicate tags                                                                                                                                                                                                                                          0.03s
  ✓ it can suspend and activate                                                                                                                                                                                                                                         0.02s
  ✓ it can update last order date                                                                                                                                                                                                                                       0.03s
  ✓ it can calculate days since last order                                                                                                                                                                                                                              0.03s
  ✓ it returns null for days since last order when no orders                                                                                                                                                                                                            0.03s
  ✓ it generates correct display name for individual                                                                                                                                                                                                                    0.02s
  ✓ it generates correct display name for business                                                                                                                                                                                                                      0.02s
  ✓ it can update phone                                                                                                                                                                                                                                                 0.03s
  ✓ it can update address                                                                                                                                                                                                                                               0.03s
  ✓ it can convert to array                                                                                                                                                                                                                                             0.03s

   PASS  Tests\Unit\Domain\Customer\Services\CustomerSegmentationServiceTest
  ✓ calculate rfm score for champion customer                                                                                                                                                                                                                           2.37s
  ✓ calculate rfm score for new customer                                                                                                                                                                                                                                0.24s
  ✓ segment all customers returns collection                                                                                                                                                                                                                            0.12s
  ✓ get segment distribution returns valid data                                                                                                                                                                                                                         0.15s
  ✓ get lifetime value calculates correctly                                                                                                                                                                                                                             0.13s
  ✓ get churn risk identifies at risk customer                                                                                                                                                                                                                          0.12s
  ✓ get churn risk identifies low risk customer                                                                                                                                                                                                                         0.16s
  ✓ get high value customers filters correctly                                                                                                                                                                                                                          0.27s
  ✓ get at risk customers returns high churn risk                                                                                                                                                                                                                       0.13s

   PASS  Tests\Unit\Domain\Order\Jobs\OrderSlaMonitorJobTest
  ✓ job handles order sla monitoring                                                                                                                                                                                                                                    0.14s
  ✓ sla breach detection                                                                                                                                                                                                                                                0.13s
  ✓ multi level escalation slack channel                                                                                                                                                                                                                                0.12s
  ✓ multi level escalation email channel                                                                                                                                                                                                                                0.13s
  ✓ role based routing procurement lead                                                                                                                                                                                                                                 0.12s
  ✓ threshold configuration sourcing vendor                                                                                                                                                                                                                             0.12s
  ✓ threshold configuration vendor negotiation                                                                                                                                                                                                                          0.12s
  ✓ notification dispatch on escalation                                                                                                                                                                                                                                 0.12s
  ✓ job returns early if order not found                                                                                                                                                                                                                                0.09s
  ✓ job returns early if status mismatch                                                                                                                                                                                                                                0.23s
  ✓ escalation index null with threshold check                                                                                                                                                                                                                          0.12s
  ✓ multiple escalation levels triggered sequentially                                                                                                                                                                                                                   0.13s
  ✓ sla metadata updated after job execution                                                                                                                                                                                                                            0.12s
  ✓ job handles in production state                                                                                                                                                                                                                                     0.12s
  ✓ job handles quality check state                                                                                                                                                                                                                                     0.12s
  ✓ sla not breached if within threshold                                                                                                                                                                                                                                0.12s
  ✓ tenant scoping respected in job                                                                                                                                                                                                                                     0.13s

   PASS  Tests\Unit\Domain\Order\Notifications\NotificationPreferencesTest
  ✓ channel preference management whatsapp enabled                                                                                                                                                                                                                      0.18s
  ✓ channel preference management sms enabled                                                                                                                                                                                                                           0.11s
  ✓ disabled channel filtering whatsapp                                                                                                                                                                                                                                 0.13s
  ✓ disabled channel filtering sms                                                                                                                                                                                                                                      0.13s
  ✓ disabled channel filtering multiple channels                                                                                                                                                                                                                        0.13s
  ✓ customer notification opt out complete disable                                                                                                                                                                                                                      0.14s
  ✓ customer notification opt out via metadata                                                                                                                                                                                                                          0.13s
  ✓ phone number validation valid indonesian number                                                                                                                                                                                                                     0.13s
  ✓ phone number validation international format                                                                                                                                                                                                                        0.13s
  ✓ phone number formatting local to international                                                                                                                                                                                                                      0.13s
  ✓ phone number validation returns null for invalid                                                                                                                                                                                                                    0.12s
  ✓ notification not sent when phone empty                                                                                                                                                                                                                              0.12s
  ✓ notification not sent when phone null                                                                                                                                                                                                                               0.10s
  ✓ whatsapp channel disabled by config                                                                                                                                                                                                                                 0.10s
  ✓ sms channel disabled by config                                                                                                                                                                                                                                      0.11s
  ✓ channel preference specific channels                                                                                                                                                                                                                                0.11s
  ✓ database notification channel always included                                                                                                                                                                                                                       0.13s
  ✓ mail channel always included                                                                                                                                                                                                                                        0.27s
  ✓ multiple notification types respect preferences                                                                                                                                                                                                                     0.12s
  ✓ metadata notification channels array                                                                                                                                                                                                                                0.11s
  ✓ fallback to default preferences when none set                                                                                                                                                                                                                       0.13s
  ✓ preference priority metadata over preferences                                                                                                                                                                                                                       0.13s
  ✓ sms payload contains phone number                                                                                                                                                                                                                                   0.14s
  ✓ sms payload contains message body                                                                                                                                                                                                                                   0.13s
  ✓ notification context includes order id                                                                                                                                                                                                                              0.10s
  ✓ notification context includes order number                                                                                                                                                                                                                          0.10s

   PASS  Tests\Unit\Domain\Order\Notifications\OrderNotificationChannelsTest
  ✓ via includes whatsapp and sms when enabled                                                                                                                                                                                                                          0.06s
  ✓ via excludes whatsapp when customer disables channel                                                                                                                                                                                                                0.03s
  ✓ whatsapp payload contains expected context                                                                                                                                                                                                                          0.03s

   PASS  Tests\Unit\Domain\Order\Services\OrderPaymentServiceTest
  ✓ record customer payment with valid amount                                                                                                                                                                                                                           0.25s
  ✓ record down payment detection                                                                                                                                                                                                                                       0.12s
  ✓ record partial payment handling                                                                                                                                                                                                                                     0.13s
  ✓ final payment detection when amount equals remaining                                                                                                                                                                                                                0.12s
  ✓ payment amount capped to remaining                                                                                                                                                                                                                                  0.25s
  ✓ throw exception when order already paid                                                                                                                                                                                                                             0.23s
  ✓ throw exception with zero or negative amount                                                                                                                                                                                                                        0.21s
  ✓ payment method validation                                                                                                                                                                                                                                           0.12s
  ✓ duplicate payment prevention through reference                                                                                                                                                                                                                      0.13s
  ✓ vendor disbursement recording                                                                                                                                                                                                                                       0.13s
  ✓ multiple vendor disbursements                                                                                                                                                                                                                                       0.27s
  ✓ throw exception when disbursing without vendor                                                                                                                                                                                                                      0.12s
  ✓ throw exception with zero disbursement amount                                                                                                                                                                                                                       0.26s
  ✓ payment metadata tracking                                                                                                                                                                                                                                           0.13s
  ✓ vendor disbursement metadata tracking                                                                                                                                                                                                                               0.12s
  ✓ payment with custom currency                                                                                                                                                                                                                                        0.23s
  ✓ payment with due date                                                                                                                                                                                                                                               0.24s
  ✓ down payment amount stored in order                                                                                                                                                                                                                                 0.12s
  ✓ transaction tenant scoping                                                                                                                                                                                                                                          0.13s

   PASS  Tests\Unit\Domain\Order\Services\OrderStateMachineTest
  ✓ can transition from new to sourcing vendor                                                                                                                                                                                                                          0.21s
  ✓ cannot transition from new to completed                                                                                                                                                                                                                             0.08s
  ✓ cannot transition to same status                                                                                                                                                                                                                                    0.08s
  ✓ get available transitions returns valid next states                                                                                                                                                                                                                 0.10s
  ✓ validate transition requires vendor for negotiation                                                                                                                                                                                                                 0.11s
  ✓ validate transition requires quotation amount                                                                                                                                                                                                                       0.11s
  ✓ validate transition requires tracking number for shipped                                                                                                                                                                                                            0.10s
  ✓ validate transition requires cancellation reason                                                                                                                                                                                                                    0.11s
  ✓ transition updates order status successfully                                                                                                                                                                                                                        0.14s
  ✓ transition throws exception for invalid transition                                                                                                                                                                                                                  0.22s
  ✓ transition to payment received updates payment info                                                                                                                                                                                                                 0.14s
  ✓ partial payment sets partially paid status                                                                                                                                                                                                                          0.13s
  ✓ additional payment during production completes balance                                                                                                                                                                                                              0.15s
  ✓ vendor disbursement is recorded during production transition                                                                                                                                                                                                        0.14s
  ✓ transition to shipped records tracking number                                                                                                                                                                                                                       0.13s
  ✓ transition to cancelled stores reason in metadata                                                                                                                                                                                                                   0.12s
  ✓ transition to vendor negotiation creates negotiation record                                                                                                                                                                                                         0.25s
  ✓ transition initializes sla timer for status with policy                                                                                                                                                                                                             0.14s
  ✓ transition records sla history and triggers escalation on breach                                                                                                                                                                                                    0.15s
  ✓ initialize sla schedules monitor jobs                                                                                                                                                                                                                               0.23s
  ✓ sla escalation job updates metadata and dispatches event                                                                                                                                                                                                            0.12s
  ✓ sla threshold job marks breach and dispatches event                                                                                                                                                                                                                 0.11s

   PASS  Tests\Unit\Domain\Order\Services\VendorNegotiationServiceTest
  ✓ start negotiation creates new negotiation                                                                                                                                                                                                                           0.16s
  ✓ negotiation workflow open to countered                                                                                                                                                                                                                              0.15s
  ✓ round tracking in negotiation                                                                                                                                                                                                                                       0.14s
  ✓ counter offer recording with history                                                                                                                                                                                                                                0.13s
  ✓ expiration enforcement                                                                                                                                                                                                                                              0.14s
  ✓ negotiation approved conclusion                                                                                                                                                                                                                                     0.14s
  ✓ negotiation rejected conclusion                                                                                                                                                                                                                                     0.14s
  ✓ negotiation expired conclusion                                                                                                                                                                                                                                      0.18s
  ✓ negotiation cancelled conclusion                                                                                                                                                                                                                                    0.14s
  ✓ throw exception for invalid conclusion status                                                                                                                                                                                                                       0.14s
  ✓ throw exception when starting without vendor                                                                                                                                                                                                                        0.15s
  ✓ existing open negotiation returns without creating new                                                                                                                                                                                                              0.25s
  ✓ negotiation history audit trail                                                                                                                                                                                                                                     0.12s
  ✓ negotiation terms tracking                                                                                                                                                                                                                                          0.12s
  ✓ order metadata updated during negotiation                                                                                                                                                                                                                           0.12s
  ✓ metadata updated after counter offer                                                                                                                                                                                                                                0.13s
  ✓ negotiation currency tracking                                                                                                                                                                                                                                       0.14s
  ✓ multiple vendor negotiations on same order                                                                                                                                                                                                                          0.13s
  ✓ negotiation tenant scoping                                                                                                                                                                                                                                          0.12s
  ✓ history entry timestamp format                                                                                                                                                                                                                                      0.15s
  ✓ negotiation conclusion with final amount                                                                                                                                                                                                                            0.18s

   PASS  Tests\Unit\Domain\Order\StateTransition\EdgeCaseTest
  ✓ invalid state transition from new to completed                                                                                                                                                                                                                      0.29s
  ✓ invalid state transition from completed backward                                                                                                                                                                                                                    0.29s
  ✓ invalid state transition to self                                                                                                                                                                                                                                    0.11s
  ✓ concurrent transition attempts                                                                                                                                                                                                                                      0.26s
  ✓ transition with missing required field                                                                                                                                                                                                                              0.12s
  ✓ transition with empty metadata                                                                                                                                                                                                                                      0.13s
  ✓ transition with corrupted metadata                                                                                                                                                                                                                                  0.13s
  ✓ rapid sequential transitions                                                                                                                                                                                                                                        0.12s
  ✓ transition with null vendor                                                                                                                                                                                                                                         0.23s
  ✓ transition with extreme currency values                                                                                                                                                                                                                             0.24s
  ✓ transition with zero amount                                                                                                                                                                                                                                         0.13s
  ✓ transition with negative amount                                                                                                                                                                                                                                     0.25s
  ✓ rollback on transition failure                                                                                                                                                                                                                                      0.18s
  ✓ validation error handling missing tracking number                                                                                                                                                                                                                   0.16s
  ✓ validation error handling missing cancellation reason                                                                                                                                                                                                               0.12s
  ✓ order with special characters in metadata                                                                                                                                                                                                                           0.14s
  ✓ transition with unicode characters                                                                                                                                                                                                                                  0.13s
  ✓ transition maintains timestamps                                                                                                                                                                                                                                     0.14s
  ✓ transition with very old order                                                                                                                                                                                                                                      0.12s
  ✓ transition with future timestamps                                                                                                                                                                                                                                   0.13s
  ✓ cannot transition with invalid enum value                                                                                                                                                                                                                           0.11s
  ✓ get available transitions for all states                                                                                                                                                                                                                            0.13s
  ✓ state machine handles concurrent orders                                                                                                                                                                                                                             0.16s
  ✓ transition isolation between tenants                                                                                                                                                                                                                                0.17s
  ✓ transition with minimal metadata payload                                                                                                                                                                                                                            0.13s
  ✓ transition with deeply nested metadata                                                                                                                                                                                                                              0.13s
  ✓ validation with multiple errors                                                                                                                                                                                                                                     0.12s

   PASS  Tests\Unit\Domain\Product\Enums\ProductMaterialTest
  ✓ it has all expected material values                                                                                                                                                                                                                                 0.06s
  ✓ it returns correct string values                                                                                                                                                                                                                                    0.03s
  ✓ it returns correct display names                                                                                                                                                                                                                                    0.03s
  ✓ it returns correct descriptions                                                                                                                                                                                                                                     0.03s
  ✓ it returns correct pricing multipliers                                                                                                                                                                                                                              0.04s
  ✓ it identifies metal materials correctly                                                                                                                                                                                                                             0.04s
  ✓ it identifies plastic materials correctly                                                                                                                                                                                                                           0.03s
  ✓ it returns correct density values                                                                                                                                                                                                                                   0.03s
  ✓ it returns correct melting points                                                                                                                                                                                                                                   0.03s
  ✓ it returns correct hardness levels                                                                                                                                                                                                                                  0.03s
  ✓ it returns correct corrosion resistance                                                                                                                                                                                                                             0.03s
  ✓ it returns correct workability levels                                                                                                                                                                                                                               0.03s
  ✓ it returns correct etching suitability                                                                                                                                                                                                                              0.03s
  ✓ it returns available thickness options                                                                                                                                                                                                                              0.03s
  ✓ it returns available finishes                                                                                                                                                                                                                                       0.03s
  ✓ it calculates weight correctly                                                                                                                                                                                                                                      0.03s
  ✓ it can be created from string                                                                                                                                                                                                                                       0.03s
  ✓ it throws exception for invalid string                                                                                                                                                                                                                              0.03s
  ✓ it returns all materials as options                                                                                                                                                                                                                                 0.03s
  ✓ it returns metal materials only                                                                                                                                                                                                                                     0.03s
  ✓ it returns plastic materials only                                                                                                                                                                                                                                   0.03s
  ✓ it returns materials suitable for etching                                                                                                                                                                                                                           0.03s
  ✓ it can compare materials by price                                                                                                                                                                                                                                   0.03s
  ✓ it can get compatible finishes for material                                                                                                                                                                                                                         0.03s
  ✓ it validates thickness availability                                                                                                                                                                                                                                 0.04s
  ✓ it validates finish availability                                                                                                                                                                                                                                    0.03s

   PASS  Tests\Unit\Domain\Product\Enums\ProductQualityTest
  ✓ it has all expected quality values                                                                                                                                                                                                                                  0.06s
  ✓ it returns correct string values                                                                                                                                                                                                                                    0.03s
  ✓ it returns correct display names                                                                                                                                                                                                                                    0.03s
  ✓ it returns correct descriptions                                                                                                                                                                                                                                     0.04s
  ✓ it returns correct pricing multipliers                                                                                                                                                                                                                              0.03s
  ✓ it returns correct precision levels                                                                                                                                                                                                                                 0.03s
  ✓ it returns correct surface finish quality                                                                                                                                                                                                                           0.03s
  ✓ it returns correct inspection levels                                                                                                                                                                                                                                0.03s
  ✓ it returns correct lead times                                                                                                                                                                                                                                       0.03s
  ✓ it returns correct minimum order quantities                                                                                                                                                                                                                         0.03s
  ✓ it returns available finishes per quality                                                                                                                                                                                                                           0.03s
  ✓ it returns correct quality certifications                                                                                                                                                                                                                           0.03s
  ✓ it checks if requires special tooling                                                                                                                                                                                                                               0.03s
  ✓ it checks if requires quality approval                                                                                                                                                                                                                              0.03s
  ✓ it checks if includes documentation                                                                                                                                                                                                                                 0.04s
  ✓ it returns correct etching depth precision                                                                                                                                                                                                                          0.03s
  ✓ it returns correct edge quality levels                                                                                                                                                                                                                              0.03s
  ✓ it calculates price with multiplier                                                                                                                                                                                                                                 0.03s
  ✓ it can be created from string                                                                                                                                                                                                                                       0.03s
  ✓ it throws exception for invalid string                                                                                                                                                                                                                              0.04s
  ✓ it returns all qualities as options                                                                                                                                                                                                                                 0.04s
  ✓ it can compare quality levels                                                                                                                                                                                                                                       0.03s
  ✓ it can check if is lower quality                                                                                                                                                                                                                                    0.03s
  ✓ it returns quality level numeric value                                                                                                                                                                                                                              0.03s
  ✓ it can sort qualities by level                                                                                                                                                                                                                                      0.03s
  ✓ it returns qualities above level                                                                                                                                                                                                                                    0.03s
  ✓ it returns qualities below level                                                                                                                                                                                                                                    0.03s
  ✓ it calculates quality upgrade cost                                                                                                                                                                                                                                  0.03s
  ✓ it returns compatible materials per quality                                                                                                                                                                                                                         0.03s
  ✓ it checks if quality is suitable for application                                                                                                                                                                                                                    0.03s
  ✓ it returns recommended applications                                                                                                                                                                                                                                 0.03s

   PASS  Tests\Unit\Domain\Product\ProductCategoryEntityTest
  ✓ it can be created with valid data                                                                                                                                                                                                                                   0.08s
  ✓ it can be created as child category                                                                                                                                                                                                                                 0.03s
  ✓ it can update basic information                                                                                                                                                                                                                                     0.03s
  ✓ it can be activated and deactivated                                                                                                                                                                                                                                 0.03s
  ✓ it can be featured and unfeatured                                                                                                                                                                                                                                   0.04s
  ✓ it can toggle menu visibility                                                                                                                                                                                                                                       0.03s
  ✓ it can set allowed materials                                                                                                                                                                                                                                        0.03s
  ✓ it can set quality levels                                                                                                                                                                                                                                           0.03s
  ✓ it can set customization options                                                                                                                                                                                                                                    0.03s
  ✓ it can update sort order                                                                                                                                                                                                                                            0.03s
  ✓ it can set media information                                                                                                                                                                                                                                        0.03s
  ✓ it can set seo information                                                                                                                                                                                                                                          0.03s
  ✓ it can set pricing configuration                                                                                                                                                                                                                                    0.03s
  ✓ it validates markup percentage range                                                                                                                                                                                                                                0.03s
  ✓ it can check if has etching materials                                                                                                                                                                                                                               0.03s
  ✓ it can get hierarchy path                                                                                                                                                                                                                                           0.03s
  ✓ it can convert to array                                                                                                                                                                                                                                             0.03s
  ✓ it generates correct breadcrumb                                                                                                                                                                                                                                     0.03s
  ✓ it validates parent relationship prevents circular reference                                                                                                                                                                                                        0.03s

   PASS  Tests\Unit\Domain\Product\ProductVariantEntityTest
  ✓ it can be created with valid data                                                                                                                                                                                                                                   0.06s
  ✓ it generates sku automatically                                                                                                                                                                                                                                      0.03s
  ✓ it can update pricing information                                                                                                                                                                                                                                   0.03s
  ✓ it calculates profit margin correctly                                                                                                                                                                                                                               0.04s
  ✓ it handles zero base price for profit margin                                                                                                                                                                                                                        0.03s
  ✓ it can update stock quantity                                                                                                                                                                                                                                        0.03s
  ✓ it can increase stock                                                                                                                                                                                                                                               0.03s
  ✓ it can decrease stock                                                                                                                                                                                                                                               0.03s
  ✓ it prevents negative stock decrease                                                                                                                                                                                                                                 0.03s
  ✓ it can set low stock threshold                                                                                                                                                                                                                                      0.03s
  ✓ it can check stock status                                                                                                                                                                                                                                           0.03s
  ✓ it can set dimensions                                                                                                                                                                                                                                               0.03s
  ✓ it validates positive dimensions                                                                                                                                                                                                                                    0.03s
  ✓ it can set weight                                                                                                                                                                                                                                                   0.03s
  ✓ it validates positive weight                                                                                                                                                                                                                                        0.03s
  ✓ it can be activated and deactivated                                                                                                                                                                                                                                 0.03s
  ✓ it can set custom sku                                                                                                                                                                                                                                               0.03s
  ✓ it validates unique sku format                                                                                                                                                                                                                                      0.03s
  ✓ it can set etching specifications                                                                                                                                                                                                                                   0.03s
  ✓ it can check material properties                                                                                                                                                                                                                                    0.04s
  ✓ it can check quality level                                                                                                                                                                                                                                          0.03s
  ✓ it applies material and quality pricing multipliers                                                                                                                                                                                                                 0.03s
  ✓ it can convert to array                                                                                                                                                                                                                                             0.03s
  ✓ it generates variant display name                                                                                                                                                                                                                                   0.03s

   PASS  Tests\Unit\Domain\Product\ValueObjects\ProductCategoryNameTest
  ✓ it can be created with valid name                                                                                                                                                                                                                                   0.06s
  ✓ it trims whitespace from name                                                                                                                                                                                                                                       0.03s
  ✓ it validates minimum length                                                                                                                                                                                                                                         0.03s
  ✓ it validates maximum length                                                                                                                                                                                                                                         0.03s
  ✓ it rejects empty name                                                                                                                                                                                                                                               0.04s
  ✓ it rejects only whitespace name                                                                                                                                                                                                                                     0.04s
  ✓ it allows valid special characters                                                                                                                                                                                                                                  0.03s
  ✓ it rejects invalid special characters                                                                                                                                                                                                                               0.03s
  ✓ it allows unicode characters                                                                                                                                                                                                                                        0.03s
  ✓ it handles mixed case properly                                                                                                                                                                                                                                      0.04s
  ✓ it can check equality                                                                                                                                                                                                                                               0.04s
  ✓ it is case sensitive for equality                                                                                                                                                                                                                                   0.05s
  ✓ it can generate slug suggestion                                                                                                                                                                                                                                     0.04s
  ✓ it handles unicode in slug generation                                                                                                                                                                                                                               0.04s
  ✓ it can check if contains etching keywords                                                                                                                                                                                                                           0.03s
  ✓ it can get character count                                                                                                                                                                                                                                          0.03s
  ✓ it can get word count                                                                                                                                                                                                                                               0.03s
  ✓ it can convert to title case                                                                                                                                                                                                                                        0.03s
  ✓ it can truncate with ellipsis                                                                                                                                                                                                                                       0.03s
  ✓ it does not truncate short names                                                                                                                                                                                                                                    0.04s
  ✓ it can check if contains word                                                                                                                                                                                                                                       0.04s

   PASS  Tests\Unit\Domain\Product\ValueObjects\ProductCategorySlugTest
  ✓ it can be created with valid slug                                                                                                                                                                                                                                   0.07s
  ✓ it validates minimum length                                                                                                                                                                                                                                         0.03s
  ✓ it validates maximum length                                                                                                                                                                                                                                         0.05s
  ✓ it rejects empty slug                                                                                                                                                                                                                                               0.06s
  ✓ it rejects slug with spaces                                                                                                                                                                                                                                         0.05s
  ✓ it rejects slug with uppercase letters                                                                                                                                                                                                                              0.06s
  ✓ it rejects slug with special characters                                                                                                                                                                                                                             0.04s
  ✓ it allows valid slug formats                                                                                                                                                                                                                                        0.06s
  ✓ it rejects slug starting with hyphen                                                                                                                                                                                                                                0.04s
  ✓ it rejects slug ending with hyphen                                                                                                                                                                                                                                  0.04s
  ✓ it rejects slug with consecutive hyphens                                                                                                                                                                                                                            0.05s
  ✓ it can check equality                                                                                                                                                                                                                                               0.03s
  ✓ it can generate from name                                                                                                                                                                                                                                           0.05s
  ✓ it handles unicode characters in generation                                                                                                                                                                                                                         0.04s
  ✓ it removes stopwords when generating from name                                                                                                                                                                                                                      0.06s
  ✓ it can get parent slug from path                                                                                                                                                                                                                                    0.04s
  ✓ it can check if etching related                                                                                                                                                                                                                                     0.04s
  ✓ it can check if material related                                                                                                                                                                                                                                    0.04s
  ✓ it can get slug depth                                                                                                                                                                                                                                               0.04s
  ✓ it can append suffix                                                                                                                                                                                                                                                0.04s
  ✓ it validates suffix format                                                                                                                                                                                                                                          0.05s
  ✓ it can prepend prefix                                                                                                                                                                                                                                               0.04s
  ✓ it validates prefix format                                                                                                                                                                                                                                          0.03s
  ✓ it can check if contains word                                                                                                                                                                                                                                       0.03s
  ✓ it generates unique variation                                                                                                                                                                                                                                       0.03s
  ✓ it returns original if no conflicts                                                                                                                                                                                                                                 0.03s

   PASS  Tests\Unit\Domain\TenantEntityTest
  ✓ it can be created with valid data                                                                                                                                                                                                                                   0.07s
  ✓ it can be activated                                                                                                                                                                                                                                                 0.03s
  ✓ it can be suspended                                                                                                                                                                                                                                                 0.04s
  ✓ it can start trial                                                                                                                                                                                                                                                  0.04s
  ✓ it can end trial                                                                                                                                                                                                                                                    0.06s
  ✓ it can update subscription                                                                                                                                                                                                                                          0.05s
  ✓ it can expire subscription                                                                                                                                                                                                                                          0.04s
  ✓ it can set custom domain                                                                                                                                                                                                                                            0.04s
  ✓ it can remove custom domain                                                                                                                                                                                                                                         0.04s
  ✓ it generates correct public url with custom domain                                                                                                                                                                                                                  0.05s
  ✓ it generates correct public url with slug                                                                                                                                                                                                                           0.04s
  ✓ it generates correct admin url                                                                                                                                                                                                                                      0.03s
  ✓ it can check if subscription is active                                                                                                                                                                                                                              0.03s
  ✓ it validates trial status correctly                                                                                                                                                                                                                                 0.08s
  ✓ it can convert to array                                                                                                                                                                                                                                             0.12s

   PASS  Tests\Unit\Domain\Vendor\Services\VendorPerformanceTest
  ✓ vendor sla compliance tracking                                                                                                                                                                                                                                      0.17s
  ✓ quality score calculation                                                                                                                                                                                                                                           0.17s
  ✓ on time delivery metrics                                                                                                                                                                                                                                            0.15s
  ✓ rating updates                                                                                                                                                                                                                                                      0.16s
  ✓ performance ranking                                                                                                                                                                                                                                                 0.38s
  ✓ top performing vendors                                                                                                                                                                                                                                              1.38s
  ✓ underperforming vendors identification                                                                                                                                                                                                                              0.35s
  ✓ vendor trend analysis                                                                                                                                                                                                                                               0.18s
  ✓ vendor comparison                                                                                                                                                                                                                                                   0.25s
  ✓ sla metrics calculation                                                                                                                                                                                                                                             0.13s
  ✓ sla compliance rate                                                                                                                                                                                                                                                 0.14s
  ✓ sla status determination                                                                                                                                                                                                                                            0.15s
  ✓ sla violations identification                                                                                                                                                                                                                                       0.13s
  ✓ vendor evaluation includes all metrics                                                                                                                                                                                                                              0.16s
  ✓ vendor evaluation score range                                                                                                                                                                                                                                       0.16s
  ✓ performance recommendations generation                                                                                                                                                                                                                              0.16s
  ✓ vendor reliability score calculation                                                                                                                                                                                                                                0.16s
  ✓ price competitiveness scoring                                                                                                                                                                                                                                       0.16s
  ✓ response time scoring                                                                                                                                                                                                                                               0.16s
  ✓ empty vendor evaluation                                                                                                                                                                                                                                             0.22s
  ✓ trend summary calculation                                                                                                                                                                                                                                           0.18s
  ✓ tenant scoping in evaluation                                                                                                                                                                                                                                        0.19s

   PASS  Tests\Unit\ExampleTest
  ✓ that true is true                                                                                                                                                                                                                                                   0.03s

   PASS  Tests\Unit\Http\Controllers\Platform\AuthControllerTest
  ✓ it can authenticate platform account with valid credentials                                                                                                                                                                                                         0.18s
  ✓ it rejects invalid credentials                                                                                                                                                                                                                                      0.10s
  ✓ it rejects non existent account                                                                                                                                                                                                                                     0.09s
  ✓ it rejects inactive account                                                                                                                                                                                                                                         0.10s
  ✓ it validates required fields                                                                                                                                                                                                                                        0.10s
  ✓ it validates email format                                                                                                                                                                                                                                           0.09s
  ✓ it enforces rate limiting                                                                                                                                                                                                                                           0.11s
  ✓ it can logout successfully                                                                                                                                                                                                                                          0.12s
  ✓ it can get authenticated user info                                                                                                                                                                                                                                  0.12s
  ✓ it requires authentication for protected endpoints                                                                                                                                                                                                                  0.08s
  ✓ it rejects invalid tokens                                                                                                                                                                                                                                           0.10s
  ✓ it handles suspended account login                                                                                                                                                                                                                                  0.10s
  ✓ it updates last login timestamp on successful authentication                                                                                                                                                                                                        0.11s
  ✓ it includes proper expiration time                                                                                                                                                                                                                                  0.10s
  ✓ it includes bearer token type                                                                                                                                                                                                                                       0.11s

   PASS  Tests\Unit\Http\Controllers\Tenant\AuthControllerTest
  ✓ it can authenticate tenant user with valid credentials                                                                                                                                                                                                              0.17s
  ✓ it rejects invalid credentials                                                                                                                                                                                                                                      0.13s
  ✓ it rejects non existent user                                                                                                                                                                                                                                        0.11s
  ✓ it rejects user from wrong tenant                                                                                                                                                                                                                                   0.11s
  ✓ it rejects inactive tenant                                                                                                                                                                                                                                          0.11s
  ✓ it rejects expired subscription                                                                                                                                                                                                                                     0.11s
  ✓ it rejects inactive user                                                                                                                                                                                                                                            0.11s
  ✓ it validates required fields                                                                                                                                                                                                                                        0.11s
  ✓ it validates email format                                                                                                                                                                                                                                           0.11s
  ✓ it enforces rate limiting per tenant                                                                                                                                                                                                                                0.15s
  ✓ it can logout successfully                                                                                                                                                                                                                                          0.15s
  ✓ it can get authenticated user info                                                                                                                                                                                                                                  0.16s
  ✓ it includes user permissions in response                                                                                                                                                                                                                            0.14s
  ✓ it handles suspended user login                                                                                                                                                                                                                                     0.13s
  ✓ it prevents login to trial expired tenant                                                                                                                                                                                                                           0.18s
  ✓ it allows login to active trial tenant                                                                                                                                                                                                                              0.18s
  ✓ it includes tenant context in response                                                                                                                                                                                                                              0.18s

   PASS  Tests\Unit\Http\Middleware\PlatformAccessMiddlewareTest
  ✓ it allows authenticated platform account                                                                                                                                                                                                                            0.16s
  ✓ it rejects unauthenticated requests                                                                                                                                                                                                                                 0.11s
  ✓ it rejects tenant user accessing platform routes                                                                                                                                                                                                                    0.14s
  ✓ it rejects inactive platform account                                                                                                                                                                                                                                0.21s
  ✓ it rejects suspended platform account                                                                                                                                                                                                                               0.09s
  ✓ it allows different platform account types                                                                                                                                                                                                                          0.09s
  ✓ it handles invalid token gracefully                                                                                                                                                                                                                                 0.21s
  ✓ it sets correct guard context                                                                                                                                                                                                                                       0.09s
  ✓ it logs security events                                                                                                                                                                                                                                             0.08s

   PASS  Tests\Unit\Http\Middleware\TenantContextMiddlewareTest
  ✓ it identifies tenant from subdomain                                                                                                                                                                                                                                 0.12s
  ✓ it identifies tenant from custom domain                                                                                                                                                                                                                             0.12s
  ✓ it identifies tenant from path parameter                                                                                                                                                                                                                            0.10s
  ✓ it rejects request for nonexistent tenant                                                                                                                                                                                                                           0.10s
  ✓ it rejects request for inactive tenant                                                                                                                                                                                                                              0.10s
  ✓ it rejects request for expired subscription                                                                                                                                                                                                                         0.11s
  ✓ it allows trial tenant within trial period                                                                                                                                                                                                                          0.11s
  ✓ it rejects expired trial tenant                                                                                                                                                                                                                                     0.11s
  ✓ it enforces tenant scoped authentication                                                                                                                                                                                                                            0.10s
  ✓ it rejects user from different tenant                                                                                                                                                                                                                               0.11s
  ✓ it sets tenant context in application                                                                                                                                                                                                                               0.11s
  ✓ it handles suspended tenant                                                                                                                                                                                                                                         0.10s
  ✓ it prioritizes custom domain over subdomain                                                                                                                                                                                                                         0.10s
  ✓ it handles www prefix in custom domain                                                                                                                                                                                                                              0.22s

   PASS  Tests\Unit\Infrastructure\Product\Models\ProductCategoryModelTest
  ✓ it has correct fillable attributes                                                                                                                                                                                                                                  0.11s
  ✓ it casts attributes correctly                                                                                                                                                                                                                                       0.09s
  ✓ it can create product category with basic attributes                                                                                                                                                                                                                0.11s
  ✓ it auto generates uuid on creation                                                                                                                                                                                                                                  0.10s
  ✓ it updates hierarchy when parent changes                                                                                                                                                                                                                            0.10s
  ✓ it has tenant relationship                                                                                                                                                                                                                                          0.09s
  ✓ it has parent relationship                                                                                                                                                                                                                                          0.09s
  ✓ it has children relationship                                                                                                                                                                                                                                        0.08s
  ✓ it has descendants relationship                                                                                                                                                                                                                                     0.11s
  ✓ it has products relationship                                                                                                                                                                                                                                        0.09s
  ✓ it scopes active categories                                                                                                                                                                                                                                         0.10s
  ✓ it scopes featured categories                                                                                                                                                                                                                                       0.10s
  ✓ it scopes root categories                                                                                                                                                                                                                                           0.10s
  ✓ it scopes categories by level                                                                                                                                                                                                                                       0.10s
  ✓ it scopes categories shown in menu                                                                                                                                                                                                                                  0.21s
  ✓ it scopes ordered categories                                                                                                                                                                                                                                        0.11s
  ✓ it checks if category has children                                                                                                                                                                                                                                  0.11s
  ✓ it checks if category has products                                                                                                                                                                                                                                  0.11s
  ✓ it generates full path                                                                                                                                                                                                                                              0.11s
  ✓ it generates breadcrumb                                                                                                                                                                                                                                             0.11s
  ✓ it stores allowed materials as array                                                                                                                                                                                                                                0.09s
  ✓ it stores quality levels as array                                                                                                                                                                                                                                   0.09s
  ✓ it stores customization options as array                                                                                                                                                                                                                            0.09s
  ✓ it stores seo keywords as array                                                                                                                                                                                                                                     0.09s
  ✓ it casts base markup percentage as decimal                                                                                                                                                                                                                          0.20s
  ✓ it uses soft deletes                                                                                                                                                                                                                                                0.11s

   PASS  Tests\Unit\Infrastructure\Product\Models\ProductVariantModelTest
  ✓ it has correct fillable attributes                                                                                                                                                                                                                                  0.12s
  ✓ it casts attributes correctly                                                                                                                                                                                                                                       0.10s
  ✓ it can create product variant with basic attributes                                                                                                                                                                                                                 0.25s
  ✓ it auto generates uuid on creation                                                                                                                                                                                                                                  0.25s
  ✓ it has tenant relationship                                                                                                                                                                                                                                          0.08s
  ✓ it has category relationship                                                                                                                                                                                                                                        0.09s
  ✓ it scopes active variants                                                                                                                                                                                                                                           0.14s
  ✓ it scopes variants by material                                                                                                                                                                                                                                      0.25s
  ✓ it scopes variants by quality                                                                                                                                                                                                                                       0.13s
  ✓ it scopes variants in stock                                                                                                                                                                                                                                         0.13s
  ✓ it scopes variants out of stock                                                                                                                                                                                                                                     0.25s
  ✓ it scopes variants low stock                                                                                                                                                                                                                                        0.14s
  ✓ it scopes variants by price range                                                                                                                                                                                                                                   0.23s
  ✓ it checks if variant has stock                                                                                                                                                                                                                                      0.13s
  ✓ it checks if variant is low stock                                                                                                                                                                                                                                   0.13s
  ✓ it calculates profit margin                                                                                                                                                                                                                                         0.12s
  ✓ it handles zero base price in margin calculation                                                                                                                                                                                                                    0.12s
  ✓ it calculates dimensions                                                                                                                                                                                                                                            0.13s
  ✓ it generates display name                                                                                                                                                                                                                                           0.20s
  ✓ it stores etching specifications as array                                                                                                                                                                                                                           0.12s
  ✓ it casts prices as decimal                                                                                                                                                                                                                                          0.25s
  ✓ it casts dimensions as decimal                                                                                                                                                                                                                                      0.13s
  ✓ it uses soft deletes                                                                                                                                                                                                                                                0.13s
  ✓ it maintains category relationship                                                                                                                                                                                                                                  0.13s

   PASS  Tests\Unit\Infrastructure\Product\ProductCategoryEloquentRepositoryTest
  ✓ it can save product category                                                                                                                                                                                                                                        0.14s
  ✓ it can find category by id                                                                                                                                                                                                                                          0.12s
  ✓ it returns null when category not found by id                                                                                                                                                                                                                       0.11s
  ✓ it can find category by slug                                                                                                                                                                                                                                        0.12s
  ✓ it returns null when category not found by slug                                                                                                                                                                                                                     0.11s
  ✓ it can find root categories                                                                                                                                                                                                                                         0.32s
  ✓ it can find children categories                                                                                                                                                                                                                                     0.20s
  ✓ it can find active categories                                                                                                                                                                                                                                       0.20s
  ✓ it can find featured categories                                                                                                                                                                                                                                     0.26s
  ✓ it can find categories by material                                                                                                                                                                                                                                  0.24s
  ✓ it can find categories by level                                                                                                                                                                                                                                     0.23s
  ✓ it can search categories by name                                                                                                                                                                                                                                    0.20s
  ✓ it can count categories by tenant                                                                                                                                                                                                                                   0.24s
  ✓ it can check if slug exists                                                                                                                                                                                                                                         0.11s
  ✓ it can get category hierarchy                                                                                                                                                                                                                                       0.13s
  ✓ it can delete category                                                                                                                                                                                                                                              0.11s
  ✓ it returns false when deleting non existent category                                                                                                                                                                                                                0.20s
  ✓ it can update category                                                                                                                                                                                                                                              0.11s
  ✓ it maintains tenant isolation                                                                                                                                                                                                                                       0.12s
  ✓ it can find categories with pagination                                                                                                                                                                                                                              0.21s
  ✓ it can find categories with sorting                                                                                                                                                                                                                                 0.13s

   PASS  Tests\Unit\Infrastructure\Product\ProductVariantEloquentRepositoryTest
  ✓ it can save product variant                                                                                                                                                                                                                                         0.22s
  ✓ it can find variant by id                                                                                                                                                                                                                                           0.16s
  ✓ it returns null when variant not found by id                                                                                                                                                                                                                        0.10s
  ✓ it can find variant by sku                                                                                                                                                                                                                                          0.15s
  ✓ it returns null when variant not found by sku                                                                                                                                                                                                                       0.09s
  ✓ it can find variant by category material quality                                                                                                                                                                                                                    0.15s
  ✓ it can find variants by category                                                                                                                                                                                                                                    0.17s
  ✓ it can find variants by material                                                                                                                                                                                                                                    0.20s
  ✓ it can find variants by quality                                                                                                                                                                                                                                     0.20s
  ✓ it can find active variants                                                                                                                                                                                                                                         0.17s
  ✓ it can find variants in stock                                                                                                                                                                                                                                       0.17s
  ✓ it can find low stock variants                                                                                                                                                                                                                                      0.17s
  ✓ it can find variants by price range                                                                                                                                                                                                                                 0.28s
  ✓ it can update stock quantity                                                                                                                                                                                                                                        0.26s
  ✓ it can increase stock                                                                                                                                                                                                                                               0.14s
  ✓ it can decrease stock                                                                                                                                                                                                                                               0.15s
  ✓ it can update pricing                                                                                                                                                                                                                                               0.15s
  ✓ it can count variants by tenant                                                                                                                                                                                                                                     0.17s
  ✓ it can count variants by category                                                                                                                                                                                                                                   0.17s
  ✓ it can check if sku exists                                                                                                                                                                                                                                          0.16s
  ✓ it can delete variant                                                                                                                                                                                                                                               0.15s
  ✓ it returns false when deleting non existent variant                                                                                                                                                                                                                 0.18s
  ✓ it maintains tenant isolation                                                                                                                                                                                                                                       0.17s
  ✓ it can find variants with pagination                                                                                                                                                                                                                                0.42s
  ✓ it can find variants with sorting                                                                                                                                                                                                                                   0.19s
  ✓ it can search variants                                                                                                                                                                                                                                              0.17s
  ✓ it can get stock summary                                                                                                                                                                                                                                            0.17s

   PASS  Tests\Unit\Services\Auth\JwtServiceTest
  ✓ it can generate jwt token for platform account                                                                                                                                                                                                                      0.17s
  ✓ it can generate jwt token for tenant user                                                                                                                                                                                                                           0.13s
  ✓ it fails authentication with invalid platform credentials                                                                                                                                                                                                           0.12s
  ✓ it fails authentication with invalid tenant credentials                                                                                                                                                                                                             0.12s
  ✓ it fails authentication for inactive platform account                                                                                                                                                                                                               0.12s
  ✓ it fails authentication for inactive tenant                                                                                                                                                                                                                         0.11s
  ✓ it fails authentication for expired tenant subscription                                                                                                                                                                                                             0.12s
  ✓ it prevents cross tenant authentication                                                                                                                                                                                                                             0.11s
  ✓ it includes proper user permissions in token                                                                                                                                                                                                                        0.13s
  ✓ platform and tenant tokens have different structures                                                                                                                                                                                                                0.14s
  ✓ it handles case insensitive email lookup                                                                                                                                                                                                                            0.12s
  ✓ it validates nonexistent email                                                                                                                                                                                                                                      0.11s
  ✓ it validates nonexistent tenant                                                                                                                                                                                                                                     0.12s
  ✓ it includes proper token expiration times                                                                                                                                                                                                                           0.14s
  ✓ it includes account type in response                                                                                                                                                                                                                                0.14s
  ✓ it includes bearer token type                                                                                                                                                                                                                                       0.12s

   PASS  Tests\Feature\Authentication\PlatformAuthenticationFlowTest
  ✓ complete platform authentication flow works                                                                                                                                                                                                                         0.31s
  ✓ platform manager has limited permissions                                                                                                                                                                                                                            0.32s
  ✓ rate limiting prevents brute force attacks                                                                                                                                                                                                                          0.19s
  ✓ inactive account cannot login                                                                                                                                                                                                                                       0.15s
  ✓ suspended account cannot login                                                                                                                                                                                                                                      0.17s
  ✓ last login timestamp is updated                                                                                                                                                                                                                                     0.21s
  ✓ token refresh works                                                                                                                                                                                                                                                 0.17s
  ✓ invalid email format is rejected                                                                                                                                                                                                                                    0.12s
  ✓ empty credentials are rejected                                                                                                                                                                                                                                      0.11s
  ✓ case insensitive email login works                                                                                                                                                                                                                                  0.11s
  ✓ concurrent logins are allowed                                                                                                                                                                                                                                       0.13s

   PASS  Tests\Feature\Authentication\TenantAuthenticationFlowTest
  ✓ complete tenant authentication flow works                                                                                                                                                                                                                           0.19s
  ✓ manager has limited permissions                                                                                                                                                                                                                                     0.16s
  ✓ sales user has minimal permissions                                                                                                                                                                                                                                  0.14s
  ✓ cross tenant authentication is prevented                                                                                                                                                                                                                            0.12s
  ✓ inactive tenant prevents login                                                                                                                                                                                                                                      0.12s
  ✓ expired subscription prevents login                                                                                                                                                                                                                                 0.23s
  ✓ trial period allows login                                                                                                                                                                                                                                           0.26s
  ✓ expired trial prevents login                                                                                                                                                                                                                                        0.13s
  ✓ context based login works                                                                                                                                                                                                                                           0.14s
  ✓ rate limiting is per tenant                                                                                                                                                                                                                                         0.18s
  ✓ inactive user cannot login                                                                                                                                                                                                                                          0.12s
  ✓ suspended user cannot login                                                                                                                                                                                                                                         0.13s
  ✓ last login timestamp is updated                                                                                                                                                                                                                                     0.22s
  ✓ user with multiple roles gets combined permissions                                                                                                                                                                                                                  0.27s

   PASS  Tests\Feature\ExampleTest
  ✓ the application returns a successful response                                                                                                                                                                                                                       0.07s

   PASS  Tests\Feature\Notifications\MultiChannelDeliveryTest
  ✓ email fallback when sms fails                                                                                                                                                                                                                                       0.12s
  ✓ email fallback when whatsapp fails                                                                                                                                                                                                                                  0.23s
  ✓ retry logic for failed deliveries                                                                                                                                                                                                                                   0.10s
  ✓ rate limiting per channel whatsapp                                                                                                                                                                                                                                  0.10s
  ✓ rate limiting per channel sms                                                                                                                                                                                                                                       0.11s
  ✓ batch notification sending                                                                                                                                                                                                                                          0.17s
  ✓ multi channel delivery all channels enabled                                                                                                                                                                                                                         0.21s
  ✓ multi channel delivery whatsapp only                                                                                                                                                                                                                                0.11s
  ✓ multi channel delivery sms only                                                                                                                                                                                                                                     0.10s
  ✓ multi channel delivery no sms channels                                                                                                                                                                                                                              0.22s
  ✓ channel priority order                                                                                                                                                                                                                                              0.11s
  ✓ notification delivery tracking                                                                                                                                                                                                                                      0.11s
  ✓ different notification types multi channel                                                                                                                                                                                                                          0.10s
  ✓ whatsapp payload structure                                                                                                                                                                                                                                          0.11s
  ✓ sms payload structure                                                                                                                                                                                                                                               0.12s
  ✓ email payload structure                                                                                                                                                                                                                                             0.11s
  ✓ database notification structure                                                                                                                                                                                                                                     0.11s
  ✓ fallback to email when phone invalid                                                                                                                                                                                                                                0.10s
  ✓ channel delivery with customer preferences                                                                                                                                                                                                                          0.11s
  ✓ retry on transient failure                                                                                                                                                                                                                                          0.11s
  ✓ batch delivery performance                                                                                                                                                                                                                                          0.71s
  ✓ notification queuing                                                                                                                                                                                                                                                0.11s
  ✓ multiple customers batch delivery                                                                                                                                                                                                                                   0.13s
  ✓ channel disable preserves others                                                                                                                                                                                                                                    0.10s
  ✓ rollout new notification channel                                                                                                                                                                                                                                    0.11s
  ✓ gradual channel migration                                                                                                                                                                                                                                           0.11s

   PASS  Tests\Feature\TenantIsolationTest
  ✓ tenant a cannot access tenant b customers                                                                                                                                                                                                                           0.15s
  ✓ tenant b cannot access tenant a products                                                                                                                                                                                                                            0.11s
  ✓ orders are properly scoped to tenant                                                                                                                                                                                                                                0.23s
  ✓ cross tenant relationships are prevented                                                                                                                                                                                                                            0.10s
  ✓ tenant data counts are isolated                                                                                                                                                                                                                                     0.10s
  ✓ tenant switching works correctly                                                                                                                                                                                                                                    0.10s
  ✓ tenant models automatically get tenant id                                                                                                                                                                                                                           0.21s

   PASS  Tests\Feature\Tenant\Api\AnalyticsSegmentationExportTest
  ✓ customer segmentation endpoint returns distribution                                                                                                                                                                                                                 0.32s
  ✓ vendor analytics endpoint returns summary                                                                                                                                                                                                                           0.23s
  ✓ analytics export endpoints return data                                                                                                                                                                                                                              0.21s
  ✓ inventory reconciliation flow and export                                                                                                                                                                                                                            0.31s

   PASS  Tests\Feature\Tenant\Api\CustomerVendorSearchExportTest
  ✓ customer search returns segmentation data                                                                                                                                                                                                                           0.33s
  ✓ customer export streams csv                                                                                                                                                                                                                                         0.16s
  ✓ vendor search includes performance metrics                                                                                                                                                                                                                          0.16s
  ✓ vendor export respects min score filter                                                                                                                                                                                                                             0.20s
  ✓ product taxonomy helpers return data                                                                                                                                                                                                                                0.22s

   PASS  Tests\Feature\Tenant\Api\InventoryControllerTest
  ✓ can create location and set stock                                                                                                                                                                                                                                   0.32s
  ✓ transfer stock between locations updates balances                                                                                                                                                                                                                   0.30s
  ✓ reserve and release stock updates balances                                                                                                                                                                                                                          0.25s
  ✓ run reconciliation async dispatches job                                                                                                                                                                                                                             0.12s
  ✓ reconciliation job balances item and logs variance                                                                                                                                                                                                                  0.25s
  ✓ reconciliation job accounts for global reservations                                                                                                                                                                                                                 0.25s

   PASS  Tests\Feature\Tenant\Api\MultiTenantIsolationTest
  ✓ tenant a cannot see tenant b orders                                                                                                                                                                                                                                 0.16s
  ✓ tenant a cannot access tenant b order detail                                                                                                                                                                                                                        0.25s
  ✓ tenant a cannot see tenant b customers                                                                                                                                                                                                                              0.24s
  ✓ tenant a cannot access tenant b customer detail                                                                                                                                                                                                                     0.13s
  ✓ tenant a cannot see tenant b products                                                                                                                                                                                                                               0.14s
  ✓ tenant a cannot see tenant b vendors                                                                                                                                                                                                                                0.13s
  ✓ tenant a cannot update tenant b order                                                                                                                                                                                                                               0.14s
  ✓ tenant a cannot delete tenant b customer                                                                                                                                                                                                                            0.14s
  ✓ orders include only tenant specific customers                                                                                                                                                                                                                       0.13s
  ✓ analytics only show tenant data                                                                                                                                                                                                                                     0.24s
  ✓ dashboard stats isolated by tenant                                                                                                                                                                                                                                  0.24s
  ✓ switching tenant context works correctly                                                                                                                                                                                                                            0.17s
  ✓ database queries automatically scope by tenant                                                                                                                                                                                                                      0.24s

   PASS  Tests\Feature\Tenant\Api\OrderApiTest
  ✓ can list orders                                                                                                                                                                                                                                                     0.21s
  ✓ order list excludes other tenant data                                                                                                                                                                                                                               0.14s
  ✓ can filter orders by status                                                                                                                                                                                                                                         0.14s
  ✓ can create order                                                                                                                                                                                                                                                    0.17s
  ✓ can show order detail                                                                                                                                                                                                                                               0.14s
  ✓ can update order                                                                                                                                                                                                                                                    0.14s
  ✓ can update order status                                                                                                                                                                                                                                             0.16s
  ✓ cannot update to invalid status                                                                                                                                                                                                                                     0.13s
  ✓ can ship order with tracking number                                                                                                                                                                                                                                 0.15s
  ✓ can cancel order with reason                                                                                                                                                                                                                                        0.15s
  ✓ can get available transitions                                                                                                                                                                                                                                       0.15s
  ✓ cannot update other tenant order                                                                                                                                                                                                                                    0.27s
  ✓ cannot delete other tenant order                                                                                                                                                                                                                                    0.14s
  ✓ cannot access other tenant orders                                                                                                                                                                                                                                   0.13s
  ✓ order search works correctly                                                                                                                                                                                                                                        0.15s
  ✓ order date range filter works                                                                                                                                                                                                                                       0.24s
  ✓ status endpoint is tenant scoped                                                                                                                                                                                                                                    0.14s
  ✓ customer endpoint is tenant scoped                                                                                                                                                                                                                                  0.26s
  ✓ quotations endpoint is tenant scoped                                                                                                                                                                                                                                0.16s

   WARN  Tests\Feature\Tenant\Api\PaymentRefundTest
  - initiate refund → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund status tracking → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - vendor reversal disbursement → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - payment reconciliation after refund → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund with multiple partial amounts → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - cannot refund more than paid → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund with zero amount rejected → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund status pending on creation → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund status completed after processing → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund reason stored → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund timestamp recorded → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - list refunds for order → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund payment method preserved → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund audit trail → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund cannot be initiated on unpaid order → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund updates order payment status → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund creates transaction record → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund isolation between tenants → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund approval workflow → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.
  - refund rejection workflow → Payment refund feature is not yet implemented. Routes and endpoints for refund processing need to be created.

  Tests:    20 skipped, 652 passed (2238 assertions)
  Duration: 81.43s

Dari list berikut ini:
1. Payment & Financial Management
2. Shipping & Logistics
3. Communication System
4. File & Media Management
5. Advanced Business Features



Baik. Tolong cek beberapa dokumen berikut:
- `docs\ROADMAPS\PHASE_4_CONTENT_MANAGEMENT_SYSTEM.md`
- `docs\ROADMAPS\PHASE_5_ADVANCED_FEATURES.md`
- `docs\ROADMAPS\PHASE_6_PLATFORM_MANAGEMENT.md`
- `docs\ROADMAPS\PHASE_7_CUSTOM_DOMAIN_URL_MANAGEMENT.md`
- `docs\ROADMAPS\PHASE_8_PERFORMANCE_SECURITY_OPTIMIZATION.md`

Tugas kamu membuat dokumentasi roadmap untuk phase 3 lanjutan `docs\ROADMAPS\PHASE_3_EXTENSIONS.md` untuk mengisi gap critical, medium, dan low priority yang ada pada phase 1, 2:

# Phase 3 Extensions
1. Untuk ✅ PHASE 1: Multi-Tenant Foundation - 95% COMPLETE:
   * Perbaiki semua hal yang Tidak Sesuai/Gap:
      - ⚠️ Model structure berbeda: Roadmap menggunakan spatie/laravel-multitenancy tapi implementasi menggunakan custom approach dengan *EloquentModel pattern
      - ⚠️ UUID vs ID: Roadmap spesifik UUID primary keys, implementasi pakai auto-increment ID + UUID fields

2. Untuk ✅ PHASE 2: Authentication & Authorization - 90% COMPLETE:

  📊 Detailed Gap Analysis:
  🔴 CRITICAL Missing (Blocking for Production):
  - Password Reset - Essential untuk user self-service
  - Email Verification - Security requirement untuk account validation
  - User Registration - Needed untuk onboarding new users

  🔴 HIGH Priority Missing:
  - Login Audit Trail - Security compliance requirement
  - Session Management - Multi-device/concurrent session handling

  🟡 MEDIUM Priority Missing:
  - 2FA Implementation - Enhanced security for enterprise clients
  - Account Recovery - Alternative recovery methods

Missing for Full Production:

- Self-service user management (reset, verification, registration)
- Audit & compliance features (logs, session tracking)
- Enhanced security (2FA, device management)
 
3. Fix Gap Analysis & Missing Implementation

  🔴 CRITICAL GAPS (Tidak Sesuai Roadmap):
  Payment & Financial Management (PHASE 3 Extension Required)
  ❌ Payment Refund System - Test failures menunjukkan fitur ini belum diimplementasi
  ❌ Invoice Generation
  ❌ Billing Cycles
  ❌ Financial Reporting

  🟡 MEDIUM GAPS:
  Shipping & Logistics
  ❌ Shipping Methods & Rates
  ❌ Address Management
  ❌ Tracking System

  File & Media Management
  ❌ File Upload System
  ❌ Media Library
  ❌ Document Management

  🟢 LOW PRIORITY (Nice to Have):
  Communication System Enhancement
  ❌ Email Templates
  ❌ SMS Templates
  ❌ Notification History

  Advanced Business Features
  ❌ Coupon System
  ❌ Loyalty Programs
  ❌ Review & Rating System