# ==============================================================================
# PLATFORM PRODUCT ENDPOINTS  
# ==============================================================================
# Platform-level product management for super admins

/platform/products:
  get:
    tags:
    - Platform Product Management
    summary: Get All Products Across Tenants (Platform)
    description: 'Platform admin endpoint to view products across all tenants for monitoring and management.
    
      **Platform Features:**
      - Cross-tenant product visibility
      - Global product analytics
      - Tenant-specific filtering
      - Compliance monitoring
      - Platform-level insights'
    operationId: getPlatformProducts
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      description: Filter by specific tenant
    - name: search
      in: query
      schema:
        type: string
      description: Global search across all tenant products
    - name: status
      in: query
      schema:
        type: string
        enum:
        - draft
        - published
        - archived
      description: Filter by product status
    - name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    - name: per_page
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    responses:
      '200':
        description: Platform products retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                      - $ref: '../../components/schemas.yaml#/Product'
                      - type: object
                        properties:
                          tenant_info:
                            type: object
                            properties:
                              tenant_id:
                                type: string
                                format: uuid
                              tenant_name:
                                type: string
                              tenant_slug:
                                type: string
                  meta:
                    type: object
                    properties:
                      pagination:
                        $ref: '../../components/schemas.yaml#/PaginationInfo'
                      tenant_count:
                        type: integer
                      total_products:
                        type: integer
      '401':
        $ref: '../../components/responses.yaml#/Unauthorized'
      '403':
        $ref: '../../components/responses.yaml#/Forbidden'

/platform/products/{id}:
  get:
    tags:
    - Platform Product Management
    summary: Get Product Details (Platform)
    description: Platform admin view of specific product with tenant context
    operationId: getPlatformProduct
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Product ID
    responses:
      '200':
        description: Product retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    allOf:
                    - $ref: '../../components/schemas.yaml#/Product'
                    - type: object
                      properties:
                        tenant_info:
                          type: object
                          properties:
                            tenant_id:
                              type: string
                              format: uuid
                            tenant_name:
                              type: string
                            tenant_slug:
                              type: string
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/platform/admin/products:
  get:
    tags:
    - Platform Product Management
    summary: Get All Products Across Tenants (Platform Admin)
    description: 'Platform admin endpoint to manage products across all tenants for full visibility and administrative control.
    
      **Platform Admin Features:**
      - Cross-tenant product management
      - Full CRUD operations
      - Advanced filtering and sorting
      - Bulk action support
      - Complete product analytics'
    operationId: getPlatformAdminProducts
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      description: Filter by specific tenant
    - name: search
      in: query
      schema:
        type: string
      description: Global search across all tenant products
    - name: status
      in: query
      schema:
        type: string
        enum:
        - draft
        - published
        - archived
      description: Filter by product status
    - name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    - name: per_page
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    - name: sort
      in: query
      schema:
        type: string
        enum:
        - name
        - price
        - created_at
        - updated_at
        - stock_quantity
        default: created_at
    - name: order
      in: query
      schema:
        type: string
        enum:
        - asc
        - desc
        default: desc
    responses:
      '200':
        description: Platform products list retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                      - $ref: '../../components/schemas.yaml#/Product'
                      - type: object
                        properties:
                          tenant_info:
                            type: object
                            properties:
                              tenant_id:
                                type: string
                                format: uuid
                              tenant_name:
                                type: string
                              tenant_slug:
                                type: string
                  meta:
                    type: object
                    properties:
                      pagination:
                        $ref: '../../components/schemas.yaml#/PaginationInfo'
                      summary:
                        $ref: '../../components/schemas.yaml#/ProductsSummary'
      '401':
        $ref: '../../components/responses.yaml#/Unauthorized'
      '403':
        $ref: '../../components/responses.yaml#/Forbidden'
  post:
    tags:
    - Platform Product Management
    summary: Create Product (Platform Admin)
    description: 'Create a new product at platform level with tenant context.
    
      **Business Workflow:**
      - Auto-generate slug if not provided
      - Set default production type based on tenant configuration
      - Initialize customization options for etching workflow
      - Create audit trail entry
    
      **Validation:**
      - Unique slug per tenant
      - Valid category assignment
      - Proper price/stock requirements based on production type'
    operationId: createPlatformProduct
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      required: true
      description: Target tenant ID
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/CreateProductRequest'
    responses:
      '201':
        description: Product created successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
      '400':
        $ref: '../../components/responses.yaml#/ValidationError'
      '422':
        $ref: '../../components/responses.yaml#/ValidationError'

/platform/admin/products/{id}:
  get:
    tags:
    - Platform Product Management
    summary: Get Product Details (Platform Admin)
    description: Get complete product information for platform administrative purposes with tenant context.
    operationId: getPlatformAdminProduct
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Product ID
    responses:
      '200':
        description: Product details retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    allOf:
                    - $ref: '../../components/schemas.yaml#/Product'
                    - type: object
                      properties:
                        tenant_info:
                          type: object
                          properties:
                            tenant_id:
                              type: string
                              format: uuid
                            tenant_name:
                              type: string
                            tenant_slug:
                              type: string
      '404':
        $ref: '../../components/responses.yaml#/NotFound'
  put:
    tags:
    - Platform Product Management
    summary: Update Product (Platform Admin)
    description: "Update existing product at platform level with validation and business rule enforcement.\n\n**Business Rules:**\n- Status transitions: draft ↔ published ↔ archived\n- Price requirements based on production type\n- Slug uniqueness validation\n- Audit trail creation\n"
    operationId: updatePlatformProduct
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/UpdateProductRequest'
    responses:
      '200':
        description: Product updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
      '400':
        $ref: '../../components/responses.yaml#/ValidationError'
      '404':
        $ref: '../../components/responses.yaml#/NotFound'
      '422':
        $ref: '../../components/responses.yaml#/ValidationError'
  delete:
    tags:
    - Platform Product Management
    summary: Delete Product (Platform Admin - Soft Delete)
    description: 'Soft delete product by setting deleted_at timestamp.
    
      **Business Logic:**
      - Product remains in database but hidden from listings
      - Can be restored via restore endpoint
      - Order history references remain intact'
    operationId: deletePlatformProduct
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    responses:
      '204':
        description: Product deleted successfully
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/platform/admin/products/{id}/restore:
  post:
    tags:
    - Platform Product Management
    summary: Restore Deleted Product (Platform Admin)
    description: Restore a soft-deleted product by clearing deleted_at timestamp at platform level.
    operationId: restorePlatformProduct
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    responses:
      '200':
        description: Product restored successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/platform/admin/products/bulk:
  post:
    tags:
    - Platform Product Management
    summary: Bulk Product Actions (Platform Admin)
    description: 'Perform bulk actions on multiple products across all tenants.
    
      **Available Actions:**
      - publish: Set status to published
      - unpublish: Set status to draft
      - archive: Set status to archived
      - delete: Soft delete products
      - restore: Restore deleted products
      - feature: Set featured flag
      - unfeature: Remove featured flag'
    operationId: bulkPlatformProductActions
    security:
    - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/BulkProductRequest'
    responses:
      '200':
        description: Bulk action completed successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      processed:
                        type: integer
                        description: Number of products processed
                      failed:
                        type: integer
                        description: Number of failed operations
                      errors:
                        type: array
                        items:
                          type: object
                          properties:
                            product_id:
                              type: string
                            error:
                              type: string

/platform/admin/products/categories:
  get:
    tags:
    - Platform Category Management
    summary: Get Product Categories (Platform Admin)
    description: Get all product categories across all tenants including inactive ones for administration.
    operationId: getPlatformAdminCategories
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      description: Filter by specific tenant
    - name: include_inactive
      in: query
      schema:
        type: boolean
        default: false
      description: Include inactive categories
    responses:
      '200':
        description: Categories retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                      - $ref: '../../components/schemas.yaml#/ProductCategory'
                      - type: object
                        properties:
                          tenant_info:
                            type: object
                            properties:
                              tenant_id:
                                type: string
                                format: uuid
                              tenant_name:
                                type: string
  post:
    tags:
    - Platform Category Management
    summary: Create Product Category (Platform Admin)
    description: Create a new product category at platform level with tenant context.
    operationId: createPlatformCategory
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      required: true
      description: Target tenant ID
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/CreateCategoryRequest'
    responses:
      '201':
        description: Category created successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/ProductCategory'

/platform/admin/products/categories/{id}:
  put:
    tags:
    - Platform Category Management
    summary: Update Product Category (Platform Admin)
    description: Update product category information and hierarchy at platform level.
    operationId: updatePlatformCategory
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/UpdateCategoryRequest'
    responses:
      '200':
        description: Category updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/ProductCategory'
  delete:
    tags:
    - Platform Category Management
    summary: Delete Product Category (Platform Admin)
    description: 'Delete product category with proper handling of child categories and assigned products.
    
      **Business Logic:**
      - Cannot delete category with child categories
      - Products in deleted category become uncategorized (category_id = null)
      - Cascade delete handling for hierarchical structure'
    operationId: deletePlatformCategory
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    responses:
      '204':
        description: Category deleted successfully
      '400':
        description: Cannot delete category with child categories
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/platform/admin/products/{id}/vendor-pricing:
  post:
    tags:
    - Platform Product Business Workflow
    summary: Update Vendor Pricing (Platform Admin)
    description: 'Update vendor pricing information for products with vendor production type at platform level.
    
      **Business Logic:**
      - Only applicable for production_type = ''vendor''
      - Updates vendor_price and markup_percentage
      - Recalculates customer pricing if markup is set
      - Creates pricing history for audit trail'
    operationId: updatePlatformVendorPricing
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
            - vendor_price
            properties:
              vendor_price:
                type: number
                format: decimal
                minimum: 0
                description: Vendor quoted price
              markup_percentage:
                type: number
                format: decimal
                minimum: 0
                maximum: 100
                description: Broker markup percentage
              effective_date:
                type: string
                format: date
                description: Price effective date
              notes:
                type: string
                description: Pricing notes
    responses:
      '200':
        description: Vendor pricing updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      vendor_price:
                        type: number
                        format: decimal
                      markup_percentage:
                        type: number
                        format: decimal
                      calculated_customer_price:
                        type: number
                        format: decimal
                      profit_margin:
                        type: number
                        format: decimal

/platform/admin/products/{id}/stock:
  put:
    tags:
    - Platform Product Business Workflow
    summary: Update Product Stock (Platform Admin)
    description: 'Update product stock levels at platform level with audit trail and notifications.
    
      **Features:**
      - Stock adjustment tracking
      - Low stock alerts
      - Automatic out-of-stock status updates
      - Integration with order management'
    operationId: updatePlatformProductStock
    security:
    - bearerAuth: []
    parameters:
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
            - stock_quantity
            properties:
              stock_quantity:
                type: integer
                minimum: 0
                description: New stock quantity
              adjustment_type:
                type: string
                enum:
                - restock
                - sale
                - adjustment
                - damage
                description: Type of stock adjustment
              notes:
                type: string
                description: Adjustment notes
    responses:
      '200':
        description: Stock updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      previous_stock:
                        type: integer
                      new_stock:
                        type: integer
                      adjustment_amount:
                        type: integer
                      in_stock:
                        type: boolean
                      low_stock_alert:
                        type: boolean

/platform/admin/products/quotation-eligible:
  get:
    tags:
    - Platform Product Business Workflow
    summary: Get Quotation Eligible Products (Platform Admin)
    description: 'Retrieve products that are eligible for quotation requests at platform level.
    
      **Business Logic:**
      - Products with quotation_required = true
      - Products with production_type = ''vendor''
      - Products with hidden pricing (price = null)
      - Includes vendor information and specifications'
    operationId: getPlatformQuotationEligibleProducts
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      description: Optional tenant filtering
    - name: category_id
      in: query
      schema:
        type: string
        format: uuid
    - name: vendor_id
      in: query
      schema:
        type: string
        format: uuid
    - name: search
      in: query
      schema:
        type: string
    responses:
      '200':
        description: Quotation eligible products retrieved
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                      - $ref: '../../components/schemas.yaml#/Product'
                      - type: object
                        properties:
                          tenant_info:
                            type: object
                            properties:
                              tenant_id:
                                type: string
                                format: uuid
                              tenant_name:
                                type: string
                          quotation_info:
                            type: object
                            properties:
                              requires_vendor_quote:
                                type: boolean
                              estimated_lead_time:
                                type: string
                              complexity_level:
                                type: string
                                enum:
                                - simple
                                - moderate
                                - complex

/platform/products/analytics/dashboard:
  get:
    tags:
    - Platform Product Analytics
    summary: Get Products Dashboard Analytics (Platform)
    description: 'Retrieve comprehensive product analytics across all tenants for dashboard display.
    
      **Metrics Included:**
      - Product status distribution
      - Tenant-wide category performance
      - Stock levels and alerts
      - Recent activity summary across tenants
      - Popular products and trends'
    operationId: getPlatformProductsDashboard
    security:
    - bearerAuth: []
    parameters:
    - name: tenant_id
      in: query
      schema:
        type: string
        format: uuid
      description: Optional tenant filtering
    - name: period
      in: query
      schema:
        type: string
        enum:
        - 7d
        - 30d
        - 90d
        - 1y
        default: 30d
      description: Analytics period
    responses:
      '200':
        description: Dashboard analytics retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      summary:
                        $ref: '../../components/schemas.yaml#/ProductsSummary'
                      recent_products:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                            status:
                              type: string
                            created_at:
                              type: string
                              format: date-time
                            tenant_id:
                              type: string
                              format: uuid
                      low_stock_alerts:
                        type: array
                        items:
                          type: object
                          properties:
                            product_id:
                              type: string
                              format: uuid
                            name:
                              type: string
                            current_stock:
                              type: integer
                            min_order:
                              type: integer
                            tenant_id:
                              type: string
                              format: uuid
                      category_performance:
                        type: array
                        items:
                          type: object
                          properties:
                            category_name:
                              type: string
                            product_count:
                              type: integer
                            total_value:
                              type: number
                            tenant_id:
                              type: string
                              format: uuid

/platform/products/analytics/global:
  get:
    tags:
    - Platform Product Analytics
    summary: Get Global Product Analytics (Platform)
    description: 'Platform-wide product analytics across all tenants.
    
      **Global Metrics:**
      - Total products across all tenants
      - Product distribution by tenant
      - Status distribution
      - Category performance
      - Growth trends'
    operationId: getPlatformProductAnalytics
    security:
    - bearerAuth: []
    parameters:
    - name: period
      in: query
      schema:
        type: string
        enum:
        - 7d
        - 30d
        - 90d
        - 1y
        default: 30d
      description: Analytics period
    - name: group_by_tenant
      in: query
      schema:
        type: boolean
        default: true
      description: Group analytics by tenant
    responses:
      '200':
        description: Global analytics retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      global_summary:
                        type: object
                        properties:
                          total_products:
                            type: integer
                          total_tenants:
                            type: integer
                          avg_products_per_tenant:
                            type: number
                      tenant_breakdown:
                        type: array
                        items:
                          type: object
                          properties:
                            tenant_id:
                              type: string
                            tenant_name:
                              type: string
                            product_count:
                              type: integer
                            status_distribution:
                              type: object
                      category_performance:
                        type: array
                        items:
                          type: object

# ==============================================================================
# TENANT PRODUCT ENDPOINTS
# ==============================================================================
# Public product catalog endpoints for tenant customers and frontend

/tenant/products:
  get:
    tags:
    - Tenant Product Catalog
    summary: Get Products Catalog (Tenant)
    description: 'Retrieve public product catalog with filtering, search, and pagination for tenant customers.


      **Business Logic:**

      - Only shows published products (status = ''published'')

      - Price visibility based on production type and quotation requirements

      - Supports category-based filtering and hierarchical navigation

      - Full-text search across name, description, and tags

      - SEO-optimized product listings


      **Features:**

      - Multi-category filtering with hierarchical support

      - Price range filtering (when prices are visible)

      - Tag-based filtering and search

      - Stock availability filtering

      - Responsive pagination with meta information

      '
    operationId: getTenantProductsCatalog
    security: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - $ref: '../../components/parameters.yaml#/AcceptLanguage'
    - name: search
      in: query
      schema:
        type: string
      description: Search term for products
      example: brass etching
    - name: category
      in: query
      schema:
        type: string
      description: Category slug for filtering
      example: plakat-awards
    - name: tags
      in: query
      schema:
        type: array
        items:
          type: string
      style: form
      explode: false
      description: Filter by tags
    - name: price_min
      in: query
      schema:
        type: number
        format: decimal
      description: Minimum price filter
    - name: price_max
      in: query
      schema:
        type: number
        format: decimal
      description: Maximum price filter
    - name: in_stock
      in: query
      schema:
        type: boolean
      description: Filter by stock availability
    - name: featured
      in: query
      schema:
        type: boolean
      description: Show only featured products
    - name: sort
      in: query
      schema:
        type: string
        enum:
        - name
        - price
        - created_at
        - featured
        default: featured
      description: Sort order
    - name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
      description: Page number for pagination
    - name: per_page
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 48
        default: 24
      description: Products per page
    responses:
      '200':
        description: Products catalog retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      products:
                        type: array
                        items:
                          $ref: '../../components/schemas.yaml#/PublicProduct'
                      categories:
                        type: array
                        items:
                          $ref: '../../components/schemas.yaml#/CategoryFilter'
                  meta:
                    type: object
                    properties:
                      pagination:
                        $ref: '../../components/schemas.yaml#/PaginationInfo'
                      filters_applied:
                        type: object
                        description: Currently active filters
            examples:
              success:
                summary: Product catalog with etching products
                value:
                  success: true
                  message: Products catalog retrieved successfully
                  data:
                    products:
                    - id: 550e8400-e29b-41d4-a716-446655440000
                      name: Custom Brass Etching Plate
                      slug: custom-brass-etching-plate
                      description: Premium brass plate with custom etching
                      images:
                      - https://cdn.example.com/brass-1.jpg
                      category:
                        id: 660f9500-f39c-52e5-b827-557766551111
                        name: Plakat & Awards
                        slug: plakat-awards
                      tags:
                      - brass
                      - etching
                      - custom
                      price_display:
                        show_price: false
                        quotation_required: true
                      min_order: 5
                      in_stock: true
                      customization_options:
                        bahan_options:
                        - Kuningan
                        - Tembaga
                        - Stainless
                        kualitas_options:
                        - standard
                        - premium
                    categories:
                    - id: 660f9500-f39c-52e5-b827-557766551111
                      name: Plakat & Awards
                      product_count: 25
                  meta:
                    pagination:
                      current_page: 1
                      per_page: 24
                      total: 120
                      last_page: 5
      '400':
        $ref: '../../components/responses.yaml#/ValidationError'

/tenant/products/{slug}:
  get:
    tags:
    - Tenant Product Catalog
    summary: Get Product Details (Tenant)
    description: 'Retrieve detailed product information by slug for tenant product detail page.


      **Business Logic:**

      - Only shows published products to public

      - Price visibility based on production_type and quotation_required

      - Full customization options and specifications

      - Related products suggestions

      - SEO metadata for page optimization

      '
    operationId: getTenantProductBySlug
    security: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - $ref: '../../components/parameters.yaml#/AcceptLanguage'
    - name: slug
      in: path
      required: true
      schema:
        type: string
      description: Product URL slug
      example: custom-brass-etching-plate
    responses:
      '200':
        description: Product details retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/PublicProduct'
            examples:
              brass_plate_product:
                summary: Brass plate product details
                value:
                  success: true
                  message: Product details retrieved successfully
                  data:
                    id: 550e8400-e29b-41d4-a716-446655440000
                    name: Custom Brass Etching Plate
                    slug: custom-brass-etching-plate
                    description: Premium brass plate with custom etching for awards
                    long_description: <p>Premium brass plate with <strong>precision
                      etching</strong>...</p>
                    images:
                    - https://cdn.example.com/brass-1.jpg
                    - https://cdn.example.com/brass-2.jpg
                    price_display:
                      show_price: false
                      quotation_required: true
                    customization_options:
                      bahan_options:
                      - Kuningan
                      - Tembaga
                      - Stainless Steel
                      kualitas_options:
                      - standard
                      - premium
                      ketebalan_options:
                      - 2mm
                      - 3mm
                      - 5mm
                      ukuran_options:
                      - 15x20
                      - 20x30
                      - 30x40
                      custom_options:
                      - name: warna_text
                        label: Warna Text
                        type: color
                        required: true
                        default: '#000000'
                    specifications:
                    - key: Material
                      value: Premium Grade Brass
                    - key: Finishing
                      value: Polished
                    seo_title: Custom Brass Etching Plate - Premium Quality
                    seo_description: Premium brass plates with precision etching...
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/tenant/products/categories:
  get:
    tags:
    - Tenant Product Catalog
    summary: Get Product Categories (Tenant)
    description: 'Retrieve hierarchical product categories for navigation and filtering in tenant context.


      **Features:**

      - Hierarchical category tree structure

      - Product counts per category

      - Only active categories

      - Responsive to tenant configuration

      '
    operationId: getTenantProductCategories
    security: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    responses:
      '200':
        description: Categories retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '../../components/schemas.yaml#/CategoryFilter'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                title: Sample Products Title
                created_at: '2025-11-13T18:58:00Z'
                updated_at: '2025-11-13T18:58:00Z'
              message: Products retrieved successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8

# ==============================================================================
# TENANT ADMIN PRODUCT ENDPOINTS
# ==============================================================================
# Administrative product management endpoints for tenant admins

/tenant/admin/products:
  get:
    tags:
    - Tenant Product Management
    summary: Get Products List (Tenant Admin)
    description: 'Administrative endpoint for tenant admins to manage products with full access to all statuses.


      **Features:**

      - View all tenant products regardless of status

      - Advanced filtering and sorting options

      - Bulk action support

      - Export capabilities

      - Performance optimized pagination

      '
    operationId: getTenantAdminProducts
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
    - name: per_page
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
    - name: search
      in: query
      schema:
        type: string
      description: Search in name, description, tags
    - name: category_id
      in: query
      schema:
        type: string
        format: uuid
      description: Filter by category
    - name: status
      in: query
      schema:
        type: string
        enum:
        - draft
        - published
        - archived
      description: Filter by status
    - name: featured
      in: query
      schema:
        type: boolean
      description: Filter by featured status
    - name: production_type
      in: query
      schema:
        type: string
        enum:
        - internal
        - vendor
      description: Filter by production type
    - name: in_stock
      in: query
      schema:
        type: boolean
      description: Filter by stock availability
    - name: sort
      in: query
      schema:
        type: string
        enum:
        - name
        - price
        - created_at
        - updated_at
        - stock_quantity
        default: created_at
    - name: order
      in: query
      schema:
        type: string
        enum:
        - asc
        - desc
        default: desc
    responses:
      '200':
        description: Products list retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '../../components/schemas.yaml#/Product'
                  meta:
                    type: object
                    properties:
                      pagination:
                        $ref: '../../components/schemas.yaml#/PaginationInfo'
                      summary:
                        $ref: '../../components/schemas.yaml#/ProductsSummary'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                title: Sample Products Title
                created_at: '2025-11-13T18:58:00Z'
                updated_at: '2025-11-13T18:58:00Z'
              message: Products retrieved successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
      '401':
        $ref: '../../components/responses.yaml#/Unauthorized'
      '403':
        $ref: '../../components/responses.yaml#/Forbidden'
  post:
    tags:
    - Tenant Product Management
    summary: Create New Product (Tenant Admin)
    description: 'Create a new product in tenant context with full specification and customization options.


      **Business Workflow:**

      - Auto-generate slug if not provided

      - Set default production type based on tenant configuration

      - Initialize customization options for etching workflow

      - Create audit trail entry


      **Validation:**

      - Unique slug per tenant

      - Valid category assignment

      - Proper price/stock requirements based on production type

      '
    operationId: createTenantProduct
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/CreateProductRequest'
          examples:
            etching_product:
              summary: Create etching product with vendor production
              value:
                name: Custom Brass Etching Plate Premium
                description: Premium brass plate with precision custom etching
                long_description: <p>Premium brass plate with precision etching technology...</p>
                category_id: 660f9500-f39c-52e5-b827-557766551111
                tags:
                - brass
                - etching
                - custom
                - premium
                images:
                - https://cdn.example.com/brass-1.jpg
                - https://cdn.example.com/brass-2.jpg
                production_type: vendor
                bahan_options:
                - Kuningan
                - Tembaga
                - Stainless Steel
                kualitas_options:
                - standard
                - premium
                ketebalan_options:
                - 2mm
                - 3mm
                - 5mm
                ukuran_options:
                - 15x20
                - 20x30
                - 30x40
                custom_options:
                - name: warna_text
                  label: Warna Text
                  type: color
                  required: true
                  default: '#000000'
                specifications:
                - key: Material
                  value: Premium Grade Brass
                - key: Finishing
                  value: Polished
                status: draft
    responses:
      '201':
        description: Product created successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                created_at: '2025-11-13T18:58:00Z'
              message: Products created successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
      '400':
        $ref: '../../components/responses.yaml#/ValidationError'
      '422':
        $ref: '../../components/responses.yaml#/ValidationError'

/tenant/admin/products/{id}:
  get:
    tags:
    - Tenant Product Management
    summary: Get Product Details (Tenant Admin)
    description: Get complete product information for tenant administrative purposes.
    operationId: getTenantAdminProduct
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Product ID
    responses:
      '200':
        description: Product details retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                title: Sample Products Title
                created_at: '2025-11-13T18:58:00Z'
                updated_at: '2025-11-13T18:58:00Z'
              message: Products retrieved successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
      '404':
        $ref: '../../components/responses.yaml#/NotFound'
  put:
    tags:
    - Tenant Product Management
    summary: Update Product (Tenant Admin)
    description: "Update existing product with validation and business rule enforcement.\n\
      \n**Business Rules:**\n- Status transitions: draft ↔ published ↔ archived\n\
      - Price requirements based on production type\n- Slug uniqueness validation\n\
      - Audit trail creation\n"
    operationId: updateTenantProduct
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/UpdateProductRequest'
          example:
            title: Updated Products Title
            description: Updated description for products
            is_active: true
    responses:
      '200':
        description: Product updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              message: Products puted successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
      '400':
        $ref: '../../components/responses.yaml#/ValidationError'
      '404':
        $ref: '../../components/responses.yaml#/NotFound'
      '422':
        $ref: '../../components/responses.yaml#/ValidationError'
  delete:
    tags:
    - Tenant Product Management
    summary: Delete Product (Tenant Admin - Soft Delete)
    description: 'Soft delete product by setting deleted_at timestamp.


      **Business Logic:**

      - Product remains in database but hidden from listings

      - Can be restored via restore endpoint

      - Order history references remain intact

      '
    operationId: deleteTenantProduct
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    responses:
      '204':
        description: Product deleted successfully
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/tenant/admin/products/{id}/restore:
  post:
    tags:
    - Tenant Product Management
    summary: Restore Deleted Product (Tenant Admin)
    description: Restore a soft-deleted product by clearing deleted_at timestamp in tenant context.
    operationId: restoreTenantProduct
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    responses:
      '200':
        description: Product restored successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/Product'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              message: Products posted successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/tenant/admin/products/bulk:
  post:
    tags:
    - Tenant Product Management
    summary: Bulk Product Actions (Tenant Admin)
    description: 'Perform bulk actions on multiple tenant products simultaneously.


      **Available Actions:**

      - publish: Set status to published

      - unpublish: Set status to draft

      - archive: Set status to archived

      - delete: Soft delete products

      - restore: Restore deleted products

      - feature: Set featured flag

      - unfeature: Remove featured flag

      '
    operationId: bulkTenantProductActions
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/BulkProductRequest'
          examples:
            publish_products:
              summary: Publish multiple products
              value:
                action: publish
                product_ids:
                - 550e8400-e29b-41d4-a716-446655440000
                - 660f9500-f39c-52e5-b827-557766551111
    responses:
      '200':
        description: Bulk action completed successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      processed:
                        type: integer
                        description: Number of products processed
                      failed:
                        type: integer
                        description: Number of failed operations
                      errors:
                        type: array
                        items:
                          type: object
                          properties:
                            product_id:
                              type: string
                            error:
                              type: string
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              message: Products posted successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'

/tenant/admin/products/categories:
  get:
    tags:
    - Tenant Category Management
    summary: Get Product Categories (Tenant Admin)
    description: Get all tenant product categories including inactive ones for administration.
    operationId: getTenantAdminCategories
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: include_inactive
      in: query
      schema:
        type: boolean
        default: false
      description: Include inactive categories
    responses:
      '200':
        description: Categories retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '../../components/schemas.yaml#/ProductCategory'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                title: Sample Products Title
                created_at: '2025-11-13T18:58:00Z'
                updated_at: '2025-11-13T18:58:00Z'
              message: Products retrieved successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
  post:
    tags:
    - Tenant Category Management
    summary: Create Product Category (Tenant Admin)
    description: Create a new product category with optional parent-child relationship in tenant context.
    operationId: createTenantCategory
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/CreateCategoryRequest'
          examples:
            main_category:
              summary: Create main category
              value:
                name: Plakat & Awards
                description: Custom awards, trophies, and recognition plaques
                icon: Award
            sub_category:
              summary: Create sub-category
              value:
                name: Brass Plaques
                parent_id: 660f9500-f39c-52e5-b827-557766551111
                description: Premium brass plaques with custom etching
    responses:
      '201':
        description: Category created successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/ProductCategory'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                created_at: '2025-11-13T18:58:00Z'
              message: Products created successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'

/tenant/admin/products/categories/{id}:
  put:
    tags:
    - Tenant Category Management
    summary: Update Product Category (Tenant Admin)
    description: Update tenant product category information and hierarchy.
    operationId: updateTenantCategory
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../../components/schemas.yaml#/UpdateCategoryRequest'
          example:
            title: Updated Products Title
            description: Updated description for products
            is_active: true
    responses:
      '200':
        description: Category updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    $ref: '../../components/schemas.yaml#/ProductCategory'
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              message: Products puted successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
  delete:
    tags:
    - Tenant Category Management
    summary: Delete Product Category (Tenant Admin)
    description: 'Delete product category with proper handling of child categories
      and assigned products.


      **Business Logic:**

      - Cannot delete category with child categories

      - Products in deleted category become uncategorized (category_id = null)

      - Cascade delete handling for hierarchical structure

      '
    operationId: deleteTenantCategory
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    responses:
      '204':
        description: Category deleted successfully
      '400':
        description: Cannot delete category with child categories
      '404':
        $ref: '../../components/responses.yaml#/NotFound'

/tenant/admin/products/analytics/dashboard:
  get:
    tags:
    - Tenant Product Analytics
    summary: Get Products Dashboard Analytics (Tenant Admin)
    description: 'Retrieve comprehensive tenant product analytics for dashboard display.


      **Metrics Included:**

      - Product status distribution

      - Category performance

      - Stock levels and alerts

      - Recent activity summary

      - Popular products and trends

      '
    operationId: getTenantProductsDashboard
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: period
      in: query
      schema:
        type: string
        enum:
        - 7d
        - 30d
        - 90d
        - 1y
        default: 30d
      description: Analytics period
    responses:
      '200':
        description: Dashboard analytics retrieved successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      summary:
                        $ref: '../../components/schemas.yaml#/ProductsSummary'
                      recent_products:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            name:
                              type: string
                            status:
                              type: string
                            created_at:
                              type: string
                              format: date-time
                      low_stock_alerts:
                        type: array
                        items:
                          type: object
                          properties:
                            product_id:
                              type: string
                              format: uuid
                            name:
                              type: string
                            current_stock:
                              type: integer
                            min_order:
                              type: integer
                      category_performance:
                        type: array
                        items:
                          type: object
                          properties:
                            category_name:
                              type: string
                            product_count:
                              type: integer
                            total_value:
                              type: number
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                title: Sample Products Title
                created_at: '2025-11-13T18:58:00Z'
                updated_at: '2025-11-13T18:58:00Z'
              message: Products retrieved successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8

/tenant/admin/products/analytics/export:
  get:
    tags:
    - Tenant Product Analytics
    summary: Export Products Data (Tenant Admin)
    description: 'Export tenant products data in various formats for reporting and analysis.


      **Export Formats:**

      - CSV: Product listings with specifications

      - Excel: Multi-sheet with categories and analytics

      - JSON: Full data export for system integration

      '
    operationId: exportTenantProducts
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: format
      in: query
      schema:
        type: string
        enum:
        - csv
        - excel
        - json
        default: csv
    - name: include_specifications
      in: query
      schema:
        type: boolean
        default: true
    - name: include_analytics
      in: query
      schema:
        type: boolean
        default: false
    - name: status
      in: query
      schema:
        type: string
        enum:
        - draft
        - published
        - archived
      description: Filter by product status
    responses:
      '200':
        description: Export file generated successfully
        content:
          text/csv:
            schema:
              type: string
              format: binary
          application/vnd.openxmlformats-officedocument.spreadsheetml.sheet:
            schema:
              type: string
              format: binary
          application/json:
            schema:
              type: object

/tenant/admin/products/{id}/vendor-pricing:
  post:
    tags:
    - Tenant Product Business Workflow
    summary: Update Vendor Pricing (Tenant Admin)
    description: 'Update vendor pricing information for tenant products with vendor production
      type.


      **Business Logic:**

      - Only applicable for production_type = ''vendor''

      - Updates vendor_price and markup_percentage

      - Recalculates customer pricing if markup is set

      - Creates pricing history for audit trail

      '
    operationId: updateTenantVendorPricing
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
            - vendor_price
            properties:
              vendor_price:
                type: number
                format: decimal
                minimum: 0
                description: Vendor quoted price
              markup_percentage:
                type: number
                format: decimal
                minimum: 0
                maximum: 100
                description: Broker markup percentage
              effective_date:
                type: string
                format: date
                description: Price effective date
              notes:
                type: string
                description: Pricing notes
          example:
            title: New Products Title
            description: Sample description for products
            is_active: true
    responses:
      '200':
        description: Vendor pricing updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      vendor_price:
                        type: number
                        format: decimal
                      markup_percentage:
                        type: number
                        format: decimal
                      calculated_customer_price:
                        type: number
                        format: decimal
                      profit_margin:
                        type: number
                        format: decimal
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              message: Products posted successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'

/tenant/admin/products/{id}/stock:
  put:
    tags:
    - Tenant Product Business Workflow
    summary: Update Product Stock (Tenant Admin)
    description: 'Update tenant product stock levels with audit trail and notifications.


      **Features:**

      - Stock adjustment tracking

      - Low stock alerts

      - Automatic out-of-stock status updates

      - Integration with order management

      '
    operationId: updateTenantProductStock
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
            - stock_quantity
            properties:
              stock_quantity:
                type: integer
                minimum: 0
                description: New stock quantity
              adjustment_type:
                type: string
                enum:
                - restock
                - sale
                - adjustment
                - damage
                description: Type of stock adjustment
              notes:
                type: string
                description: Adjustment notes
          example:
            title: Updated Products Title
            description: Updated description for products
            is_active: true
    responses:
      '200':
        description: Stock updated successfully
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: object
                    properties:
                      previous_stock:
                        type: integer
                      new_stock:
                        type: integer
                      adjustment_amount:
                        type: integer
                      in_stock:
                        type: boolean
                      low_stock_alert:
                        type: boolean
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
              message: Products puted successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'

/tenant/admin/products/quotation-eligible:
  get:
    tags:
    - Tenant Product Business Workflow
    summary: Get Quotation Eligible Products (Tenant Admin)
    description: 'Retrieve tenant products that are eligible for quotation requests.


      **Business Logic:**

      - Products with quotation_required = true

      - Products with production_type = ''vendor''

      - Products with hidden pricing (price = null)

      - Includes vendor information and specifications

      '
    operationId: getTenantQuotationEligibleProducts
    security:
    - bearerAuth: []
    parameters:
    - $ref: '../../components/parameters.yaml#/TenantHeader'
    - name: category_id
      in: query
      schema:
        type: string
        format: uuid
    - name: vendor_id
      in: query
      schema:
        type: string
        format: uuid
    - name: search
      in: query
      schema:
        type: string
    responses:
      '200':
        description: Quotation eligible products retrieved
        content:
          application/json:
            schema:
              allOf:
              - $ref: '../../components/schemas.yaml#/SuccessResponse'
              - type: object
                properties:
                  data:
                    type: array
                    items:
                      allOf:
                      - $ref: '../../components/schemas.yaml#/Product'
                      - type: object
                        properties:
                          quotation_info:
                            type: object
                            properties:
                              requires_vendor_quote:
                                type: boolean
                              estimated_lead_time:
                                type: string
                              complexity_level:
                                type: string
                                enum:
                                - simple
                                - moderate
                                - complex
            example:
              success: true
              data:
                id: 550e8400-e29b-41d4-a716-446655440000
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
                title: Sample Products Title
                created_at: '2025-11-13T18:58:00Z'
                updated_at: '2025-11-13T18:58:00Z'
              message: Products retrieved successfully
              meta:
                timestamp: '2025-11-13T18:58:00Z'
                tenant_id: 6ba7b810-9dad-11d1-80b4-00c04fd430c8