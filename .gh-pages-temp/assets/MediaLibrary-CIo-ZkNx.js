import{j as e}from"./ui-vendor-CzLWDOsI.js";import{r}from"./react-vendor-92AQlTAG.js";import{h as X,z as S,M as Y,B as n,F as k,G as M,H as b,N as z,I as A,C as j,O as _,S as T,q as L,r as E,s as I,t as o,E as ee,D as se,j as ae,k as le,l as re,m as te,n as ne,o as U,g as P,i as de,f as i}from"./index-CA1Fui7q.js";import{U as q}from"./upload-DcuZlmhL.js";import{F as B}from"./file-Bbbn6BNp.js";import{D as R}from"./download-DrC4LZTf.js";import"./three-vendor-CaHj5NkI.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=X("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),oe=[{id:"1",name:"award-plaque-1.jpg",type:"image",url:"/src/assets/products/award-plaque-1.jpg",size:245e3,uploadedAt:"2024-01-15",folder:"products"},{id:"2",name:"crystal-award-1.jpg",type:"image",url:"/src/assets/products/crystal-award-1.jpg",size:312e3,uploadedAt:"2024-01-14",folder:"products"},{id:"3",name:"glass-etching-1.jpg",type:"image",url:"/src/assets/products/glass-etching-1.jpg",size:198e3,uploadedAt:"2024-01-13",folder:"products"}];function ge(){const[g,O]=r.useState(""),[x,V]=r.useState("all"),[d,H]=r.useState("all"),[l,m]=r.useState(null);r.useState("grid");const[f,N]=r.useState(oe),[K,h]=r.useState(!1),[p,w]=r.useState(""),c=r.useRef(null),Q=f.filter(s=>{const a=s.name.toLowerCase().includes(g.toLowerCase()),t=x==="all"||s.type===x,u=d==="all"||s.folder===d;return a&&t&&u}),G=Array.from(new Set(f.map(s=>s.folder))),v=s=>s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":(s/(1024*1024)).toFixed(1)+" MB",W=s=>{const a=s.target.files;!a||a.length===0||(Array.from(a).forEach(t=>{const u=new FileReader;u.onload=Z=>{var F;const $={id:Date.now().toString()+Math.random(),name:t.name,type:t.type.startsWith("image/")?"image":"document",url:(F=Z.target)==null?void 0:F.result,size:t.size,uploadedAt:new Date().toISOString().split("T")[0],folder:d==="all"?"uploads":d};N(J=>[...J,$])},u.readAsDataURL(t)}),i.success("Files uploaded successfully!"),c.current&&(c.current.value=""))},y=s=>{N(a=>a.filter(t=>t.id!==s)),i.success("File deleted successfully")},C=()=>{if(!p.trim()){i.error("Please enter a folder name");return}i.success(`Folder "${p}" created successfully!`),w(""),h(!1)},D=s=>{const a=document.createElement("a");a.href=s.url,a.download=s.name,document.body.appendChild(a),a.click(),document.body.removeChild(a),i.success("Download started")};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Media Library"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your media files"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:c,type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:W,className:"hidden"}),e.jsxs(S,{open:K,onOpenChange:h,children:[e.jsx(Y,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(ce,{className:"mr-2 h-4 w-4"}),"New Folder"]})}),e.jsxs(k,{children:[e.jsxs(M,{children:[e.jsx(b,{children:"Create New Folder"}),e.jsx(z,{children:"Enter a name for the new folder"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(A,{placeholder:"Folder name",value:p,onChange:s=>w(s.target.value),onKeyDown:s=>s.key==="Enter"&&C()}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(n,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(n,{onClick:C,children:"Create Folder"})]})]})]})]}),e.jsxs(n,{onClick:()=>{var s;return(s=c.current)==null?void 0:s.click()},children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Upload Files"]})]})]}),e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(A,{placeholder:"Search files...",value:g,onChange:s=>O(s.target.value),className:"pl-10"})]})}),e.jsxs(T,{value:d,onValueChange:H,children:[e.jsx(L,{className:"w-[180px]",children:e.jsx(E,{placeholder:"Folder"})}),e.jsxs(I,{children:[e.jsx(o,{value:"all",children:"All Folders"}),G.map(s=>e.jsx(o,{value:s,children:s},s))]})]}),e.jsxs(T,{value:x,onValueChange:V,children:[e.jsx(L,{className:"w-[180px]",children:e.jsx(E,{placeholder:"Type"})}),e.jsxs(I,{children:[e.jsx(o,{value:"all",children:"All Types"}),e.jsx(o,{value:"image",children:"Images"}),e.jsx(o,{value:"document",children:"Documents"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[Q.map(s=>e.jsxs(j,{className:"group relative overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>m(s),children:[e.jsx("div",{className:"aspect-square bg-muted flex items-center justify-center",children:s.type==="image"?e.jsx("img",{src:s.url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx(B,{className:"h-16 w-16 text-muted-foreground"})}),e.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[e.jsx(n,{size:"icon",variant:"secondary",onClick:a=>{a.stopPropagation(),m(s)},children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsxs(se,{children:[e.jsx(ae,{asChild:!0,onClick:a=>a.stopPropagation(),children:e.jsx(n,{size:"icon",variant:"secondary",children:e.jsx(le,{className:"h-4 w-4"})})}),e.jsxs(re,{children:[e.jsx(te,{children:"Actions"}),e.jsx(ne,{}),e.jsxs(U,{onClick:a=>{a.stopPropagation(),D(s)},children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Download"]}),e.jsxs(U,{onClick:a=>{a.stopPropagation(),y(s.id)},className:"text-destructive",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx(de,{variant:"secondary",className:"text-xs",children:s.folder}),e.jsx("span",{className:"text-xs text-muted-foreground",children:v(s.size)})]})]})]},s.id)),e.jsxs(j,{className:"aspect-square border-2 border-dashed flex flex-col items-center justify-center cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{var s;return(s=c.current)==null?void 0:s.click()},children:[e.jsx(q,{className:"h-12 w-12 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload Files"})]})]}),e.jsx(S,{open:!!l,onOpenChange:()=>m(null),children:e.jsxs(k,{className:"max-w-4xl",children:[e.jsxs(M,{children:[e.jsx(b,{children:l==null?void 0:l.name}),e.jsxs(z,{children:["Uploaded on ",l&&new Date(l.uploadedAt).toLocaleDateString("id-ID")]})]}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-muted rounded-lg flex items-center justify-center p-8",children:l.type==="image"?e.jsx("img",{src:l.url,alt:l.name,className:"max-h-96 object-contain"}):e.jsx(B,{className:"h-32 w-32 text-muted-foreground"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"File Name"}),e.jsx("p",{className:"font-medium",children:l.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Type"}),e.jsx("p",{className:"font-medium",children:l.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Size"}),e.jsx("p",{className:"font-medium",children:v(l.size)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Folder"}),e.jsx("p",{className:"font-medium",children:l.folder})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-muted-foreground",children:"URL"}),e.jsx("p",{className:"font-mono text-xs bg-muted p-2 rounded",children:l.url})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsxs(n,{variant:"outline",onClick:()=>D(l),children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Download"]}),e.jsxs(n,{variant:"destructive",onClick:()=>{y(l.id),m(null)},children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]})}export{ge as default};
