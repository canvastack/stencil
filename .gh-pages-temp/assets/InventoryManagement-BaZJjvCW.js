import{j as e}from"./ui-vendor-CzLWDOsI.js";import{r as h}from"./react-vendor-92AQlTAG.js";import{a as o,L as y,C as k,D as L,b as n,I as i,B as j}from"./lazy-components-C_goLtCV.js";import{a4 as A,ah as w,P as T,z as M,F as K,G as R,H as P,J as E,A as d,f as N}from"./index-CA1Fui7q.js";import{T as v}from"./triangle-alert-Dz_K3Ww6.js";import{T as F}from"./trending-down-DMUE46Ti.js";import{S as V}from"./square-pen-DcGP5dFd.js";import"./three-vendor-CaHj5NkI.js";import"./refresh-cw-DtjR2wtF.js";const B=r=>[{accessorKey:"sku",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["SKU",e.jsx(d,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"productName",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Product Name",e.jsx(d,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"category",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Category",e.jsx(d,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"stock",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Stock",e.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{const l=s.getValue("stock"),m=s.getValue("minStock"),x=s.original.unit;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:l}),e.jsx("span",{className:"text-muted-foreground",children:x}),l>m?e.jsx(w,{className:"w-4 h-4 text-green-600"}):e.jsx(F,{className:"w-4 h-4 text-red-600"})]})}},{accessorKey:"minStock",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Min Stock",e.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{const l=s.getValue("minStock"),m=s.original.unit;return`${l} ${m}`}},{accessorKey:"location",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Location",e.jsx(d,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"lastUpdated",header:({column:s})=>e.jsxs(o,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:["Last Updated",e.jsx(d,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{const l=s.getValue("lastUpdated");return new Date(l).toLocaleDateString("id-ID")}},{id:"status",header:"Status",cell:({row:s})=>{const l=s.getValue("stock"),m=s.getValue("minStock");return l===0?e.jsx(j,{className:"bg-red-600",children:"Out of Stock"}):l<=m?e.jsx(j,{className:"bg-yellow-600",children:"Low Stock"}):e.jsx(j,{className:"bg-green-600",children:"In Stock"})}},{id:"actions",header:"Actions",cell:({row:s})=>{const l=s.original;return e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>r(l),children:e.jsx(V,{className:"w-4 h-4"})})}}],O=[{id:"1",productName:"Stainless Steel 304 Sheet",sku:"SS304-001",category:"Raw Material",stock:45,minStock:20,unit:"sheets",location:"Warehouse A - Rack 1",lastUpdated:"2024-01-15"},{id:"2",productName:"Brass Plate 2mm",sku:"BP-2MM-001",category:"Raw Material",stock:12,minStock:15,unit:"sheets",location:"Warehouse A - Rack 2",lastUpdated:"2024-01-14"},{id:"3",productName:"Crystal Glass Premium",sku:"CG-PRE-001",category:"Raw Material",stock:8,minStock:10,unit:"sheets",location:"Warehouse B - Rack 1",lastUpdated:"2024-01-13"},{id:"4",productName:"Etching Chemical Solution",sku:"ECS-001",category:"Consumables",stock:25,minStock:10,unit:"liters",location:"Chemical Storage",lastUpdated:"2024-01-12"},{id:"5",productName:"Aluminum Sheet 1mm",sku:"AL-1MM-001",category:"Raw Material",stock:35,minStock:15,unit:"sheets",location:"Warehouse A - Rack 3",lastUpdated:"2024-01-11"}];function Y(){const[r,s]=h.useState(O),[l,m]=h.useState(""),[x,g]=h.useState(!1),[u,S]=h.useState(null),[a,c]=h.useState({});r.filter(t=>t.productName.toLowerCase().includes(l.toLowerCase())||t.sku.toLowerCase().includes(l.toLowerCase())||t.category.toLowerCase().includes(l.toLowerCase()));const p=r.filter(t=>t.stock<=t.minStock),C=r.reduce((t,D)=>t+D.stock,0),b=t=>{S(t),c(t),g(!0)},f=()=>{S(null),c({productName:"",sku:"",category:"",stock:0,minStock:0,unit:"",location:""}),g(!0)},I=()=>{if(u)s(r.map(t=>t.id===u.id?{...t,...a,lastUpdated:new Date().toISOString().split("T")[0]}:t)),N.success("Item updated successfully");else{const t={id:Date.now().toString(),...a,lastUpdated:new Date().toISOString().split("T")[0]};s([...r,t]),N.success("Item added successfully")}g(!1)},U=[{label:"Total Items",value:r.length,icon:A,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950"},{label:"Low Stock Alert",value:p.length,icon:v,color:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-950"},{label:"Total Units",value:C,icon:w,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950"}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Inventory & Stock Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage raw materials and product stock"})]}),e.jsxs(o,{onClick:f,children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Add Item"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:U.map(t=>e.jsx(y,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t.label}),e.jsx("p",{className:"text-3xl font-bold mt-2",children:t.value})]}),e.jsx("div",{className:`p-3 rounded-lg ${t.bgColor}`,children:e.jsx(t.icon,{className:`w-6 h-6 ${t.color}`})})]})})},t.label))}),p.length>0&&e.jsx(k,{className:"p-4 border-yellow-500 bg-yellow-50 dark:bg-yellow-950",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[p.length," items are below minimum stock level"]})]})]})}),e.jsx(y,{children:e.jsx(k,{className:"p-6",children:e.jsx(L,{columns:B(b),data:r,searchKey:"productName",searchPlaceholder:"Search by product name, SKU, or category..."})})}),e.jsx(M,{open:x,onOpenChange:g,children:e.jsxs(K,{className:"max-w-2xl",children:[e.jsx(R,{children:e.jsx(P,{children:u?"Edit Inventory Item":"Add New Inventory Item"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"productName",children:"Product Name *"}),e.jsx(i,{id:"productName",value:a.productName||"",onChange:t=>c({...a,productName:t.target.value}),placeholder:"Enter product name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"sku",children:"SKU *"}),e.jsx(i,{id:"sku",value:a.sku||"",onChange:t=>c({...a,sku:t.target.value}),placeholder:"Enter SKU"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"category",children:"Category *"}),e.jsx(i,{id:"category",value:a.category||"",onChange:t=>c({...a,category:t.target.value}),placeholder:"e.g., Raw Material"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"unit",children:"Unit *"}),e.jsx(i,{id:"unit",value:a.unit||"",onChange:t=>c({...a,unit:t.target.value}),placeholder:"e.g., sheets, liters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"stock",children:"Current Stock *"}),e.jsx(i,{id:"stock",type:"number",value:a.stock||0,onChange:t=>c({...a,stock:parseInt(t.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"minStock",children:"Minimum Stock *"}),e.jsx(i,{id:"minStock",type:"number",value:a.minStock||0,onChange:t=>c({...a,minStock:parseInt(t.target.value)})})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(n,{htmlFor:"location",children:"Storage Location *"}),e.jsx(i,{id:"location",value:a.location||"",onChange:t=>c({...a,location:t.target.value}),placeholder:"e.g., Warehouse A - Rack 1"})]})]}),e.jsxs(E,{children:[e.jsx(o,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsxs(o,{onClick:I,children:[u?"Update":"Add"," Item"]})]})]})})]})}export{Y as default};
