import{j as e}from"./ui-vendor-CzLWDOsI.js";import{r as n}from"./react-vendor-92AQlTAG.js";import{a5 as V,B as m,P as I,C as E,a as P,b as k,c as K,d as L,z as O,F as B,G as F,H as J,N as H,L as t,I as h,S as f,q as N,r as y,s as S,t as r,a6 as R,J as q,f as j,a7 as z,a8 as G,i as C,$ as W,D as $,j as Q,l as X,o as D,g as Y}from"./index-CA1Fui7q.js";import{M as Z}from"./MapPicker-iZ5eZwsy.js";import{T as _,a as ee,b as w,c as U}from"./tabs-CEpnL4G3.js";import{DataTable as se}from"./data-table-CYZ4C62p.js";import{E as ae}from"./ellipsis-vertical-B-7i3PLI.js";import{S as le}from"./square-pen-DcGP5dFd.js";import"./three-vendor-CaHj5NkI.js";import"./table-D_ER-OKI.js";import"./download-DrC4LZTf.js";import"./minimize-2-ntLFqfDl.js";import"./info-D97ENJ6t.js";import"./triangle-alert-Dz_K3Ww6.js";const te=[{id:"1",name:"John Doe",email:"john.doe@company.com",phone:"+62 812 3456 7890",role:"Admin",status:"active",department:"IT",createdAt:"2024-01-15"},{id:"2",name:"Jane Smith",email:"jane.smith@company.com",phone:"+62 813 4567 8901",role:"Manager",status:"active",department:"Sales",createdAt:"2024-02-20"},{id:"3",name:"Bob Wilson",email:"bob.wilson@company.com",phone:"+62 814 5678 9012",role:"Staff",status:"inactive",department:"Operations",createdAt:"2024-03-10"}];function fe(){const[c,x]=n.useState(te);n.useState("");const[A,o]=n.useState(!1),[i,g]=n.useState(null),[a,l]=n.useState({name:"",email:"",phone:"",role:"",department:"",status:"active"}),[p,u]=n.useState(),v=s=>{s?(g(s),l({name:s.name,email:s.email,phone:s.phone,role:s.role,department:s.department,status:s.status}),u(s.location)):(g(null),l({name:"",email:"",phone:"",role:"",department:"",status:"active"}),u(void 0)),o(!0)},T=()=>{if(i)x(c.map(s=>s.id===i.id?{...s,...a,location:p}:s)),j.success("User updated successfully!");else{const s={id:Date.now().toString(),...a,location:p,createdAt:new Date().toISOString().split("T")[0]};x([...c,s]),j.success("User created successfully!")}o(!1)},b=s=>{x(c.filter(d=>d.id!==s)),j.success("User deleted successfully!")},M=[{accessorKey:"name",header:"Name",cell:({row:s})=>e.jsx("div",{className:"font-medium",children:s.getValue("name")})},{accessorKey:"email",header:"Email",cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-muted-foreground"}),s.getValue("email")]})},{accessorKey:"phone",header:"Phone",cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-muted-foreground"}),s.getValue("phone")]})},{accessorKey:"role",header:"Role",cell:({row:s})=>e.jsxs(C,{variant:"outline",className:"gap-1",children:[e.jsx(W,{className:"w-3 h-3"}),s.getValue("role")]})},{accessorKey:"department",header:"Department"},{accessorKey:"status",header:"Status",cell:({row:s})=>e.jsx(C,{variant:s.getValue("status")==="active"?"default":"secondary",children:s.getValue("status")})},{accessorKey:"createdAt",header:"Created"},{id:"actions",header:"Actions",cell:({row:s})=>{const d=s.original;return e.jsxs($,{children:[e.jsx(Q,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"icon",children:e.jsx(ae,{className:"w-4 h-4"})})}),e.jsxs(X,{align:"end",children:[e.jsxs(D,{onClick:()=>v(d),children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(D,{onClick:()=>b(d.id),className:"text-destructive",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})}}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(V,{className:"w-8 h-8 text-primary"}),"User Management"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage internal company users and their roles"})]}),e.jsxs(m,{onClick:()=>v(),className:"gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"Add User"]})]}),e.jsxs(E,{children:[e.jsxs(P,{children:[e.jsx(k,{children:"All Users"}),e.jsx(K,{children:"A list of all internal company users with their roles and status"})]}),e.jsx(L,{children:e.jsx(se,{columns:M,data:c,searchPlaceholder:"Search users...",searchKey:"name"})})]}),e.jsx(O,{open:A,onOpenChange:o,children:e.jsxs(B,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(F,{children:[e.jsx(J,{children:i?"Edit User":"Add New User"}),e.jsx(H,{children:i?"Update user information and role assignment":"Create a new internal company user"})]}),e.jsxs(_,{defaultValue:"info",className:"w-full",children:[e.jsxs(ee,{className:"grid w-full grid-cols-2",children:[e.jsx(w,{value:"info",children:"User Information"}),e.jsx(w,{value:"location",children:"Location"})]}),e.jsxs(U,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Full Name *"}),e.jsx(h,{value:a.name,onChange:s=>l({...a,name:s.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Email *"}),e.jsx(h,{type:"email",value:a.email,onChange:s=>l({...a,email:s.target.value}),placeholder:"john.doe@company.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Phone Number"}),e.jsx(h,{value:a.phone,onChange:s=>l({...a,phone:s.target.value}),placeholder:"+62 812 3456 7890"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Department"}),e.jsx(h,{value:a.department,onChange:s=>l({...a,department:s.target.value}),placeholder:"IT, Sales, Operations, etc."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Role *"}),e.jsxs(f,{value:a.role,onValueChange:s=>l({...a,role:s}),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Select role"})}),e.jsxs(S,{children:[e.jsx(r,{value:"Admin",children:"Admin"}),e.jsx(r,{value:"Manager",children:"Manager"}),e.jsx(r,{value:"Staff",children:"Staff"}),e.jsx(r,{value:"Viewer",children:"Viewer"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Status"}),e.jsxs(f,{value:a.status,onValueChange:s=>l({...a,status:s}),children:[e.jsx(N,{children:e.jsx(y,{})}),e.jsxs(S,{children:[e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"inactive",children:"Inactive"})]})]})]})]})]}),e.jsxs(U,{value:"location",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"User Address Location"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on the map to select the user's office or home location"})]}),e.jsx(Z,{onLocationSelect:u,value:p})]})]}),e.jsxs(q,{children:[e.jsx(m,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(m,{onClick:T,children:i?"Update User":"Create User"})]})]})})]})}export{fe as default};
