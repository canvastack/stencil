import{j as e}from"./ui-vendor-CzLWDOsI.js";import{r as m}from"./react-vendor-92AQlTAG.js";import{B as h,P as D,C as x,ad as u,z as F,F as E,G as K,H as M,L as l,I as i,S as y,q as f,r as V,s as C,t as n,T as O,J,a7 as A,a8 as B,i as L,g as z,f as p}from"./index-CA1Fui7q.js";import{T as G,a as R,b as j,c as v}from"./tabs-CEpnL4G3.js";import{M as q}from"./MapPicker-iZ5eZwsy.js";import{DataTable as H}from"./data-table-CYZ4C62p.js";import{S as U}from"./square-pen-DcGP5dFd.js";import"./three-vendor-CaHj5NkI.js";import"./table-D_ER-OKI.js";import"./download-DrC4LZTf.js";import"./minimize-2-ntLFqfDl.js";import"./info-D97ENJ6t.js";import"./triangle-alert-Dz_K3Ww6.js";const W=[{id:"1",name:"PT Material Utama",code:"VEN001",email:"sales@materialutama.com",phone:"+62 21 1234567",contactPerson:"Budi Santoso",category:"Raw Material",status:"active",rating:4.5,totalOrders:156,location:{latitude:-6.2088,longitude:106.8456,city:"Jakarta Pusat",district:"Menteng",subdistrict:"Kebon Sirih",village:"Kebon Sirih",municipality:"Jakarta Pusat",province:"DKI Jakarta",country:"Indonesia",address:"Jl. Kebon Sirih No. 12, Jakarta Pusat"},notes:"Vendor utama untuk stainless steel",paymentTerms:"NET 30",taxId:"01.234.567.8-901.000"},{id:"2",name:"CV Glass Premium",code:"VEN002",email:"info@glasspremium.co.id",phone:"+62 21 9876543",contactPerson:"Siti Nurhaliza",category:"Glass Supplier",status:"active",rating:4.8,totalOrders:89,location:{latitude:-6.1751,longitude:106.865,city:"Jakarta Timur",district:"Cakung",subdistrict:"Cakung Barat",village:"Cakung Barat",municipality:"Jakarta Timur",province:"DKI Jakarta",country:"Indonesia",address:"Jl. Cakung Cilincing No. 45, Jakarta Timur"},notes:"Spesialis glass crystal dan mirror",paymentTerms:"COD",taxId:"02.345.678.9-012.000"}];function ie(){const[r,g]=m.useState(W);m.useState("");const[S,d]=m.useState(!1),[o,N]=m.useState(null),[s,t]=m.useState({name:"",code:"",email:"",phone:"",contactPerson:"",category:"",status:"active",rating:0,totalOrders:0,notes:"",paymentTerms:"",taxId:""}),T=[{accessorKey:"code",header:"Code",cell:({row:a})=>e.jsx("div",{className:"font-mono",children:a.getValue("code")})},{accessorKey:"name",header:"Vendor Name",cell:({row:a})=>e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.getValue("name")}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[e.jsx(A,{className:"w-3 h-3"}),a.original.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(B,{className:"w-3 h-3"}),a.original.phone]})]})},{accessorKey:"contactPerson",header:"Contact Person"},{accessorKey:"category",header:"Category"},{accessorKey:"status",header:"Status",cell:({row:a})=>e.jsx(L,{variant:a.getValue("status")==="active"?"default":"secondary",children:a.getValue("status")})},{accessorKey:"rating",header:"Rating",cell:({row:a})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-yellow-500",children:"â˜…"}),a.getValue("rating").toFixed(1)]})},{accessorKey:"totalOrders",header:"Orders"},{id:"actions",header:"Actions",cell:({row:a})=>{const c=a.original;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>b(c),children:e.jsx(U,{className:"w-4 h-4"})}),e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>k(c.id),children:e.jsx(z,{className:"w-4 h-4 text-destructive"})})]})}}],P=()=>{N(null),t({name:"",code:"",email:"",phone:"",contactPerson:"",category:"",status:"active",rating:0,totalOrders:0,notes:"",paymentTerms:"",taxId:""}),d(!0)},b=a=>{N(a),t(a),d(!0)},k=a=>{g(r.filter(c=>c.id!==a)),p.success("Vendor deleted successfully")},w=()=>{if(o)g(r.map(a=>a.id===o.id?{...o,...s}:a)),p.success("Vendor updated successfully");else{const a={id:Date.now().toString(),...s};g([...r,a]),p.success("Vendor added successfully")}d(!1)},I=a=>{t({...s,location:a})};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Vendor Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage suppliers and vendors"})]}),e.jsxs(h,{onClick:P,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Add Vendor"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:e.jsx(u,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Vendors"}),e.jsx("p",{className:"text-2xl font-bold",children:r.length})]})]})}),e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:e.jsx(u,{className:"w-6 h-6 text-green-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Vendors"}),e.jsx("p",{className:"text-2xl font-bold",children:r.filter(a=>a.status==="active").length})]})]})}),e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:e.jsx(u,{className:"w-6 h-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:r.reduce((a,c)=>a+c.totalOrders,0)})]})]})}),e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:e.jsx(u,{className:"w-6 h-6 text-orange-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Categories"}),e.jsx("p",{className:"text-2xl font-bold",children:new Set(r.map(a=>a.category)).size})]})]})})]}),e.jsx(x,{className:"p-6",children:e.jsx(H,{columns:T,data:r,searchPlaceholder:"Search vendors by name, code, or email...",searchKey:"name"})}),e.jsx(F,{open:S,onOpenChange:d,children:e.jsxs(E,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(M,{children:o?"Edit Vendor":"Add New Vendor"})}),e.jsxs(G,{defaultValue:"info",className:"w-full",children:[e.jsxs(R,{className:"grid w-full grid-cols-3",children:[e.jsx(j,{value:"info",children:"Vendor Information"}),e.jsx(j,{value:"location",children:"Location"}),e.jsx(j,{value:"notes",children:"Notes & Terms"})]}),e.jsxs(v,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Vendor Name *"}),e.jsx(i,{id:"name",value:s.name,onChange:a=>t({...s,name:a.target.value}),placeholder:"PT/CV Vendor Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"code",children:"Vendor Code *"}),e.jsx(i,{id:"code",value:s.code,onChange:a=>t({...s,code:a.target.value}),placeholder:"VEN001"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email *"}),e.jsx(i,{id:"email",type:"email",value:s.email,onChange:a=>t({...s,email:a.target.value}),placeholder:"vendor@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone *"}),e.jsx(i,{id:"phone",value:s.phone,onChange:a=>t({...s,phone:a.target.value}),placeholder:"+62 21 1234567"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"contactPerson",children:"Contact Person *"}),e.jsx(i,{id:"contactPerson",value:s.contactPerson,onChange:a=>t({...s,contactPerson:a.target.value}),placeholder:"Full Name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"category",children:"Category *"}),e.jsxs(y,{value:s.category,onValueChange:a=>t({...s,category:a}),children:[e.jsx(f,{children:e.jsx(V,{placeholder:"Select category"})}),e.jsxs(C,{children:[e.jsx(n,{value:"Raw Material",children:"Raw Material"}),e.jsx(n,{value:"Glass Supplier",children:"Glass Supplier"}),e.jsx(n,{value:"Metal Supplier",children:"Metal Supplier"}),e.jsx(n,{value:"Packaging",children:"Packaging"}),e.jsx(n,{value:"Equipment",children:"Equipment"}),e.jsx(n,{value:"Service Provider",children:"Service Provider"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"taxId",children:"Tax ID / NPWP"}),e.jsx(i,{id:"taxId",value:s.taxId,onChange:a=>t({...s,taxId:a.target.value}),placeholder:"01.234.567.8-901.000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"status",children:"Status"}),e.jsxs(y,{value:s.status,onValueChange:a=>t({...s,status:a}),children:[e.jsx(f,{children:e.jsx(V,{})}),e.jsxs(C,{children:[e.jsx(n,{value:"active",children:"Active"}),e.jsx(n,{value:"inactive",children:"Inactive"})]})]})]})]})]}),e.jsx(v,{value:"location",children:e.jsx(q,{onLocationSelect:I,value:s.location})}),e.jsxs(v,{value:"notes",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"paymentTerms",children:"Payment Terms"}),e.jsx(i,{id:"paymentTerms",value:s.paymentTerms,onChange:a=>t({...s,paymentTerms:a.target.value}),placeholder:"e.g., NET 30, COD, etc."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"notes",children:"Notes"}),e.jsx(O,{id:"notes",value:s.notes,onChange:a=>t({...s,notes:a.target.value}),placeholder:"Additional notes about this vendor...",rows:6})]})]})]}),e.jsxs(J,{children:[e.jsx(h,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsxs(h,{onClick:w,children:[o?"Update":"Add"," Vendor"]})]})]})})]})}export{ie as default};
