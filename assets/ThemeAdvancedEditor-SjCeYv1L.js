var cr=Object.defineProperty;var dr=(e,r,n)=>r in e?cr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var dt=(e,r,n)=>dr(e,typeof r!="symbol"?r+"":r,n);import{j as t,a as ur,u as ve,Z as hr,P as ke,d as _e,f as ce,e as le,h as mr,aa as fr}from"./ui-vendor-CJNjIdOR.js";import{r as l,R as de,c as pr}from"./react-vendor-92AQlTAG.js";import{h as be,aC as Z,z as Ae,aD as Pt,aE as gr,as as Be,C as me,a as fe,b as pe,_ as Oe,I as Le,B as O,P as xr,d as ge,K as ut,a0 as Ze,j as oe,af as Mt,ap as et,aF as vr,aG as br,aH as yr,aI as wr,c as ze,ax as $e,aj as jr,an as Et,X as Sr,L as K,ag as Ee,aJ as Cr,a9 as Tt,av as Nr,az as kr,au as Pr,E as Dt,s as Mr,aK as ht}from"./index-Dj8ncPAG.js";import{T as Ft,a as Rt,b as ne,c as se}from"./tabs-BSJrF7vJ.js";import{F as At}from"./folder-1Vw8Ks7A.js";import{F as Er}from"./file-BJEQLgnU.js";import{R as Tr}from"./refresh-cw-Bt5ud7Vo.js";import{G as Dr}from"./grip-vertical-CkqxHCua.js";import{Z as Fr,L as mt}from"./LivePreview-cZ2bimq2.js";import{S as Ke}from"./save-DIKQG8Zq.js";import{M as Rr,a as Ar}from"./minimize-2-BuqSuxBK.js";import{D as Ot}from"./download-C93Gk9fO.js";import{A as Or,a as Lr}from"./alert-DrVHkPlt.js";import{U as zr}from"./upload-CustQslt.js";import{U as Ir}from"./user-1GFoQ81Z.js";import{R as Lt}from"./rotate-ccw-D4D4Ldvd.js";import{P as Wr,S as ft}from"./slider-MEQ5AMVx.js";import{S as Ye}from"./switch-BLCjptGd.js";import{M as pt,S as Hr,T as _r}from"./tablet-DoZ_bbKv.js";import"./three-vendor-CVohgf7y.js";import"./external-link-BXUxkYiG.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=be("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=be("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=be("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=be("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=be("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);function Xr(){const e=l.useRef([]),r=l.useCallback((o,d,h=10)=>{const u=Z.addAction(o,d,h);return e.current.push(u),u},[]),n=l.useCallback((o,d,h=10)=>{const u=Z.addFilter(o,d,h);return e.current.push(u),u},[]),s=l.useCallback((o,d)=>Z.removeAction(o,d),[]),a=l.useCallback((o,d)=>Z.removeFilter(o,d),[]),c=l.useCallback((o,...d)=>{Z.doAction(o,...d)},[]),i=l.useCallback((o,d,...h)=>Z.applyFilters(o,d,...h),[]);return l.useEffect(()=>()=>{e.current.forEach(o=>{Z.getRegisteredActions().forEach(d=>{Z.removeAction(d,o)}),Z.getRegisteredFilters().forEach(d=>{Z.removeFilter(d,o)})}),e.current=[]},[]),{addAction:r,addFilter:n,removeAction:s,removeFilter:a,doAction:c,applyFilters:i}}function gt(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function Yr(e){if(Array.isArray(e))return e}function qr(e,r,n){return(r=tn(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Jr(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,a,c,i,o=[],d=!0,h=!1;try{if(c=(n=n.call(e)).next,r!==0)for(;!(d=(s=c.call(n)).done)&&(o.push(s.value),o.length!==r);d=!0);}catch(u){h=!0,a=u}finally{try{if(!d&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(h)throw a}}return o}}function Qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function vt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xt(Object(n),!0).forEach(function(s){qr(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Gr(e,r){if(e==null)return{};var n,s,a=Zr(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(s=0;s<c.length;s++)n=c[s],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zr(e,r){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Kr(e,r){return Yr(e)||Jr(e,r)||rn(e,r)||Qr()}function en(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function tn(e){var r=en(e,"string");return typeof r=="symbol"?r:r+""}function rn(e,r){if(e){if(typeof e=="string")return gt(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,r):void 0}}function nn(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function bt(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function yt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?bt(Object(n),!0).forEach(function(s){nn(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function sn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduceRight(function(a,c){return c(a)},s)}}function Se(e){return function r(){for(var n=this,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return a.length>=e.length?e.apply(this,a):function(){for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return r.apply(n,[].concat(a,o))}}}function Ie(e){return{}.toString.call(e).includes("Object")}function an(e){return!Object.keys(e).length}function Ne(e){return typeof e=="function"}function on(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function ln(e,r){return Ie(r)||ae("changeType"),Object.keys(r).some(function(n){return!on(e,n)})&&ae("changeField"),r}function cn(e){Ne(e)||ae("selectorType")}function dn(e){Ne(e)||Ie(e)||ae("handlerType"),Ie(e)&&Object.values(e).some(function(r){return!Ne(r)})&&ae("handlersType")}function un(e){e||ae("initialIsRequired"),Ie(e)||ae("initialType"),an(e)&&ae("initialContent")}function hn(e,r){throw new Error(e[r]||e.default)}var mn={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ae=Se(hn)(mn),Te={changes:ln,selector:cn,handler:dn,initial:un};function fn(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Te.initial(e),Te.handler(r);var n={current:e},s=Se(xn)(n,r),a=Se(gn)(n),c=Se(Te.changes)(e),i=Se(pn)(n);function o(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Te.selector(h),h(n.current)}function d(h){sn(s,a,c,i)(h)}return[o,d]}function pn(e,r){return Ne(r)?r(e.current):r}function gn(e,r){return e.current=yt(yt({},e.current),r),r}function xn(e,r,n){return Ne(r)?r(e.current):Object.keys(n).forEach(function(s){var a;return(a=r[s])===null||a===void 0?void 0:a.call(r,e.current[s])}),n}var vn={create:fn},bn={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}};function yn(e){return function r(){for(var n=this,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return a.length>=e.length?e.apply(this,a):function(){for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return r.apply(n,[].concat(a,o))}}}function wn(e){return{}.toString.call(e).includes("Object")}function jn(e){return e||wt("configIsRequired"),wn(e)||wt("configType"),e.urls?(Sn(),{paths:{vs:e.urls.monacoBase}}):e}function Sn(){console.warn(Wt.deprecation)}function Cn(e,r){throw new Error(e[r]||e.default)}var Wt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},wt=yn(Cn)(Wt),Nn={config:jn},kn=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return function(a){return n.reduceRight(function(c,i){return i(c)},a)}};function Ht(e,r){return Object.keys(r).forEach(function(n){r[n]instanceof Object&&e[n]&&Object.assign(r[n],Ht(e[n],r[n]))}),vt(vt({},e),r)}var Pn={type:"cancelation",msg:"operation is manually canceled"};function qe(e){var r=!1,n=new Promise(function(s,a){e.then(function(c){return r?a(Pn):s(c)}),e.catch(a)});return n.cancel=function(){return r=!0},n}var Mn=["monaco"],En=vn.create({config:bn,isInitialized:!1,resolve:null,reject:null,monaco:null}),_t=Kr(En,2),Pe=_t[0],Ve=_t[1];function Tn(e){var r=Nn.config(e),n=r.monaco,s=Gr(r,Mn);Ve(function(a){return{config:Ht(a.config,s),monaco:n}})}function Dn(){var e=Pe(function(r){var n=r.monaco,s=r.isInitialized,a=r.resolve;return{monaco:n,isInitialized:s,resolve:a}});if(!e.isInitialized){if(Ve({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),qe(Je);if(window.monaco&&window.monaco.editor)return Bt(window.monaco),e.resolve(window.monaco),qe(Je);kn(Fn,An)(On)}return qe(Je)}function Fn(e){return document.body.appendChild(e)}function Rn(e){var r=document.createElement("script");return e&&(r.src=e),r}function An(e){var r=Pe(function(s){var a=s.config,c=s.reject;return{config:a,reject:c}}),n=Rn("".concat(r.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=r.reject,n}function On(){var e=Pe(function(n){var s=n.config,a=n.resolve,c=n.reject;return{config:s,resolve:a,reject:c}}),r=window.require;r.config(e.config),r(["vs/editor/editor.main"],function(n){var s=n.m;Bt(s),e.resolve(s)},function(n){e.reject(n)})}function Bt(e){Pe().monaco||Ve({monaco:e})}function Ln(){return Pe(function(e){var r=e.monaco;return r})}var Je=new Promise(function(e,r){return Ve({resolve:e,reject:r})}),$t={config:Tn,init:Dn,__getMonacoInstance:Ln},zn={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Qe=zn,In={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Wn=In;function Hn({children:e}){return de.createElement("div",{style:Wn.container},e)}var _n=Hn,Bn=_n;function $n({width:e,height:r,isEditorReady:n,loading:s,_ref:a,className:c,wrapperProps:i}){return de.createElement("section",{style:{...Qe.wrapper,width:e,height:r},...i},!n&&de.createElement(Bn,null,s),de.createElement("div",{ref:a,style:{...Qe.fullWidth,...!n&&Qe.hide},className:c}))}var Vn=$n,Vt=l.memo(Vn);function Un(e){l.useEffect(e,[])}var Ut=Un;function Xn(e,r,n=!0){let s=l.useRef(!0);l.useEffect(s.current||!n?()=>{s.current=!1}:e,r)}var J=Xn;function Ce(){}function he(e,r,n,s){return Yn(e,s)||qn(e,r,n,s)}function Yn(e,r){return e.editor.getModel(Xt(e,r))}function qn(e,r,n,s){return e.editor.createModel(r,n,s?Xt(e,s):void 0)}function Xt(e,r){return e.Uri.parse(r)}function Jn({original:e,modified:r,language:n,originalLanguage:s,modifiedLanguage:a,originalModelPath:c,modifiedModelPath:i,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:d=!1,theme:h="light",loading:u="Loading...",options:f={},height:m="100%",width:b="100%",className:y,wrapperProps:M={},beforeMount:W=Ce,onMount:I=Ce}){let[D,P]=l.useState(!1),[C,k]=l.useState(!0),g=l.useRef(null),w=l.useRef(null),L=l.useRef(null),N=l.useRef(I),j=l.useRef(W),H=l.useRef(!1);Ut(()=>{let v=$t.init();return v.then(A=>(w.current=A)&&k(!1)).catch(A=>(A==null?void 0:A.type)!=="cancelation"&&console.error("Monaco initialization: error:",A)),()=>g.current?R():v.cancel()}),J(()=>{if(g.current&&w.current){let v=g.current.getOriginalEditor(),A=he(w.current,e||"",s||n||"text",c||"");A!==v.getModel()&&v.setModel(A)}},[c],D),J(()=>{if(g.current&&w.current){let v=g.current.getModifiedEditor(),A=he(w.current,r||"",a||n||"text",i||"");A!==v.getModel()&&v.setModel(A)}},[i],D),J(()=>{let v=g.current.getModifiedEditor();v.getOption(w.current.editor.EditorOption.readOnly)?v.setValue(r||""):r!==v.getValue()&&(v.executeEdits("",[{range:v.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),v.pushUndoStop())},[r],D),J(()=>{var v,A;(A=(v=g.current)==null?void 0:v.getModel())==null||A.original.setValue(e||"")},[e],D),J(()=>{let{original:v,modified:A}=g.current.getModel();w.current.editor.setModelLanguage(v,s||n||"text"),w.current.editor.setModelLanguage(A,a||n||"text")},[n,s,a],D),J(()=>{var v;(v=w.current)==null||v.editor.setTheme(h)},[h],D),J(()=>{var v;(v=g.current)==null||v.updateOptions(f)},[f],D);let V=l.useCallback(()=>{var _;if(!w.current)return;j.current(w.current);let v=he(w.current,e||"",s||n||"text",c||""),A=he(w.current,r||"",a||n||"text",i||"");(_=g.current)==null||_.setModel({original:v,modified:A})},[n,r,a,e,s,c,i]),p=l.useCallback(()=>{var v;!H.current&&L.current&&(g.current=w.current.editor.createDiffEditor(L.current,{automaticLayout:!0,...f}),V(),(v=w.current)==null||v.editor.setTheme(h),P(!0),H.current=!0)},[f,h,V]);l.useEffect(()=>{D&&N.current(g.current,w.current)},[D]),l.useEffect(()=>{!C&&!D&&p()},[C,D,p]);function R(){var A,_,X,B;let v=(A=g.current)==null?void 0:A.getModel();o||((_=v==null?void 0:v.original)==null||_.dispose()),d||((X=v==null?void 0:v.modified)==null||X.dispose()),(B=g.current)==null||B.dispose()}return de.createElement(Vt,{width:b,height:m,isEditorReady:D,loading:u,_ref:L,className:y,wrapperProps:M})}var Qn=Jn;l.memo(Qn);function Gn(e){let r=l.useRef();return l.useEffect(()=>{r.current=e},[e]),r.current}var Zn=Gn,De=new Map;function Kn({defaultValue:e,defaultLanguage:r,defaultPath:n,value:s,language:a,path:c,theme:i="light",line:o,loading:d="Loading...",options:h={},overrideServices:u={},saveViewState:f=!0,keepCurrentModel:m=!1,width:b="100%",height:y="100%",className:M,wrapperProps:W={},beforeMount:I=Ce,onMount:D=Ce,onChange:P,onValidate:C=Ce}){let[k,g]=l.useState(!1),[w,L]=l.useState(!0),N=l.useRef(null),j=l.useRef(null),H=l.useRef(null),V=l.useRef(D),p=l.useRef(I),R=l.useRef(),v=l.useRef(s),A=Zn(c),_=l.useRef(!1),X=l.useRef(!1);Ut(()=>{let F=$t.init();return F.then(z=>(N.current=z)&&L(!1)).catch(z=>(z==null?void 0:z.type)!=="cancelation"&&console.error("Monaco initialization: error:",z)),()=>j.current?ue():F.cancel()}),J(()=>{var z,$,x,S;let F=he(N.current,e||s||"",r||a||"",c||n||"");F!==((z=j.current)==null?void 0:z.getModel())&&(f&&De.set(A,($=j.current)==null?void 0:$.saveViewState()),(x=j.current)==null||x.setModel(F),f&&((S=j.current)==null||S.restoreViewState(De.get(c))))},[c],k),J(()=>{var F;(F=j.current)==null||F.updateOptions(h)},[h],k),J(()=>{!j.current||s===void 0||(j.current.getOption(N.current.editor.EditorOption.readOnly)?j.current.setValue(s):s!==j.current.getValue()&&(X.current=!0,j.current.executeEdits("",[{range:j.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),j.current.pushUndoStop(),X.current=!1))},[s],k),J(()=>{var z,$;let F=(z=j.current)==null?void 0:z.getModel();F&&a&&(($=N.current)==null||$.editor.setModelLanguage(F,a))},[a],k),J(()=>{var F;o!==void 0&&((F=j.current)==null||F.revealLine(o))},[o],k),J(()=>{var F;(F=N.current)==null||F.editor.setTheme(i)},[i],k);let B=l.useCallback(()=>{var F;if(!(!H.current||!N.current)&&!_.current){p.current(N.current);let z=c||n,$=he(N.current,s||e||"",r||a||"",z||"");j.current=(F=N.current)==null?void 0:F.editor.create(H.current,{model:$,automaticLayout:!0,...h},u),f&&j.current.restoreViewState(De.get(z)),N.current.editor.setTheme(i),o!==void 0&&j.current.revealLine(o),g(!0),_.current=!0}},[e,r,n,s,a,c,h,u,f,i,o]);l.useEffect(()=>{k&&V.current(j.current,N.current)},[k]),l.useEffect(()=>{!w&&!k&&B()},[w,k,B]),v.current=s,l.useEffect(()=>{var F,z;k&&P&&((F=R.current)==null||F.dispose(),R.current=(z=j.current)==null?void 0:z.onDidChangeModelContent($=>{X.current||P(j.current.getValue(),$)}))},[k,P]),l.useEffect(()=>{if(k){let F=N.current.editor.onDidChangeMarkers(z=>{var x;let $=(x=j.current.getModel())==null?void 0:x.uri;if($&&z.find(S=>S.path===$.path)){let S=N.current.editor.getModelMarkers({resource:$});C==null||C(S)}});return()=>{F==null||F.dispose()}}return()=>{}},[k,C]);function ue(){var F,z;(F=R.current)==null||F.dispose(),m?f&&De.set(c,j.current.saveViewState()):(z=j.current.getModel())==null||z.dispose(),j.current.dispose()}return de.createElement(Vt,{width:b,height:y,isEditorReady:k,loading:d,_ref:H,className:M,wrapperProps:W})}var es=Kn,ts=l.memo(es),rs=ts;const Yt=l.forwardRef(({files:e,selectedFile:r,onFileSelect:n,onFileUpload:s,onFileMove:a,className:c},i)=>{const[o,d]=l.useState(new Set(e.filter(p=>p.type==="folder"&&p.isOpen).map(p=>p.path))),[h,u]=l.useState(null),[f,m]=l.useState(null),[b,y]=l.useState(!1),M=l.useCallback(p=>{const R=[],v=A=>{A.forEach(_=>{_.type==="folder"&&(R.push(_.path),_.children&&v(_.children))})};return v(p),R},[]),W=l.useCallback(()=>{const p=M(e);d(new Set(p))},[e,M]),I=l.useCallback(()=>{d(new Set)},[]),D=l.useCallback(()=>{const p=M(e).filter(R=>o.has(R));d(new Set(p))},[e,o,M]);l.useImperativeHandle(i,()=>({expandAll:W,collapseAll:I,refresh:D}),[W,I,D]);const P=p=>{d(R=>{const v=new Set(R);return v.has(p)?v.delete(p):v.add(p),v})},C=p=>{p.type==="folder"?P(p.path):n&&n(p)},k=(p,R)=>{u(R),p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",R.path)},g=(p,R)=>{p.preventDefault(),p.stopPropagation(),R.type==="folder"&&(h==null?void 0:h.path)!==R.path&&m(R.path)},w=p=>{p.preventDefault(),m(null)},L=(p,R)=>{if(p.preventDefault(),p.stopPropagation(),m(null),p.dataTransfer.files.length>0){if(s){const v=R.type==="folder"?R.path:void 0;s(p.dataTransfer.files,v)}}else h&&a&&R.type==="folder"&&h.path!==R.path&&a(h.path,R.path);u(null)},N=p=>{p.preventDefault(),y(!0)},j=p=>{p.currentTarget===p.target&&y(!1)},H=p=>{p.preventDefault(),y(!1),p.dataTransfer.files.length>0&&s&&s(p.dataTransfer.files)},V=(p,R=0)=>{const v=o.has(p.path),A=r===p.path,_=f===p.path,X=R*16+8;return t.jsxs("div",{children:[t.jsxs("div",{className:Ae("flex items-center gap-2 py-1.5 px-2 cursor-pointer rounded-sm hover:bg-accent/50 transition-colors",A&&"bg-accent text-accent-foreground font-medium",_&&"bg-blue-100 border-2 border-blue-500","text-sm"),style:{paddingLeft:`${X}px`},onClick:()=>C(p),draggable:!0,onDragStart:B=>k(B,p),onDragOver:B=>g(B,p),onDragLeave:w,onDrop:B=>L(B,p),children:[p.type==="folder"?t.jsxs(t.Fragment,{children:[v?t.jsx(Pt,{className:"h-4 w-4 flex-shrink-0"}):t.jsx(gr,{className:"h-4 w-4 flex-shrink-0"}),v?t.jsx(Vr,{className:"h-4 w-4 flex-shrink-0 text-blue-500"}):t.jsx(At,{className:"h-4 w-4 flex-shrink-0 text-blue-500"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4"}),t.jsx(Er,{className:"h-4 w-4 flex-shrink-0 text-gray-500"})]}),t.jsx("span",{className:"truncate",children:p.name}),p.type==="file"&&p.language&&t.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:ns(p.language)})]}),p.type==="folder"&&v&&p.children&&t.jsx("div",{children:p.children.map(B=>V(B,R+1))})]},p.path)};return t.jsxs("div",{className:Ae("min-h-[200px] overflow-auto relative",b&&"border-2 border-dashed border-blue-500 bg-blue-50",c),onDragOver:N,onDragLeave:j,onDrop:H,children:[b&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-blue-50/90 z-10 pointer-events-none",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-lg font-semibold text-blue-700",children:"Drop files here to upload"})})}),t.jsx("div",{className:"space-y-0.5",children:e.map(p=>V(p))})]})});Yt.displayName="FileTreeExplorer";function ns(e){return{typescript:"TS",javascript:"JS",css:"CSS",json:"JSON",markdown:"MD",html:"HTML"}[e]||e.toUpperCase()}const ss={default:[{name:"components",type:"folder",path:"components",isOpen:!0,children:[{name:"CTASection.tsx",type:"file",path:"components/CTASection.tsx",language:"typescript"},{name:"Footer.tsx",type:"file",path:"components/Footer.tsx",language:"typescript"},{name:"Header.tsx",type:"file",path:"components/Header.tsx",language:"typescript"},{name:"HeroCarousel.tsx",type:"file",path:"components/HeroCarousel.tsx",language:"typescript"},{name:"Product3DViewer.tsx",type:"file",path:"components/Product3DViewer.tsx",language:"typescript"},{name:"ScrollToTop.tsx",type:"file",path:"components/ScrollToTop.tsx",language:"typescript"},{name:"TypingEffect.tsx",type:"file",path:"components/TypingEffect.tsx",language:"typescript"}]},{name:"pages",type:"folder",path:"pages",isOpen:!0,children:[{name:"About.tsx",type:"file",path:"pages/About.tsx",language:"typescript"},{name:"Cart.tsx",type:"file",path:"pages/Cart.tsx",language:"typescript"},{name:"Contact.tsx",type:"file",path:"pages/Contact.tsx",language:"typescript"},{name:"FAQ.tsx",type:"file",path:"pages/FAQ.tsx",language:"typescript"},{name:"Home.tsx",type:"file",path:"pages/Home.tsx",language:"typescript"},{name:"Index.tsx",type:"file",path:"pages/Index.tsx",language:"typescript"},{name:"NotFound.tsx",type:"file",path:"pages/NotFound.tsx",language:"typescript"},{name:"ProductDetail.tsx",type:"file",path:"pages/ProductDetail.tsx",language:"typescript"},{name:"Products.tsx",type:"file",path:"pages/Products.tsx",language:"typescript"}]},{name:"styles",type:"folder",path:"styles",isOpen:!0,children:[{name:"base.css",type:"file",path:"styles/base.css",language:"css"},{name:"theme.css",type:"file",path:"styles/theme.css",language:"css"}]},{name:"index.ts",type:"file",path:"index.ts",language:"typescript"},{name:"theme.json",type:"file",path:"theme.json",language:"json"}]};function as(e){return ss[e]||[]}async function jt(e,r){try{const n=await fetch(`/src/themes/${e}/${r}`);if(!n.ok)throw new Error(`Failed to load file: ${r}`);return await n.text()}catch(n){return console.error(`Error loading file ${r}:`,n),os(r)}}function os(e){return e.endsWith(".tsx")?`import React from 'react';

// TODO: Implement ${e}

export default function Component() {
  return (
    <div>
      <h1>${e}</h1>
      <p>This component is not yet implemented.</p>
    </div>
  );
}
`:e.endsWith(".css")?`/* Styles for ${e} */

:root {
  /* Add your theme variables here */
}

/* Add your styles here */
`:e.endsWith(".json")?`{
  "name": "theme-file",
  "path": "${e}"
}
`:`// ${e}

// File content goes here
`}function is({themeName:e}){const{currentTheme:r,currentThemeName:n}=Be(),s=l.useRef(null),a=l.useRef(null),c=l.useRef(null),[i,o]=l.useState({activeFile:null,files:{},unsavedChanges:new Set,isFullscreen:!1}),[d,h]=l.useState([]),[u,f]=l.useState(""),[m,b]=l.useState(!1),[y,M]=l.useState("idle"),[W,I]=l.useState("vs-dark"),[D,P]=l.useState(14),[C,k]=l.useState(320),[g,w]=l.useState(!1),L=e||n;l.useEffect(()=>{N()},[L]),l.useEffect(()=>{const x=E=>{if(!g)return;const Q=E.clientX;Q>200&&Q<600&&k(Q)},S=()=>{w(!1)};return g&&(document.addEventListener("mousemove",x),document.addEventListener("mouseup",S)),()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",S)}},[g]);const N=async()=>{b(!0);try{const x=as(L);h(x);const S={},E=j(x);if(E){const Q=await jt(L,E.path);S[E.path]=Q,o(Me=>({...Me,files:S,activeFile:E.path}))}}catch(x){console.error("Failed to load file tree:",x)}finally{b(!1)}},j=x=>{for(const S of x){if(S.type==="file")return S;if(S.children){const E=j(S.children);if(E)return E}}return null},H=async x=>{if(x.type!=="file")return;const S=x.path;if(i.files[S])o(E=>({...E,activeFile:S}));else{b(!0);try{const E=await jt(L,S);o(Q=>({...Q,files:{...Q.files,[S]:E},activeFile:S}))}catch(E){console.error("Failed to load file:",E)}finally{b(!1)}}},V=(x,S)=>{x!==void 0&&o(E=>({...E,files:{...E.files,[S]:x},unsavedChanges:new Set([...E.unsavedChanges,S])}))},p=async x=>{M("saving");try{await new Promise(S=>setTimeout(S,1e3)),o(S=>{const E=new Set(S.unsavedChanges);return E.delete(x),{...S,unsavedChanges:E}}),M("saved"),setTimeout(()=>M("idle"),2e3)}catch{M("error"),setTimeout(()=>M("idle"),3e3)}},R=async()=>{for(const x of i.unsavedChanges)await p(x)},v=async(x,S)=>{console.log("Files uploaded:",x,"to:",S)},A=async(x,S)=>{console.log("Move file from:",x,"to:",S)},_=x=>{var E;switch((E=x.split(".").pop())==null?void 0:E.toLowerCase()){case"tsx":case"ts":return"typescript";case"jsx":case"js":return"javascript";case"css":return"css";case"scss":return"scss";case"json":return"json";case"html":return"html";case"md":return"markdown";default:return"plaintext"}},X=(x,S)=>S?x.filter(E=>!!(E.name.toLowerCase().includes(S.toLowerCase())||E.children&&X(E.children,S).length>0)).map(E=>({...E,children:E.children?X(E.children,S):void 0})):x,B=()=>{P(x=>Math.min(x+2,32))},ue=()=>{P(x=>Math.max(x-2,10))},F=()=>{s.current&&s.current.getAction("editor.action.gotoLine").run()},z=()=>{s.current&&s.current.getAction("editor.action.commentLine").run()},$=X(d,u);return t.jsxs("div",{className:`flex gap-4 ${i.isFullscreen?"fixed inset-0 z-50 bg-background p-4":""}`,children:[t.jsx("div",{className:"flex-shrink-0 space-y-4 w-full lg:w-80",style:{width:i.isFullscreen?`${C}px`:void 0},children:t.jsxs(me,{className:"h-full flex flex-col",children:[t.jsxs(fe,{className:"pb-3 flex-shrink-0",children:[t.jsxs(pe,{className:"text-lg flex items-center gap-2",children:[t.jsx(At,{className:"h-5 w-5"}),"File Explorer"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Oe,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Le,{placeholder:"Search files...",value:u,onChange:x=>f(x.target.value),className:"pl-8"})]}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>{var x;return(x=a.current)==null?void 0:x.refresh()},title:"Refresh",children:t.jsx(Tr,{className:"h-4 w-4"})}),t.jsx(O,{size:"sm",variant:"outline",title:"Add File",children:t.jsx(xr,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[t.jsxs(O,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{var x;return(x=a.current)==null?void 0:x.expandAll()},children:[t.jsx(Br,{className:"h-3 w-3 mr-1"}),"Expand All"]}),t.jsxs(O,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{var x;return(x=a.current)==null?void 0:x.collapseAll()},children:[t.jsx($r,{className:"h-3 w-3 mr-1"}),"Collapse"]})]})]}),t.jsx(ge,{className:"pt-0 flex-1 overflow-hidden",children:m?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(ut,{className:"h-6 w-6 animate-spin"})}):t.jsx("div",{className:"h-full overflow-y-auto overflow-x-auto",children:t.jsx(Yt,{ref:a,files:$,selectedFile:i.activeFile,onFileSelect:H,onFileUpload:v,onFileMove:A,className:"min-h-[400px]"})})})]})}),i.isFullscreen&&t.jsx("div",{ref:c,className:"w-1 cursor-col-resize hover:bg-blue-500 bg-border transition-colors flex-shrink-0",onMouseDown:()=>w(!0),children:t.jsx("div",{className:"h-full flex items-center justify-center",children:t.jsx(Dr,{className:"h-4 w-4 text-muted-foreground"})})}),t.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[t.jsxs(me,{className:"h-full",children:[t.jsxs(fe,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx(Ze,{className:"h-5 w-5 flex-shrink-0"}),t.jsx(pe,{className:"text-lg",children:"Code Editor"}),i.activeFile&&t.jsx(oe,{variant:"secondary",className:"text-xs truncate max-w-xs",children:i.activeFile})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[y==="saving"&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[t.jsx(ut,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),y==="saved"&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[t.jsx(Mt,{className:"h-3 w-3"}),"Saved"]}),y==="error"&&t.jsxs("div",{className:"flex items-center gap-1 text-sm text-red-600",children:[t.jsx(et,{className:"h-3 w-3"}),"Error"]}),i.unsavedChanges.size>0&&t.jsxs(oe,{variant:"outline",className:"text-xs",children:[i.unsavedChanges.size," unsaved"]}),t.jsx(O,{size:"sm",variant:"outline",onClick:ue,title:"Zoom Out",children:t.jsx(Fr,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[D,"px"]}),t.jsx(O,{size:"sm",variant:"outline",onClick:B,title:"Zoom In",children:t.jsx(vr,{className:"h-4 w-4"})}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>I(x=>x==="vs-dark"?"vs-light":"vs-dark"),title:"Toggle Theme",children:W==="vs-dark"?t.jsx(br,{className:"h-4 w-4"}):t.jsx(yr,{className:"h-4 w-4"})}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>i.activeFile&&p(i.activeFile),disabled:!i.activeFile||!i.unsavedChanges.has(i.activeFile),children:t.jsx(Ke,{className:"h-4 w-4"})}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>o(x=>({...x,isFullscreen:!x.isFullscreen})),children:i.isFullscreen?t.jsx(Rr,{className:"h-4 w-4"}):t.jsx(Ar,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[t.jsx(O,{size:"sm",variant:"outline",onClick:F,title:"Go to Line (Ctrl+G)",children:"Go to Line"}),t.jsx(O,{size:"sm",variant:"outline",onClick:z,title:"Toggle Comment (Ctrl+/)",children:"Toggle Comment"})]})]}),t.jsx(ge,{className:"pt-0",children:i.activeFile?t.jsx("div",{className:`border rounded-md overflow-hidden ${i.isFullscreen?"h-[calc(100vh-220px)]":"h-96"}`,children:t.jsx(rs,{height:"100%",language:_(i.activeFile),value:i.files[i.activeFile]||"",onChange:x=>V(x,i.activeFile),onMount:x=>{s.current=x},theme:W,options:{minimap:{enabled:!0},fontSize:D,lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,insertSpaces:!0,wordWrap:"on",folding:!0,foldingStrategy:"auto",showFoldingControls:"always",multiCursorModifier:"ctrlCmd",selectionClipboard:!1,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},quickSuggestions:{other:!0,comments:!0,strings:!0},suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",tabCompletion:"on",wordBasedSuggestions:!0,parameterHints:{enabled:!0},autoClosingBrackets:"always",autoClosingQuotes:"always",autoClosingOvertype:"always",formatOnPaste:!0,formatOnType:!0,renderWhitespace:"selection",renderControlCharacters:!0,smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:!0}})}):t.jsx("div",{className:"flex items-center justify-center h-96 text-muted-foreground",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ze,{className:"h-12 w-12 mx-auto mb-4"}),t.jsx("p",{children:"Select a file to start editing"})]})})})]}),!i.isFullscreen&&t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{onClick:R,disabled:i.unsavedChanges.size===0,className:"flex-1",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Save All (",i.unsavedChanges.size,")"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(wr,{className:"h-4 w-4 mr-2"}),"Preview"]}),t.jsxs(O,{variant:"outline",children:[t.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})]})}function ls(e,r){return l.useReducer((n,s)=>r[n][s]??n,e)}var tt="ScrollArea",[qt,Ua]=ur(tt),[cs,G]=qt(tt),Jt=l.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:c=600,...i}=e,[o,d]=l.useState(null),[h,u]=l.useState(null),[f,m]=l.useState(null),[b,y]=l.useState(null),[M,W]=l.useState(null),[I,D]=l.useState(0),[P,C]=l.useState(0),[k,g]=l.useState(!1),[w,L]=l.useState(!1),N=ve(r,H=>d(H)),j=hr(a);return t.jsx(cs,{scope:n,type:s,dir:j,scrollHideDelay:c,scrollArea:o,viewport:h,onViewportChange:u,content:f,onContentChange:m,scrollbarX:b,onScrollbarXChange:y,scrollbarXEnabled:k,onScrollbarXEnabledChange:g,scrollbarY:M,onScrollbarYChange:W,scrollbarYEnabled:w,onScrollbarYEnabledChange:L,onCornerWidthChange:D,onCornerHeightChange:C,children:t.jsx(ke.div,{dir:j,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":I+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})})});Jt.displayName=tt;var Qt="ScrollAreaViewport",Gt=l.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:s,nonce:a,...c}=e,i=G(Qt,n),o=l.useRef(null),d=ve(r,o,i.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Gt.displayName=Qt;var ee="ScrollAreaScrollbar",rt=l.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=G(ee,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:i}=a,o=e.orientation==="horizontal";return l.useEffect(()=>(o?c(!0):i(!0),()=>{o?c(!1):i(!1)}),[o,c,i]),a.type==="hover"?t.jsx(ds,{...s,ref:r,forceMount:n}):a.type==="scroll"?t.jsx(us,{...s,ref:r,forceMount:n}):a.type==="auto"?t.jsx(Zt,{...s,ref:r,forceMount:n}):a.type==="always"?t.jsx(nt,{...s,ref:r}):null});rt.displayName=ee;var ds=l.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=G(ee,e.__scopeScrollArea),[c,i]=l.useState(!1);return l.useEffect(()=>{const o=a.scrollArea;let d=0;if(o){const h=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",h),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),o.removeEventListener("pointerenter",h),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(_e,{present:n||c,children:t.jsx(Zt,{"data-state":c?"visible":"hidden",...s,ref:r})})}),us=l.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=G(ee,e.__scopeScrollArea),c=e.orientation==="horizontal",i=Xe(()=>d("SCROLL_END"),100),[o,d]=ls("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(o==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[o,a.scrollHideDelay,d]),l.useEffect(()=>{const h=a.viewport,u=c?"scrollLeft":"scrollTop";if(h){let f=h[u];const m=()=>{const b=h[u];f!==b&&(d("SCROLL"),i()),f=b};return h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,c,d,i]),t.jsx(_e,{present:n||o!=="hidden",children:t.jsx(nt,{"data-state":o==="hidden"?"hidden":"visible",...s,ref:r,onPointerEnter:ce(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Zt=l.forwardRef((e,r)=>{const n=G(ee,e.__scopeScrollArea),{forceMount:s,...a}=e,[c,i]=l.useState(!1),o=e.orientation==="horizontal",d=Xe(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;i(o?h:u)}},10);return xe(n.viewport,d),xe(n.content,d),t.jsx(_e,{present:s||c,children:t.jsx(nt,{"data-state":c?"visible":"hidden",...a,ref:r})})}),nt=l.forwardRef((e,r)=>{const{orientation:n="vertical",...s}=e,a=G(ee,e.__scopeScrollArea),c=l.useRef(null),i=l.useRef(0),[o,d]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=nr(o.viewport,o.content),u={...s,sizes:o,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:m=>c.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,b){return xs(m,i.current,o,b)}return n==="horizontal"?t.jsx(hs,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&c.current){const m=a.viewport.scrollLeft,b=St(m,o,a.dir);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):n==="vertical"?t.jsx(ms,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&c.current){const m=a.viewport.scrollTop,b=St(m,o);c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),hs=l.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,c=G(ee,e.__scopeScrollArea),[i,o]=l.useState(),d=l.useRef(null),h=ve(r,d,c.onScrollbarXChange);return l.useEffect(()=>{d.current&&o(getComputedStyle(d.current))},[d]),t.jsx(er,{"data-orientation":"horizontal",...a,ref:h,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ue(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(c.viewport){const m=c.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),ar(m,f)&&u.preventDefault()}},onResize:()=>{d.current&&c.viewport&&i&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:He(i.paddingLeft),paddingEnd:He(i.paddingRight)}})}})}),ms=l.forwardRef((e,r)=>{const{sizes:n,onSizesChange:s,...a}=e,c=G(ee,e.__scopeScrollArea),[i,o]=l.useState(),d=l.useRef(null),h=ve(r,d,c.onScrollbarYChange);return l.useEffect(()=>{d.current&&o(getComputedStyle(d.current))},[d]),t.jsx(er,{"data-orientation":"vertical",...a,ref:h,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ue(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(c.viewport){const m=c.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),ar(m,f)&&u.preventDefault()}},onResize:()=>{d.current&&c.viewport&&i&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:He(i.paddingTop),paddingEnd:He(i.paddingBottom)}})}})}),[fs,Kt]=qt(ee),er=l.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:u,onResize:f,...m}=e,b=G(ee,n),[y,M]=l.useState(null),W=ve(r,N=>M(N)),I=l.useRef(null),D=l.useRef(""),P=b.viewport,C=s.content-s.viewport,k=le(u),g=le(d),w=Xe(f,10);function L(N){if(I.current){const j=N.clientX-I.current.left,H=N.clientY-I.current.top;h({x:j,y:H})}}return l.useEffect(()=>{const N=j=>{const H=j.target;(y==null?void 0:y.contains(H))&&k(j,C)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[P,y,C,k]),l.useEffect(g,[s,g]),xe(y,w),xe(b.content,w),t.jsx(fs,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:le(c),onThumbPointerUp:le(i),onThumbPositionChange:g,onThumbPointerDown:le(o),children:t.jsx(ke.div,{...m,ref:W,style:{position:"absolute",...m.style},onPointerDown:ce(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),I.current=y.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),L(N))}),onPointerMove:ce(e.onPointerMove,L),onPointerUp:ce(e.onPointerUp,N=>{const j=N.target;j.hasPointerCapture(N.pointerId)&&j.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=D.current,b.viewport&&(b.viewport.style.scrollBehavior=""),I.current=null})})})}),We="ScrollAreaThumb",tr=l.forwardRef((e,r)=>{const{forceMount:n,...s}=e,a=Kt(We,e.__scopeScrollArea);return t.jsx(_e,{present:n||a.hasThumb,children:t.jsx(ps,{ref:r,...s})})}),ps=l.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:s,...a}=e,c=G(We,n),i=Kt(We,n),{onThumbPositionChange:o}=i,d=ve(r,f=>i.onThumbChange(f)),h=l.useRef(void 0),u=Xe(()=>{h.current&&(h.current(),h.current=void 0)},100);return l.useEffect(()=>{const f=c.viewport;if(f){const m=()=>{if(u(),!h.current){const b=vs(f,o);h.current=b,o()}};return o(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[c.viewport,u,o]),t.jsx(ke.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ce(e.onPointerDownCapture,f=>{const b=f.target.getBoundingClientRect(),y=f.clientX-b.left,M=f.clientY-b.top;i.onThumbPointerDown({x:y,y:M})}),onPointerUp:ce(e.onPointerUp,i.onThumbPointerUp)})});tr.displayName=We;var st="ScrollAreaCorner",rr=l.forwardRef((e,r)=>{const n=G(st,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?t.jsx(gs,{...e,ref:r}):null});rr.displayName=st;var gs=l.forwardRef((e,r)=>{const{__scopeScrollArea:n,...s}=e,a=G(st,n),[c,i]=l.useState(0),[o,d]=l.useState(0),h=!!(c&&o);return xe(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),d(u)}),xe(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),i(u)}),h?t.jsx(ke.div,{...s,ref:r,style:{width:c,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function He(e){return e?parseInt(e,10):0}function nr(e,r){const n=e/r;return isNaN(n)?0:n}function Ue(e){const r=nr(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*r;return Math.max(s,18)}function xs(e,r,n,s="ltr"){const a=Ue(n),c=a/2,i=r||c,o=a-i,d=n.scrollbar.paddingStart+i,h=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return sr([d,h],f)(e)}function St(e,r,n="ltr"){const s=Ue(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,c=r.scrollbar.size-a,i=r.content-r.viewport,o=c-s,d=n==="ltr"?[0,i]:[i*-1,0],h=fr(e,d);return sr([0,i],[0,o])(h)}function sr(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(e[1]-e[0]);return r[0]+s*(n-e[0])}}function ar(e,r){return e>0&&e<r}var vs=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const c={left:e.scrollLeft,top:e.scrollTop},i=n.left!==c.left,o=n.top!==c.top;(i||o)&&r(),n=c,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function Xe(e,r){const n=le(e),s=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(s.current),[]),l.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,r)},[n,r])}function xe(e,r){const n=le(r);mr(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,n])}var or=Jt,bs=Gt,ys=rr;const at=l.forwardRef(({className:e,children:r,...n},s)=>t.jsxs(or,{ref:s,className:Ae("relative overflow-hidden",e),...n,children:[t.jsx(bs,{className:"h-full w-full rounded-[inherit]",children:r}),t.jsx(ir,{}),t.jsx(ys,{})]}));at.displayName=or.displayName;const ir=l.forwardRef(({className:e,orientation:r="vertical",...n},s)=>t.jsx(rt,{ref:s,orientation:r,className:Ae("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsx(tr,{className:"relative flex-1 rounded-full bg-border"})}));ir.displayName=rt.displayName;class ws{constructor(){dt(this,"states",new Map)}generateCommitId(){return`commit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getState(r){return this.states.has(r)||this.states.set(r,{currentCommitId:null,commits:new Map,branches:new Map([["main",null]]),currentBranch:"main",stagedChanges:[]}),this.states.get(r)}stageChange(r,n){const s=this.getState(r),a=s.stagedChanges.findIndex(c=>c.path===n.path);a>=0?s.stagedChanges[a]=n:s.stagedChanges.push(n)}unstageChange(r,n){const s=this.getState(r);s.stagedChanges=s.stagedChanges.filter(a=>a.path!==n)}getStagedChanges(r){return this.getState(r).stagedChanges}commit(r,n,s="System"){const a=this.getState(r);if(a.stagedChanges.length===0)throw new Error("No changes to commit");const c=this.generateCommitId(),i={id:c,message:n,author:s,timestamp:Date.now(),changes:[...a.stagedChanges],parentId:a.currentCommitId,themeName:r};return a.commits.set(c,i),a.currentCommitId=c,a.branches.set(a.currentBranch,c),a.stagedChanges=[],i}getCommit(r,n){return this.getState(r).commits.get(n)}getCommitHistory(r,n=50){const s=this.getState(r),a=[];let c=s.currentCommitId,i=0;for(;c&&i<n;){const o=s.commits.get(c);if(!o)break;a.push(o),c=o.parentId,i++}return a}rollback(r,n){const s=this.getState(r),a=s.commits.get(n);if(!a)throw new Error(`Commit ${n} not found`);return s.currentCommitId=n,s.branches.set(s.currentBranch,n),a}createBranch(r,n){const s=this.getState(r);if(s.branches.has(n))throw new Error(`Branch ${n} already exists`);s.branches.set(n,s.currentCommitId)}switchBranch(r,n){const s=this.getState(r);if(!s.branches.has(n))throw new Error(`Branch ${n} not found`);s.currentBranch=n,s.currentCommitId=s.branches.get(n)||null}getBranches(r){return Array.from(this.getState(r).branches.keys())}getCurrentBranch(r){return this.getState(r).currentBranch}getDiff(r,n,s){const a=this.getState(r),c=a.commits.get(n),i=a.commits.get(s);if(!c||!i)throw new Error("One or both commits not found");const o=new Set([...c.changes.map(h=>h.path),...i.changes.map(h=>h.path)]),d=[];return o.forEach(h=>{const u=c.changes.find(m=>m.path===h),f=i.changes.find(m=>m.path===h);!u&&f?d.push(f):u&&!f?d.push({path:h,oldContent:u.newContent,newContent:null,status:"deleted"}):u&&f&&u.newContent!==f.newContent&&d.push({path:h,oldContent:u.newContent,newContent:f.newContent,status:"modified"})}),d}exportHistory(r){const n=this.getState(r),s={currentCommitId:n.currentCommitId,commits:Array.from(n.commits.entries()),branches:Array.from(n.branches.entries()),currentBranch:n.currentBranch,exportedAt:new Date().toISOString()};return JSON.stringify(s,null,2)}importHistory(r,n){try{const s=JSON.parse(n),a=this.getState(r);a.currentCommitId=s.currentCommitId,a.commits=new Map(s.commits),a.branches=new Map(s.branches),a.currentBranch=s.currentBranch}catch(s){throw new Error("Failed to import version history: "+s.message)}}reset(r){this.states.delete(r)}getStats(r){const n=this.getState(r);return{totalCommits:n.commits.size,totalBranches:n.branches.size,currentCommit:n.currentCommitId,stagedChanges:n.stagedChanges.length}}}const Y=new ws;function js(){const{currentThemeName:e}=Be(),[r,n]=l.useState([]),[s,a]=l.useState([]),[c,i]=l.useState(null),o=l.useCallback(()=>{if(!e)return;n(Y.getStagedChanges(e)),a(Y.getCommitHistory(e));const C=Y.getStats(e);i(C.currentCommit)},[e]);l.useEffect(()=>{o()},[o]);const d=l.useCallback(C=>{e&&(Y.stageChange(e,C),o())},[e,o]),h=l.useCallback(C=>{e&&(Y.unstageChange(e,C),o())},[e,o]),u=l.useCallback((C,k="User")=>{if(!e)throw new Error("No theme selected");const g=Y.commit(e,C,k);return o(),g},[e,o]),f=l.useCallback(C=>{if(!e)throw new Error("No theme selected");const k=Y.rollback(e,C);return o(),k},[e,o]),m=l.useCallback((C,k)=>{if(!e)throw new Error("No theme selected");return Y.getDiff(e,C,k)},[e]),b=l.useCallback(C=>{if(!e)throw new Error("No theme selected");Y.createBranch(e,C),o()},[e,o]),y=l.useCallback(C=>{if(!e)throw new Error("No theme selected");Y.switchBranch(e,C),o()},[e,o]),M=l.useCallback(()=>e?Y.getBranches(e):[],[e]),W=l.useCallback(()=>e?Y.getCurrentBranch(e):"main",[e]),I=l.useCallback(()=>{if(!e)throw new Error("No theme selected");return Y.exportHistory(e)},[e]),D=l.useCallback(C=>{if(!e)throw new Error("No theme selected");Y.importHistory(e,C),o()},[e,o]),P=l.useCallback(()=>e?Y.getStats(e):{totalCommits:0,totalBranches:0,currentCommit:null,stagedChanges:0},[e]);return{stagedChanges:r,history:s,currentCommit:c,stageChange:d,unstageChange:h,commit:u,rollback:f,getDiff:m,createBranch:b,switchBranch:y,getBranches:M,getCurrentBranch:W,exportHistory:I,importHistory:D,getStats:P,refreshState:o}}function U(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Ss(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const Fe=43200,Ct=1440;let Cs={};function Ns(){return Cs}function Nt(e){const r=U(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function Re(e,r){const n=U(e),s=U(r),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function ks(e){return Ss(e,Date.now())}function Ps(e,r){const n=U(e),s=U(r),a=n.getFullYear()-s.getFullYear(),c=n.getMonth()-s.getMonth();return a*12+c}function Ms(e){return r=>{const s=(e?Math[e]:Math.trunc)(r);return s===0?0:s}}function Es(e,r){return+U(e)-+U(r)}function Ts(e){const r=U(e);return r.setHours(23,59,59,999),r}function Ds(e){const r=U(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Fs(e){const r=U(e);return+Ts(r)==+Ds(r)}function Rs(e,r){const n=U(e),s=U(r),a=Re(n,s),c=Math.abs(Ps(n,s));let i;if(c<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*c);let o=Re(n,s)===-a;Fs(U(e))&&c===1&&Re(e,s)===1&&(o=!1),i=a*(c-Number(o))}return i===0?0:i}function As(e,r,n){const s=Es(e,r)/1e3;return Ms(n==null?void 0:n.roundingMethod)(s)}const Os={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ls=(e,r,n)=>{let s;const a=Os[e];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Ge(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const zs={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Is={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ws={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hs={date:Ge({formats:zs,defaultWidth:"full"}),time:Ge({formats:Is,defaultWidth:"full"}),dateTime:Ge({formats:Ws,defaultWidth:"full"})},_s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bs=(e,r,n,s)=>_s[e];function we(e){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[o]||e.values[i]}const c=e.argumentCallback?e.argumentCallback(r):r;return a[c]}}const $s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vs={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Us={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ys={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qs={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Js=(e,r)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Qs={ordinalNumber:Js,era:we({values:$s,defaultWidth:"wide"}),quarter:we({values:Vs,defaultWidth:"wide",argumentCallback:e=>e-1}),month:we({values:Us,defaultWidth:"wide"}),day:we({values:Xs,defaultWidth:"wide"}),dayPeriod:we({values:Ys,defaultWidth:"wide",formattingValues:qs,defaultFormattingWidth:"wide"})};function je(e){return(r,n={})=>{const s=n.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],c=r.match(a);if(!c)return null;const i=c[0],o=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(o)?Zs(o,f=>f.test(i)):Gs(o,f=>f.test(i));let h;h=e.valueCallback?e.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const u=r.slice(i.length);return{value:h,rest:u}}}function Gs(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function Zs(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function Ks(e){return(r,n={})=>{const s=r.match(e.matchPattern);if(!s)return null;const a=s[0],c=r.match(e.parsePattern);if(!c)return null;let i=e.valueCallback?e.valueCallback(c[0]):c[0];i=n.valueCallback?n.valueCallback(i):i;const o=r.slice(a.length);return{value:i,rest:o}}}const ea=/^(\d+)(th|st|nd|rd)?/i,ta=/\d+/i,ra={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},na={any:[/^b/i,/^(a|c)/i]},sa={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aa={any:[/1/i,/2/i,/3/i,/4/i]},oa={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ia={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},la={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ca={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},da={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ua={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ha={ordinalNumber:Ks({matchPattern:ea,parsePattern:ta,valueCallback:e=>parseInt(e,10)}),era:je({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),quarter:je({matchPatterns:sa,defaultMatchWidth:"wide",parsePatterns:aa,defaultParseWidth:"any",valueCallback:e=>e+1}),month:je({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any"}),day:je({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:ca,defaultParseWidth:"any"}),dayPeriod:je({matchPatterns:da,defaultMatchWidth:"any",parsePatterns:ua,defaultParseWidth:"any"})},ma={code:"en-US",formatDistance:Ls,formatLong:Hs,formatRelative:Bs,localize:Qs,match:ha,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fa(e,r,n){const s=Ns(),a=(n==null?void 0:n.locale)??s.locale??ma,c=2520,i=Re(e,r);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let d,h;i>0?(d=U(r),h=U(e)):(d=U(e),h=U(r));const u=As(h,d),f=(Nt(h)-Nt(d))/1e3,m=Math.round((u-f)/60);let b;if(m<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,o):u<10?a.formatDistance("lessThanXSeconds",10,o):u<20?a.formatDistance("lessThanXSeconds",20,o):u<40?a.formatDistance("halfAMinute",0,o):u<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):m===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",m,o);if(m<45)return a.formatDistance("xMinutes",m,o);if(m<90)return a.formatDistance("aboutXHours",1,o);if(m<Ct){const y=Math.round(m/60);return a.formatDistance("aboutXHours",y,o)}else{if(m<c)return a.formatDistance("xDays",1,o);if(m<Fe){const y=Math.round(m/Ct);return a.formatDistance("xDays",y,o)}else if(m<Fe*2)return b=Math.round(m/Fe),a.formatDistance("aboutXMonths",b,o)}if(b=Rs(h,d),b<12){const y=Math.round(m/Fe);return a.formatDistance("xMonths",y,o)}else{const y=b%12,M=Math.trunc(b/12);return y<3?a.formatDistance("aboutXYears",M,o):y<9?a.formatDistance("overXYears",M,o):a.formatDistance("almostXYears",M+1,o)}}function pa(e,r){return fa(e,ks(e),r)}function ga(){const{history:e,currentCommit:r,stagedChanges:n,rollback:s,exportHistory:a,importHistory:c,getStats:i}=js(),[o,d]=l.useState(null),[h,u]=l.useState(!1),[f,m]=l.useState(""),[b,y]=l.useState({type:null,message:""}),M=i(),W=async P=>{try{await s(P),y({type:"success",message:`Successfully rolled back to commit ${P.slice(0,8)}`}),setTimeout(()=>y({type:null,message:""}),3e3)}catch(C){y({type:"error",message:`Failed to rollback: ${C.message}`})}},I=()=>{const P=a(),C=new Blob([P],{type:"application/json"}),k=URL.createObjectURL(C),g=document.createElement("a");g.href=k,g.download=`theme-history-${Date.now()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(k)},D=()=>{try{c(f),u(!1),m(""),y({type:"success",message:"Version history imported successfully"})}catch(P){y({type:"error",message:`Failed to import: ${P.message}`})}};return t.jsx("div",{className:"space-y-6",children:t.jsxs(me,{children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(pe,{className:"flex items-center gap-2",children:[t.jsx(It,{className:"h-5 w-5"}),"Version History"]}),t.jsx(ze,{children:"Track and manage theme changes with git-like version control"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",onClick:I,children:[t.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Export"]}),t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>u(!h),children:[t.jsx(zr,{className:"h-4 w-4 mr-2"}),"Import"]})]})]})}),t.jsxs(ge,{children:[h&&t.jsxs("div",{className:"mb-4 p-4 border rounded-md bg-gray-50",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Import History JSON"}),t.jsx("textarea",{className:"w-full h-32 p-2 border rounded font-mono text-sm",value:f,onChange:P=>m(P.target.value),placeholder:"Paste exported history JSON here..."}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsx(O,{size:"sm",onClick:D,children:"Import"}),t.jsx(O,{size:"sm",variant:"outline",onClick:()=>u(!1),children:"Cancel"})]})]}),b.type&&t.jsxs(Or,{variant:b.type==="error"?"destructive":"default",className:"mb-4",children:[b.type==="success"?t.jsx(Mt,{className:"h-4 w-4"}):t.jsx(et,{className:"h-4 w-4"}),t.jsx(Lr,{children:b.message})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"p-4 border rounded-md bg-blue-50",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:M.totalCommits}),t.jsx("div",{className:"text-sm text-blue-700",children:"Total Commits"})]}),t.jsxs("div",{className:"p-4 border rounded-md bg-purple-50",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:M.totalBranches}),t.jsx("div",{className:"text-sm text-purple-700",children:"Branches"})]}),t.jsxs("div",{className:"p-4 border rounded-md bg-orange-50",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:M.stagedChanges}),t.jsx("div",{className:"text-sm text-orange-700",children:"Staged Changes"})]}),t.jsxs("div",{className:"p-4 border rounded-md bg-green-50",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:r?r.slice(0,8):"None"}),t.jsx("div",{className:"text-sm text-green-700",children:"Current Commit"})]})]}),t.jsx($e,{className:"my-4"}),t.jsx(at,{className:"h-[500px]",children:t.jsx("div",{className:"space-y-3",children:e.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(zt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No commits yet"}),t.jsx("p",{className:"text-sm",children:"Make changes and commit to start tracking history"})]}):e.map(P=>t.jsx(xa,{commit:P,isActive:P.id===r,isSelected:P.id===o,onSelect:()=>d(P.id),onRollback:()=>W(P.id)},P.id))})})]})]})})}function xa({commit:e,isActive:r,isSelected:n,onSelect:s,onRollback:a}){const c=pa(new Date(e.timestamp),{addSuffix:!0});return t.jsxs("div",{className:`p-4 border rounded-md cursor-pointer transition-colors ${n?"border-blue-500 bg-blue-50":r?"border-green-500 bg-green-50":"hover:bg-gray-50"}`,onClick:s,children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(zt,{className:"h-4 w-4 text-gray-500"}),t.jsx("code",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:e.id.slice(0,8)}),r&&t.jsx(oe,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Current"})]}),t.jsx("p",{className:"font-medium mb-2",children:e.message}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ir,{className:"h-3 w-3"}),e.author]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(jr,{className:"h-3 w-3"}),c]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Et,{className:"h-3 w-3"}),e.changes.length," file",e.changes.length!==1?"s":""]})]})]}),!r&&t.jsxs(O,{size:"sm",variant:"outline",onClick:i=>{i.stopPropagation(),a()},children:[t.jsx(Lt,{className:"h-4 w-4 mr-1"}),"Rollback"]})]}),n&&t.jsxs("div",{className:"mt-3 pt-3 border-t",children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"Changes:"}),t.jsx("div",{className:"space-y-1",children:e.changes.map((i,o)=>t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx(oe,{variant:"outline",className:`
                    ${i.status==="added"?"bg-green-50 text-green-700 border-green-200":""}
                    ${i.status==="modified"?"bg-blue-50 text-blue-700 border-blue-200":""}
                    ${i.status==="deleted"?"bg-red-50 text-red-700 border-red-200":""}
                  `,children:i.status}),t.jsx("code",{className:"text-xs",children:i.path})]},o))})]})]})}function va({files:e=[],onSearch:r,onReplace:n,onClose:s}){const[a,c]=l.useState(""),[i,o]=l.useState(""),[d,h]=l.useState([]),[u,f]=l.useState(new Set),[m,b]=l.useState(-1),[y,M]=l.useState({caseSensitive:!1,wholeWord:!1,regex:!1,includeFiles:"*",excludeFiles:""}),W=l.useCallback(()=>{if(!a){h([]);return}if(r){const L=r(a,y);h(L),b(L.length>0?0:-1);return}const g=[],w=ba(a,y);e.forEach(L=>{if(!ya(L.path,y))return;L.content.split(`
`).forEach((j,H)=>{let V;const p=new RegExp(w,y.caseSensitive?"g":"gi");for(;(V=p.exec(j))!==null;)g.push({file:L.path,line:H+1,column:V.index+1,match:V[0],context:j})})}),h(g),b(g.length>0?0:-1),f(new Set)},[a,y,e,r]),I=l.useCallback(()=>{if(n){const g=Array.from(u).map(w=>d[w]);n(g,i),h([]),f(new Set),c(""),o("")}},[d,u,i,n]),D=g=>{if(d.length===0)return;let w=m;g==="next"?w=(m+1)%d.length:w=m===0?d.length-1:m-1,b(w)},P=g=>{const w=new Set(u);w.has(g)?w.delete(g):w.add(g),f(w)},C=()=>{f(new Set(d.map((g,w)=>w)))},k=()=>{f(new Set)};return t.jsxs(me,{children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(pe,{className:"flex items-center gap-2",children:[t.jsx(Oe,{className:"h-5 w-5"}),"Search & Replace"]}),t.jsx(ze,{children:"Find and replace text across your theme files"})]}),s&&t.jsx(O,{variant:"ghost",size:"sm",onClick:s,children:t.jsx(Sr,{className:"h-4 w-4"})})]})}),t.jsxs(ge,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{children:"Search For"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Le,{value:a,onChange:g=>c(g.target.value),onKeyDown:g=>g.key==="Enter"&&W(),placeholder:"Enter search query...",className:"flex-1"}),t.jsxs(O,{onClick:W,children:[t.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Find"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{children:"Replace With"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Le,{value:i,onChange:g=>o(g.target.value),placeholder:"Enter replacement...",className:"flex-1"}),t.jsxs(O,{onClick:I,disabled:u.size===0,children:[t.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Replace (",u.size,")"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{id:"caseSensitive",checked:y.caseSensitive,onCheckedChange:g=>M({...y,caseSensitive:g})}),t.jsx("label",{htmlFor:"caseSensitive",className:"text-sm cursor-pointer",children:"Case sensitive"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{id:"wholeWord",checked:y.wholeWord,onCheckedChange:g=>M({...y,wholeWord:g})}),t.jsx("label",{htmlFor:"wholeWord",className:"text-sm cursor-pointer",children:"Whole word"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{id:"regex",checked:y.regex,onCheckedChange:g=>M({...y,regex:g})}),t.jsx("label",{htmlFor:"regex",className:"text-sm cursor-pointer",children:"Use regex"})]})]}),t.jsx($e,{}),d.length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(oe,{variant:"outline",children:[d.length," match",d.length!==1?"es":""]}),m>=0&&t.jsxs("span",{className:"text-sm text-muted-foreground",children:[m+1," of ",d.length]})]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:C,children:"Select All"}),t.jsx(O,{variant:"outline",size:"sm",onClick:k,children:"Deselect All"}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>D("prev"),children:t.jsx(Cr,{className:"h-4 w-4"})}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>D("next"),children:t.jsx(Pt,{className:"h-4 w-4"})})]})]}),t.jsx(at,{className:"h-[400px] border rounded-md",children:t.jsx("div",{className:"p-2 space-y-2",children:d.map((g,w)=>t.jsx("div",{className:`p-3 rounded-md border cursor-pointer transition-colors ${w===m?"bg-blue-50 border-blue-300":u.has(w)?"bg-green-50 border-green-300":"hover:bg-gray-50"}`,onClick:()=>P(w),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:t.jsx(Ee,{checked:u.has(w),onCheckedChange:()=>P(w),onClick:L=>L.stopPropagation()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Et,{className:"h-4 w-4 flex-shrink-0"}),t.jsx("span",{className:"text-sm font-medium truncate",children:g.file}),t.jsxs(oe,{variant:"outline",className:"ml-auto flex-shrink-0",children:["Line ",g.line,":",g.column]})]}),t.jsx("code",{className:"block text-xs bg-white p-2 rounded border overflow-x-auto",children:wa(g.context,g.match,a)})]})]})},w))})})]}),a&&d.length===0&&t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(et,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),t.jsxs("p",{children:['No matches found for "',a,'"']})]})]})]})}function ba(e,r){let n=e;return r.regex||(n=lr(e)),r.wholeWord&&(n=`\\b${n}\\b`),n}function lr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ya(e,r){if(r.excludeFiles){const n=r.excludeFiles.split(",").map(s=>s.trim());for(const s of n)if(kt(e,s))return!1}return r.includeFiles&&r.includeFiles!=="*"?r.includeFiles.split(",").map(s=>s.trim()).some(s=>kt(e,s)):!0}function kt(e,r){const n=r.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".");return new RegExp(`^${n}$`).test(e)}function wa(e,r,n){if(!n)return e;const s=e.split(new RegExp(`(${lr(r)})`,"gi"));return t.jsx(t.Fragment,{children:s.map((a,c)=>a.toLowerCase()===r.toLowerCase()?t.jsx("span",{className:"bg-yellow-200 font-semibold",children:a},c):t.jsx("span",{children:a},c))})}function ja({onConfigChange:e,showPreview:r=!0}){var M,W,I,D,P,C,k,g,w,L,N,j,H,V,p,R,v,A,_,X,B,ue,F,z,$,x,S,E,Q,Me,ot,it,lt,ct;const{currentTheme:n,currentThemeName:s}=Be(),[a,c]=l.useState({colors:{primary:"#3b82f6",secondary:"#64748b",accent:"#f59e0b",background:"#ffffff",foreground:"#1f2937"},typography:{fontFamily:"Inter, system-ui, sans-serif",fontSize:{base:"16px",sm:"14px",lg:"18px",xl:"20px"}},layout:{maxWidth:"1200px",spacing:{xs:"0.5rem",sm:"1rem",md:"1.5rem",lg:"2rem",xl:"3rem"}},features:{darkMode:!0,animations:!0,lazyLoading:!0}}),[i,o]=l.useState("desktop");l.useState(!1);const[d,h]=l.useState(!1);l.useEffect(()=>{n!=null&&n.config&&c({...a,...n.config})},[n]);const u=(T,te)=>{const re={...a},q=T.split(".");let ie=re;for(let ye=0;ye<q.length-1;ye++)ie[q[ye]]||(ie[q[ye]]={}),ie=ie[q[ye]];ie[q[q.length-1]]=te,c(re),h(!0),e==null||e(re)},f=()=>{n!=null&&n.config&&(c({...n.config}),h(!1))},m=async()=>{console.log("Saving theme config:",a),h(!1);const T=document.documentElement;a.colors&&Object.entries(a.colors).forEach(([te,re])=>{re&&T.style.setProperty(`--theme-${te}`,re)})},b=({label:T,value:te,onChange:re})=>t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{className:"text-sm font-medium",children:T}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded border border-border cursor-pointer",style:{backgroundColor:te},onClick:()=>{const q=document.createElement("input");q.type="color",q.value=te,q.onchange=ie=>re(ie.target.value),q.click()}}),t.jsx(Le,{value:te,onChange:q=>re(q.target.value),className:"flex-1 font-mono text-sm",placeholder:"#000000"})]})]}),y=T=>{switch(T){case"desktop":return pt;case"tablet":return _r;case"mobile":return Hr;default:return pt}};return t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[t.jsx("div",{className:"lg:col-span-1 space-y-6",children:t.jsxs(me,{children:[t.jsxs(fe,{children:[t.jsxs(pe,{className:"flex items-center gap-2",children:[t.jsx(Tt,{className:"h-5 w-5"}),"Theme Customizer"]}),t.jsxs(ze,{children:["Customize the appearance of ",s]})]}),t.jsxs(ge,{children:[t.jsxs(Ft,{defaultValue:"colors",className:"space-y-4",children:[t.jsxs(Rt,{className:"grid w-full grid-cols-4",children:[t.jsx(ne,{value:"colors",children:t.jsx(Nr,{className:"h-4 w-4"})}),t.jsx(ne,{value:"typography",children:t.jsx(kr,{className:"h-4 w-4"})}),t.jsx(ne,{value:"layout",children:t.jsx(Wr,{className:"h-4 w-4"})}),t.jsx(ne,{value:"features",children:t.jsx(Pr,{className:"h-4 w-4"})})]}),t.jsx(se,{value:"colors",className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Color Scheme"}),t.jsx(b,{label:"Primary Color",value:((M=a.colors)==null?void 0:M.primary)||"#3b82f6",onChange:T=>u("colors.primary",T)}),t.jsx(b,{label:"Secondary Color",value:((W=a.colors)==null?void 0:W.secondary)||"#64748b",onChange:T=>u("colors.secondary",T)}),t.jsx(b,{label:"Accent Color",value:((I=a.colors)==null?void 0:I.accent)||"#f59e0b",onChange:T=>u("colors.accent",T)}),t.jsx(b,{label:"Background",value:((D=a.colors)==null?void 0:D.background)||"#ffffff",onChange:T=>u("colors.background",T)}),t.jsx(b,{label:"Text Color",value:((P=a.colors)==null?void 0:P.foreground)||"#1f2937",onChange:T=>u("colors.foreground",T)})]})}),t.jsx(se,{value:"typography",className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Typography"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{children:"Font Family"}),t.jsxs("select",{className:"w-full p-2 border rounded-md",value:((C=a.typography)==null?void 0:C.fontFamily)||"Inter, system-ui, sans-serif",onChange:T=>u("typography.fontFamily",T.target.value),children:[t.jsx("option",{value:"Inter, system-ui, sans-serif",children:"Inter"}),t.jsx("option",{value:"Roboto, sans-serif",children:"Roboto"}),t.jsx("option",{value:"Open Sans, sans-serif",children:"Open Sans"}),t.jsx("option",{value:"Lato, sans-serif",children:"Lato"}),t.jsx("option",{value:"Montserrat, sans-serif",children:"Montserrat"}),t.jsx("option",{value:"Poppins, sans-serif",children:"Poppins"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{children:"Base Font Size"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ft,{value:[parseInt(((w=(g=(k=a.typography)==null?void 0:k.fontSize)==null?void 0:g.base)==null?void 0:w.replace("px",""))||"16")],onValueChange:([T])=>u("typography.fontSize.base",`${T}px`),min:12,max:24,step:1,className:"flex-1"}),t.jsx("span",{className:"text-sm w-12",children:((N=(L=a.typography)==null?void 0:L.fontSize)==null?void 0:N.base)||"16px"})]})]})]})}),t.jsx(se,{value:"layout",className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Layout Settings"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{children:"Max Width"}),t.jsxs("select",{className:"w-full p-2 border rounded-md",value:((j=a.layout)==null?void 0:j.maxWidth)||"1200px",onChange:T=>u("layout.maxWidth",T.target.value),children:[t.jsx("option",{value:"1024px",children:"1024px"}),t.jsx("option",{value:"1200px",children:"1200px"}),t.jsx("option",{value:"1400px",children:"1400px"}),t.jsx("option",{value:"100%",children:"Full Width"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(K,{children:"Base Spacing"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ft,{value:[parseFloat(((p=(V=(H=a.layout)==null?void 0:H.spacing)==null?void 0:V.sm)==null?void 0:p.replace("rem",""))||"1")],onValueChange:([T])=>u("layout.spacing.sm",`${T}rem`),min:.5,max:3,step:.25,className:"flex-1"}),t.jsx("span",{className:"text-sm w-16",children:((v=(R=a.layout)==null?void 0:R.spacing)==null?void 0:v.sm)||"1rem"})]})]})]})}),t.jsx(se,{value:"features",className:"space-y-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Features"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(K,{children:"Dark Mode Support"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable dark mode toggle"})]}),t.jsx(Ye,{checked:((A=a.features)==null?void 0:A.darkMode)||!1,onCheckedChange:T=>u("features.darkMode",T)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(K,{children:"Animations"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable smooth animations"})]}),t.jsx(Ye,{checked:((_=a.features)==null?void 0:_.animations)||!1,onCheckedChange:T=>u("features.animations",T)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx(K,{children:"Lazy Loading"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimize image loading"})]}),t.jsx(Ye,{checked:((X=a.features)==null?void 0:X.lazyLoading)||!1,onCheckedChange:T=>u("features.lazyLoading",T)})]})]})})]}),t.jsx($e,{className:"my-6"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O,{onClick:m,disabled:!d,className:"flex-1",children:[t.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),t.jsxs(O,{variant:"outline",onClick:f,children:[t.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Reset"]})]}),d&&t.jsx("div",{className:"mt-2",children:t.jsx(oe,{variant:"secondary",className:"text-xs",children:"Unsaved changes"})})]})]})}),r&&t.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.jsxs(me,{children:[t.jsx(fe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(pe,{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"h-5 w-5"}),"Live Preview"]}),t.jsx(ze,{children:"See your changes in real-time"})]}),t.jsx("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-md",children:["desktop","tablet","mobile"].map(T=>{const te=y(T);return t.jsx(O,{variant:i===T?"default":"ghost",size:"sm",onClick:()=>o(T),children:t.jsx(te,{className:"h-4 w-4"})},T)})})]})}),t.jsx(ge,{children:t.jsx("div",{className:"border rounded-lg overflow-hidden bg-background",children:t.jsx("div",{className:`mx-auto transition-all duration-300 ${i==="desktop"?"w-full":i==="tablet"?"w-[768px]":"w-[375px]"}`,style:{"--theme-primary":(B=a.colors)==null?void 0:B.primary,"--theme-secondary":(ue=a.colors)==null?void 0:ue.secondary,"--theme-accent":(F=a.colors)==null?void 0:F.accent,"--theme-background":(z=a.colors)==null?void 0:z.background,"--theme-foreground":($=a.colors)==null?void 0:$.foreground,fontFamily:(x=a.typography)==null?void 0:x.fontFamily,fontSize:(E=(S=a.typography)==null?void 0:S.fontSize)==null?void 0:E.base},children:t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsx("div",{className:"h-12 rounded-md flex items-center px-4",style:{backgroundColor:(Q=a.colors)==null?void 0:Q.primary,color:"white"},children:t.jsx("h1",{className:"text-lg font-semibold",children:"Header Preview"})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h2",{className:"text-xl font-bold",style:{color:(Me=a.colors)==null?void 0:Me.foreground},children:"Sample Content"}),t.jsx("p",{className:"text-sm",style:{color:(ot=a.colors)==null?void 0:ot.secondary},children:"This is how your theme will look with the current settings."}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"px-4 py-2 rounded-md text-white text-sm",style:{backgroundColor:(it=a.colors)==null?void 0:it.primary},children:"Primary Button"}),t.jsx("button",{className:"px-4 py-2 rounded-md text-sm border",style:{borderColor:(lt=a.colors)==null?void 0:lt.secondary,color:(ct=a.colors)==null?void 0:ct.secondary},children:"Secondary Button"})]})]})]})})})})]})})]})}function Xa(){const e=pr(),{currentThemeName:r}=Be(),[n,s]=l.useState("editor"),{doAction:a}=Xr(),c=()=>{e("/admin/themes")};return de.useEffect(()=>{a("admin.page.render","theme-advanced-editor")},[]),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(O,{variant:"outline",size:"sm",onClick:c,children:[t.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Back to Themes"]}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(ht,{className:"h-6 w-6"}),"Advanced Theme Editor"]}),t.jsx("p",{className:"text-muted-foreground",children:"Full-featured theme development environment with live preview, version control, and search"})]})]}),t.jsx(oe,{variant:"outline",className:"text-lg px-4 py-2",children:r})]}),t.jsx($e,{}),t.jsxs(Ft,{value:n,onValueChange:s,className:"space-y-6",children:[t.jsxs(Rt,{className:"grid w-full grid-cols-5",children:[t.jsxs(ne,{value:"editor",className:"gap-2",children:[t.jsx(Ze,{className:"h-4 w-4"}),"Code Editor"]}),t.jsxs(ne,{value:"preview",className:"gap-2",children:[t.jsx(Dt,{className:"h-4 w-4"}),"Live Preview"]}),t.jsxs(ne,{value:"version",className:"gap-2",children:[t.jsx(It,{className:"h-4 w-4"}),"Version Control"]}),t.jsxs(ne,{value:"search",className:"gap-2",children:[t.jsx(Oe,{className:"h-4 w-4"}),"Search & Replace"]}),t.jsxs(ne,{value:"customizer",className:"gap-2",children:[t.jsx(Tt,{className:"h-4 w-4"}),"Customizer"]})]}),t.jsx(se,{value:"editor",className:"space-y-4",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsx("div",{children:t.jsx(is,{themeName:r})}),t.jsx("div",{className:"border-t pt-4",children:t.jsx(mt,{previewUrl:"/",theme:r,initialDevice:"desktop",compactMode:!0})})]})}),t.jsx(se,{value:"preview",className:"space-y-4",children:t.jsx(mt,{previewUrl:"/",theme:r})}),t.jsx(se,{value:"version",className:"space-y-4",children:t.jsx(ga,{})}),t.jsx(se,{value:"search",className:"space-y-4",children:t.jsx(va,{})}),t.jsx(se,{value:"customizer",className:"space-y-4",children:t.jsx(ja,{showPreview:!0})})]}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[t.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[t.jsx(ht,{className:"h-4 w-4"}),"Phase 3 Features"]}),t.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[t.jsx("li",{children:" WordPress-like hooks system for extensibility"}),t.jsx("li",{children:" Git-like version control with commit history and rollback"}),t.jsx("li",{children:" Live preview with device selector and iframe sandbox"}),t.jsx("li",{children:" Real-time theme customizer with instant updates"}),t.jsx("li",{children:" Advanced search & replace across all theme files"})]})]})]})}export{Xa as default};
