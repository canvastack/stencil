import{j as e}from"./ui-vendor-CJNjIdOR.js";import{r as t}from"./react-vendor-92AQlTAG.js";import{_ as A,I as H,B as i,aL as Q,C as S,a as F,b as I,X as R,d as M,M as w,aa as Z,j as y,a6 as q,c as G,aj as X,aM as _}from"./index-Dj8ncPAG.js";import{T as J,a as K,b as u,c as p}from"./tabs-BSJrF7vJ.js";import{t as O}from"./ThemePackageManager-CFeF7rYd.js";import{D as P}from"./download-C93Gk9fO.js";import"./three-vendor-CVohgf7y.js";import"./jszip.min-VaQned3v.js";function ie(){const[n,g]=t.useState([]),[a,c]=t.useState([]),[d,B]=t.useState(""),[o,z]=t.useState("all"),[j,b]=t.useState(null),[D,C]=t.useState(!1),[m,v]=t.useState(null),[N,U]=t.useState("popular"),[k,T]=t.useState(!1);t.useEffect(()=>{L()},[]),t.useEffect(()=>{E()},[n,d,o,N]);const L=async()=>{const s=[{id:"1",name:"modern-business",displayName:"Modern Business Pro",author:"ThemeVendor",version:"2.1.0",description:"A sleek, modern theme designed for professional businesses. Features advanced customization options and responsive design.",preview:"https://via.placeholder.com/600x400/4f46e5/ffffff?text=Modern+Business+Pro",screenshots:[],downloads:15420,rating:4.8,reviews:342,price:0,isPremium:!1,isVerified:!0,isFeatured:!0,category:"Business",tags:["professional","modern","responsive"],lastUpdated:"2024-01-15",size:2.4,compatibility:"^1.0.0"},{id:"2",name:"creative-portfolio",displayName:"Creative Portfolio",author:"DesignStudio",version:"1.5.2",description:"Showcase your creative work with this stunning portfolio theme. Perfect for artists, photographers, and designers.",preview:"https://via.placeholder.com/600x400/8b5cf6/ffffff?text=Creative+Portfolio",screenshots:[],downloads:8760,rating:4.9,reviews:187,price:49,isPremium:!0,isVerified:!0,isFeatured:!0,category:"Portfolio",tags:["creative","portfolio","artist"],lastUpdated:"2024-01-10",size:3.1,compatibility:"^1.0.0"},{id:"3",name:"minimal-clean",displayName:"Minimal & Clean",author:"MinimalThemes",version:"1.0.0",description:"Clean, minimal design focused on content and readability. Perfect for blogs and content-focused websites.",preview:"https://via.placeholder.com/600x400/10b981/ffffff?text=Minimal+Clean",screenshots:[],downloads:12350,rating:4.6,reviews:298,price:0,isPremium:!1,isVerified:!1,isFeatured:!1,category:"Minimal",tags:["minimal","clean","blog"],lastUpdated:"2024-01-05",size:1.8,compatibility:"^1.0.0"}];g(s),c(s)},E=()=>{let s=[...n];if(d){const l=d.toLowerCase();s=s.filter(r=>r.displayName.toLowerCase().includes(l)||r.description.toLowerCase().includes(l)||r.tags.some(h=>h.toLowerCase().includes(l)))}o!=="all"&&(s=s.filter(l=>l.category===o)),s.sort((l,r)=>{switch(N){case"popular":return r.downloads-l.downloads;case"newest":return new Date(r.lastUpdated).getTime()-new Date(l.lastUpdated).getTime();case"rating":return r.rating-l.rating;case"name":return l.displayName.localeCompare(r.displayName);default:return 0}}),c(s)},x=async s=>{b(s),C(!0),v(null);try{const l=new Blob(["mock theme data"],{type:"application/zip"}),r=new File([l],`${s.name}.zip`,{type:"application/zip"}),h=await O.installThemeFromZip(r,$=>v($));h.success?(alert(`Theme "${s.displayName}" installed successfully!`),b(null)):alert(`Installation failed: ${h.error}`)}catch(l){alert(`Installation error: ${l instanceof Error?l.message:"Unknown error"}`)}finally{C(!1),v(null)}},V=["all","Business","Portfolio","Minimal","E-commerce","Blog"];return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Theme Marketplace"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover and install professional themes for your Stencil store"})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(H,{type:"text",placeholder:"Search themes...",value:d,onChange:s=>B(s.target.value),className:"pl-10"})]}),e.jsxs(i,{variant:"outline",onClick:()=>T(!k),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Filters"]})]}),k&&e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{className:"text-lg",children:"Filters"}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>T(!1),children:e.jsx(R,{className:"h-4 w-4"})})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(s=>e.jsx(i,{variant:o===s?"default":"outline",size:"sm",onClick:()=>z(s),children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort By"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"popular",label:"Most Popular"},{value:"newest",label:"Newest"},{value:"rating",label:"Highest Rated"},{value:"name",label:"Name"}].map(s=>e.jsx(i,{variant:N===s.value?"default":"outline",size:"sm",onClick:()=>U(s.value),children:s.label},s.value))})]})]})]})]}),e.jsxs(J,{defaultValue:"all",className:"mb-6",children:[e.jsxs(K,{children:[e.jsx(u,{value:"all",children:"All Themes"}),e.jsxs(u,{value:"featured",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Featured"]}),e.jsx(u,{value:"free",children:"Free"}),e.jsx(u,{value:"premium",children:"Premium"})]}),e.jsx(p,{value:"all",className:"mt-6",children:e.jsx(f,{themes:a,onInstall:x})}),e.jsx(p,{value:"featured",className:"mt-6",children:e.jsx(f,{themes:a.filter(s=>s.isFeatured),onInstall:x})}),e.jsx(p,{value:"free",className:"mt-6",children:e.jsx(f,{themes:a.filter(s=>!s.isPremium),onInstall:x})}),e.jsx(p,{value:"premium",className:"mt-6",children:e.jsx(f,{themes:a.filter(s=>s.isPremium),onInstall:x})})]}),D&&m&&e.jsxs("div",{className:"fixed bottom-4 right-4 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h3",{className:"font-semibold mb-2",children:["Installing ",j==null?void 0:j.displayName]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:m.message}),e.jsxs("span",{children:[m.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${m.progress}%`}})})]})]})]})})}function f({themes:n,onInstall:g}){return n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No themes found"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>e.jsxs(S,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.preview,alt:a.displayName,className:"w-full h-48 object-cover"}),a.isFeatured&&e.jsxs(y,{className:"absolute top-2 right-2 bg-orange-500",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),"Featured"]}),a.isPremium&&e.jsx(y,{className:"absolute top-2 left-2 bg-purple-500",children:"Premium"})]}),e.jsx(F,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(I,{className:"text-lg flex items-center gap-2",children:[a.displayName,a.isVerified&&e.jsx(q,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(G,{className:"text-sm",children:["by ",a.author]})]}),a.isPremium&&e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-bold text-lg text-orange-600",children:["$",a.price]})})]})}),e.jsxs(M,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:a.rating}),e.jsxs("span",{className:"text-gray-400",children:["(",a.reviews,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs("span",{children:[(a.downloads/1e3).toFixed(1),"k"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:a.tags.slice(0,3).map(c=>e.jsx(y,{variant:"secondary",className:"text-xs",children:c},c))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-3 w-3"}),e.jsxs("span",{children:["Updated ",new Date(a.lastUpdated).toLocaleDateString()]})]}),e.jsxs("span",{children:[a.size," MB"]})]})]}),e.jsxs(_,{className:"flex gap-2",children:[e.jsxs(i,{className:"flex-1",onClick:()=>g(a),children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Install"]}),e.jsx(i,{variant:"outline",children:"Preview"})]})]},a.id))})}export{ie as default};
