import{j as e}from"./ui-vendor-CJNjIdOR.js";import{d as L,c as V,r as F}from"./react-vendor-92AQlTAG.js";import{q as z,B as u,s as A,X as T,E as $,C as f,L as n,I as o,T as S,S as x,t as p,v as j,w as g,x as r,P as b,f as h,y as D,e as P,g as M,W as R,r as W,j as Q}from"./index-Dj8ncPAG.js";import{T as _,a as q,b as N,c as w}from"./tabs-BSJrF7vJ.js";import{S as U}from"./switch-BLCjptGd.js";import{L as J}from"./LivePreview-cZ2bimq2.js";import{S as X}from"./save-DIKQG8Zq.js";import"./three-vendor-CVohgf7y.js";import"./rotate-ccw-D4D4Ldvd.js";import"./refresh-cw-Bt5ud7Vo.js";import"./external-link-BXUxkYiG.js";import"./minimize-2-BuqSuxBK.js";import"./tablet-DoZ_bbKv.js";function oe(){const{id:O}=L(),C=V(),k=O==="new",{product:m,loading:B}=z(k?"":O||""),v={name:"",slug:"",description:"",longDescription:"",category:"",subcategory:"",tags:[],material:"",price:0,currency:"IDR",priceUnit:"per pcs",minOrder:1,specifications:[],customizable:!1,customOptions:[],inStock:!0,stockQuantity:0,leadTime:"",seoTitle:"",seoDescription:"",seoKeywords:[],status:"draft",featured:!1,images:[],productType:"",size:"",bahan:"",bahanOptions:[],kualitas:"standard",kualitasOptions:[],ketebalan:"1mm",ketebalanOptions:[],ukuran:"15x20",ukuranOptions:[],warnaBackground:"#FFFFFF",designFileUrl:"",customTexts:[],notesWysiwyg:""},[s,l]=F.useState(v);F.useEffect(()=>{sessionStorage.setItem("productDraft",JSON.stringify({...s,images:s.images.length>0?s.images:["https://via.placeholder.com/800x600?text=Product+Image"],specifications:s.specifications.map(a=>({key:a.key,value:a.value})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))},[s]),F.useEffect(()=>{k?l(v):m&&l({...v,...m,productType:m.productType||v.productType,bahan:m.bahan||v.bahan,kualitas:m.kualitas||v.kualitas,ketebalan:m.ketebalan||v.ketebalan,ukuran:m.ukuran||v.ukuran,warnaBackground:m.warnaBackground||v.warnaBackground,customTexts:m.customTexts||[],bahanOptions:m.bahanOptions||[],kualitasOptions:m.kualitasOptions||[],ketebalanOptions:m.ketebalanOptions||[],ukuranOptions:m.ukuranOptions||[],notesWysiwyg:m.notesWysiwyg||""})},[m,k]);const E=()=>{h.success(k?"Product created successfully":"Product updated successfully"),C("/admin/products")},K=()=>{l({...s,specifications:[...s.specifications,{key:"",value:""}]})},I=a=>{l({...s,specifications:s.specifications.filter((i,c)=>c!==a)})};return B&&!k?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{children:"Loading product..."})]})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>C("/admin/products"),children:e.jsx(A,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:k?"New Product":"Edit Product"}),e.jsx("p",{className:"text-muted-foreground",children:k?"Create a new product":"Update product details"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",onClick:()=>C("/admin/products"),children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Cancel"]}),e.jsxs(u,{variant:"outline",onClick:()=>{const i=`/products/${s.slug||s.name.toLowerCase().replace(/\s+/g,"-")}?preview=true`,t="/stencil/",d=`${window.location.origin}${t.replace(/\/+$/,"")}/${i.replace(/^\//,"")}`;window.open(d,"_blank")},children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsxs(u,{onClick:E,children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Save"]})]})]}),e.jsxs(_,{defaultValue:"basic",className:"space-y-4",children:[e.jsxs(q,{children:[e.jsx(N,{value:"basic",children:"Basic Info"}),e.jsx(N,{value:"pricing",children:"Pricing & Stock"}),e.jsx(N,{value:"specifications",children:"Specifications"}),e.jsx(N,{value:"customization",children:"Form Order"}),e.jsx(N,{value:"images",children:"Images"}),e.jsx(N,{value:"seo",children:"SEO"})]}),e.jsx(w,{value:"basic",className:"space-y-4",children:e.jsxs(f,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Product Name *"}),e.jsx(o,{id:"name",value:s.name,onChange:a=>l({...s,name:a.target.value}),placeholder:"Enter product name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"slug",children:"URL Slug *"}),e.jsx(o,{id:"slug",value:s.slug,onChange:a=>l({...s,slug:a.target.value}),placeholder:"product-url-slug"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Short Description *"}),e.jsx(S,{id:"description",value:s.description,onChange:a=>l({...s,description:a.target.value}),placeholder:"Brief product description",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"longDescription",children:"Long Description"}),e.jsx(S,{id:"longDescription",value:s.longDescription,onChange:a=>l({...s,longDescription:a.target.value}),placeholder:"Detailed product description",rows:6})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"category",children:"Category *"}),e.jsxs(x,{value:s.category,onValueChange:a=>l({...s,category:a}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select category"})}),e.jsxs(g,{children:[e.jsx(r,{value:"Etching",children:"Etching"}),e.jsx(r,{value:"Awards",children:"Awards"}),e.jsx(r,{value:"Signage",children:"Signage"}),e.jsx(r,{value:"Custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"subcategory",children:"Subcategory"}),e.jsx(o,{id:"subcategory",value:s.subcategory,onChange:a=>l({...s,subcategory:a.target.value}),placeholder:"Enter subcategory"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"material",children:"Material *"}),e.jsx(o,{id:"material",value:s.material,onChange:a=>l({...s,material:a.target.value}),placeholder:"e.g., Stainless Steel"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"tags",children:"Tags (comma separated)"}),e.jsx(o,{id:"tags",value:s.tags.join(", "),onChange:a=>l({...s,tags:a.target.value.split(",").map(i=>i.trim())}),placeholder:"laser, etching, custom"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"featured",checked:s.featured,onCheckedChange:a=>l({...s,featured:a})}),e.jsx(n,{htmlFor:"featured",children:"Featured Product"})]})]})}),e.jsx(w,{value:"pricing",className:"space-y-4",children:e.jsxs(f,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"price",children:"Price *"}),e.jsx(o,{id:"price",type:"number",value:s.price,onChange:a=>l({...s,price:parseFloat(a.target.value)}),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"currency",children:"Currency"}),e.jsxs(x,{value:s.currency,onValueChange:a=>l({...s,currency:a}),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(r,{value:"IDR",children:"IDR"}),e.jsx(r,{value:"USD",children:"USD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"priceUnit",children:"Price Unit"}),e.jsx(o,{id:"priceUnit",value:s.priceUnit,onChange:a=>l({...s,priceUnit:a.target.value}),placeholder:"per pcs"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"minOrder",children:"Minimum Order"}),e.jsx(o,{id:"minOrder",type:"number",value:s.minOrder,onChange:a=>l({...s,minOrder:parseInt(a.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"stockQuantity",children:"Stock Quantity"}),e.jsx(o,{id:"stockQuantity",type:"number",value:s.stockQuantity,onChange:a=>l({...s,stockQuantity:parseInt(a.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"leadTime",children:"Lead Time"}),e.jsx(o,{id:"leadTime",value:s.leadTime,onChange:a=>l({...s,leadTime:a.target.value}),placeholder:"5-7 hari kerja"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"inStock",checked:s.inStock,onCheckedChange:a=>l({...s,inStock:a})}),e.jsx(n,{htmlFor:"inStock",children:"In Stock"})]})]})}),e.jsx(w,{value:"specifications",className:"space-y-4",children:e.jsxs(f,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{children:"Product Specifications"}),e.jsxs(u,{variant:"outline",size:"sm",onClick:K,children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Specification"]})]}),e.jsx("div",{className:"space-y-2",children:s.specifications.map((a,i)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{placeholder:"Key",value:a.key,onChange:c=>{const t=[...s.specifications];t[i].key=c.target.value,l({...s,specifications:t})}}),e.jsx(o,{placeholder:"Value",value:a.value,onChange:c=>{const t=[...s.specifications];t[i].value=c.target.value,l({...s,specifications:t})}}),e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>I(i),children:e.jsx(T,{className:"h-4 w-4"})})]},i))})]})}),e.jsx(w,{value:"customization",className:"space-y-4",children:e.jsxs(f,{className:"p-6 space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Product Form Order Configuration"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"productType",children:"Tipe Produk *"}),e.jsxs(x,{value:s.productType,onValueChange:a=>l({...s,productType:a}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Pilih tipe produk"})}),e.jsxs(g,{children:[e.jsx(r,{value:"metal",children:"Etching Logam"}),e.jsx(r,{value:"glass",children:"Etching Kaca"}),e.jsx(r,{value:"award",children:"Plakat Penghargaan"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"bahan",children:"Bahan *"}),e.jsxs(x,{value:s.bahan,onValueChange:a=>l({...s,bahan:a}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Pilih bahan"})}),e.jsxs(g,{children:[e.jsx(r,{value:"akrilik",children:"Akrilik"}),e.jsx(r,{value:"kuningan",children:"Kuningan"}),e.jsx(r,{value:"tembaga",children:"Tembaga"}),e.jsx(r,{value:"stainless-steel",children:"Stainless Steel"}),e.jsx(r,{value:"aluminum",children:"Aluminum"}),s.bahanOptions.map(a=>e.jsx(r,{value:a.toLowerCase().replace(/\s+/g,"-"),children:a},a))]})]}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(o,{id:"newBahan",placeholder:"Tambah bahan baru...",onKeyDown:a=>{if(a.key==="Enter"&&a.currentTarget.value.trim()){const i=a.currentTarget.value.trim();l({...s,bahanOptions:[...s.bahanOptions,i]}),a.currentTarget.value="",h.success(`Bahan "${i}" berhasil ditambahkan`)}}})}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>{const a=document.getElementById("newBahan");if(a&&a.value.trim()){const i=a.value.trim();l({...s,bahanOptions:[...s.bahanOptions,i]}),a.value="",h.success(`Bahan "${i}" berhasil ditambahkan`)}},children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Tambah"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"kualitas",children:"Kualitas *"}),e.jsxs(x,{value:s.kualitas,onValueChange:a=>l({...s,kualitas:a}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Pilih kualitas"})}),e.jsxs(g,{children:[e.jsx(r,{value:"standard",children:"Standard"}),e.jsx(r,{value:"tinggi",children:"Tinggi"}),s.kualitasOptions.map(a=>e.jsx(r,{value:a.toLowerCase().replace(/\s+/g,"-"),children:a},a))]})]}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(o,{id:"newKualitas",placeholder:"Tambah kualitas baru...",onKeyDown:a=>{if(a.key==="Enter"&&a.currentTarget.value.trim()){const i=a.currentTarget.value.trim();l({...s,kualitasOptions:[...s.kualitasOptions,i]}),a.currentTarget.value="",h.success(`Kualitas "${i}" berhasil ditambahkan`)}}})}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>{const a=document.getElementById("newKualitas");if(a&&a.value.trim()){const i=a.value.trim();l({...s,kualitasOptions:[...s.kualitasOptions,i]}),a.value="",h.success(`Kualitas "${i}" berhasil ditambahkan`)}},children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Tambah"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"ketebalan",children:"Ketebalan"}),e.jsxs(x,{value:s.ketebalan,onValueChange:a=>l({...s,ketebalan:a}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Pilih ketebalan"})}),e.jsxs(g,{children:[e.jsx(r,{value:"0.5mm",children:"0.5mm"}),e.jsx(r,{value:"1mm",children:"1mm"}),e.jsx(r,{value:"2mm",children:"2mm"}),e.jsx(r,{value:"3mm",children:"3mm"}),s.ketebalanOptions.map(a=>e.jsx(r,{value:a,children:a},a))]})]}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(o,{id:"newKetebalan",placeholder:"Tambah ketebalan baru (contoh: 5mm)...",onKeyDown:a=>{if(a.key==="Enter"&&a.currentTarget.value.trim()){const i=a.currentTarget.value.trim();l({...s,ketebalanOptions:[...s.ketebalanOptions,i]}),a.currentTarget.value="",h.success(`Ketebalan "${i}" berhasil ditambahkan`)}}})}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>{const a=document.getElementById("newKetebalan");if(a&&a.value.trim()){const i=a.value.trim();l({...s,ketebalanOptions:[...s.ketebalanOptions,i]}),a.value="",h.success(`Ketebalan "${i}" berhasil ditambahkan`)}},children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Tambah"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"ukuran",children:"Ukuran *"}),e.jsxs(x,{value:s.ukuran,onValueChange:a=>l({...s,ukuran:a}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Pilih ukuran"})}),e.jsxs(g,{children:[e.jsx(r,{value:"10x15",children:"10cm x 15cm"}),e.jsx(r,{value:"15x20",children:"15cm x 20cm (Rekomendasi)"}),e.jsx(r,{value:"20x30",children:"20cm x 30cm"}),e.jsx(r,{value:"30x40",children:"30cm x 40cm"}),e.jsx(r,{value:"custom",children:"Custom Size"}),s.ukuranOptions.map(a=>e.jsx(r,{value:a,children:a},a))]})]}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(o,{id:"newUkuran",placeholder:"Tambah ukuran baru (contoh: 25cm x 35cm)...",onKeyDown:a=>{if(a.key==="Enter"&&a.currentTarget.value.trim()){const i=a.currentTarget.value.trim();l({...s,ukuranOptions:[...s.ukuranOptions,i]}),a.currentTarget.value="",h.success(`Ukuran "${i}" berhasil ditambahkan`)}}})}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>{const a=document.getElementById("newUkuran");if(a&&a.value.trim()){const i=a.value.trim();l({...s,ukuranOptions:[...s.ukuranOptions,i]}),a.value="",h.success(`Ukuran "${i}" berhasil ditambahkan`)}},children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Tambah"]})]})]}),e.jsx(D,{value:s.warnaBackground,onChange:a=>l({...s,warnaBackground:a}),label:"Warna Dasar/Background",showPresets:!0,required:!0}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"designFileUrl",children:"File Upload Design"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{id:"designFileUrl",value:s.designFileUrl,onChange:a=>l({...s,designFileUrl:a.target.value}),placeholder:"URL atau upload dari komputer...",className:"flex-1"}),e.jsxs(u,{type:"button",variant:"outline",onClick:()=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.onchange=i=>{var t;const c=(t=i.target.files)==null?void 0:t[0];if(c){if(c.size>10*1024*1024){h.error("File terlalu besar. Maksimal 10MB.");return}const d=new FileReader;d.onloadend=()=>{l({...s,designFileUrl:d.result}),h.success("File berhasil diupload")},d.readAsDataURL(c)}},a.click()},children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),s.designFileUrl&&e.jsxs("div",{className:"relative group border rounded-lg p-2",children:[e.jsx("img",{src:s.designFileUrl,alt:"Design preview",className:"w-full h-48 object-contain bg-muted rounded"}),e.jsx(u,{type:"button",variant:"destructive",size:"sm",className:"absolute top-4 right-4",onClick:()=>l({...s,designFileUrl:""}),children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload file dari komputer (max 10MB) atau masukkan URL"})]}),e.jsxs("div",{className:"space-y-3 border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{className:"text-sm font-medium",children:"Teks Custom (Opsional)"}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>{l({...s,customTexts:[...s.customTexts,{text:"",placement:"depan",position:"atas",color:"#000000"}]})},children:[e.jsx(b,{className:"h-4 w-4 mr-1"}),"Add Text"]})]}),e.jsx("div",{className:"space-y-3",children:s.customTexts.map((a,i)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Teks Custom #",i+1]}),e.jsx(u,{type:"button",variant:"ghost",size:"icon",onClick:()=>{const c=s.customTexts.filter((t,d)=>d!==i);l({...s,customTexts:c})},children:e.jsx(M,{className:"h-4 w-4"})})]}),e.jsx(o,{value:a.text,onChange:c=>{const t=[...s.customTexts];t[i].text=c.target.value,l({...s,customTexts:t})},placeholder:"Masukkan teks custom"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs",children:"Letak Teks"}),e.jsxs(x,{value:a.placement,onValueChange:c=>{const t=[...s.customTexts];t[i].placement=c,l({...s,customTexts:t})},children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(r,{value:"depan",children:"Depan"}),e.jsx(r,{value:"belakang",children:"Belakang"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs",children:"Posisi Teks"}),e.jsxs(x,{value:a.position,onValueChange:c=>{const t=[...s.customTexts];t[i].position=c,l({...s,customTexts:t})},children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(r,{value:"atas",children:"Atas"}),e.jsx(r,{value:"bawah",children:"Bawah"}),e.jsx(r,{value:"kiri",children:"Kiri"}),e.jsx(r,{value:"kanan",children:"Kanan"}),e.jsx(r,{value:"tengah",children:"Tengah"})]})]})]})]}),e.jsx(D,{value:a.color,onChange:c=>{const t=[...s.customTexts];t[i].color=c,l({...s,customTexts:t})},label:"Warna Teks",showPresets:!0})]},i))})]}),e.jsx("div",{className:"space-y-2 border-t pt-4",children:e.jsx(R,{value:s.notesWysiwyg,onChange:a=>l({...s,notesWysiwyg:a}),label:"Catatan Tambahan",placeholder:"Tambahkan catatan khusus atau instruksi tambahan untuk produk ini...",height:300,required:!0})})]})}),e.jsx(w,{value:"images",className:"space-y-4",children:e.jsxs(f,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{children:"Product Images (Max 10MB per image)"}),e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.multiple=!0,a.onchange=i=>{Array.from(i.target.files||[]).forEach(t=>{if(t.size>10*1024*1024){h.error(`File ${t.name} terlalu besar. Maksimal 10MB per gambar.`);return}const d=new FileReader;d.onloadend=()=>{l(y=>({...y,images:[...y.images,d.result]}))},d.readAsDataURL(t)})},a.click()},children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Add Images"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.images.map((a,i)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:W(a),alt:`Product ${i+1}`,className:"w-full h-40 object-cover rounded border"}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(u,{variant:"destructive",size:"icon",onClick:()=>{l(c=>({...c,images:c.images.filter((t,d)=>d!==i)}))},children:e.jsx(T,{className:"h-4 w-4"})})}),i===0&&e.jsx(Q,{className:"absolute bottom-2 left-2",children:"Primary"})]},i)),e.jsx("div",{className:"w-full h-40 border-2 border-dashed rounded flex items-center justify-center cursor-pointer hover:bg-muted/50",onClick:()=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.multiple=!0,a.onchange=i=>{Array.from(i.target.files||[]).forEach(t=>{if(t.size>10*1024*1024){h.error(`File ${t.name} terlalu besar. Maksimal 10MB per gambar.`);return}const d=new FileReader;d.onloadend=()=>{l(y=>({...y,images:[...y.images,d.result]}))},d.readAsDataURL(t)})},a.click()},children:e.jsxs("div",{className:"text-center",children:[e.jsx(P,{className:"mx-auto h-8 w-8 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Upload Image"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Max 10MB"})]})})]})]})}),e.jsx(w,{value:"seo",className:"space-y-4",children:e.jsxs(f,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"seoTitle",children:"SEO Title"}),e.jsx(o,{id:"seoTitle",value:s.seoTitle,onChange:a=>l({...s,seoTitle:a.target.value}),placeholder:"Product name - Company",maxLength:60}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.seoTitle.length,"/60 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"seoDescription",children:"SEO Description"}),e.jsx(S,{id:"seoDescription",value:s.seoDescription,onChange:a=>l({...s,seoDescription:a.target.value}),placeholder:"Brief description for search engines",rows:3,maxLength:160}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.seoDescription.length,"/160 characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"seoKeywords",children:"SEO Keywords (comma separated)"}),e.jsx(o,{id:"seoKeywords",value:s.seoKeywords.join(", "),onChange:a=>l({...s,seoKeywords:a.target.value.split(",").map(i=>i.trim())}),placeholder:"keyword1, keyword2, keyword3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"status",children:"Publish Status"}),e.jsxs(x,{value:s.status,onValueChange:a=>l({...s,status:a}),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(r,{value:"draft",children:"Draft"}),e.jsx(r,{value:"published",children:"Published"}),e.jsx(r,{value:"archived",children:"Archived"})]})]})]})]})})]}),e.jsx("div",{className:"border-t mt-6 pt-6",children:e.jsx(J,{previewUrl:`/products/${s.slug||s.name.toLowerCase().replace(/\s+/g,"-")}?preview=true`,initialDevice:"desktop",compactMode:!0})})]})}export{oe as default};
