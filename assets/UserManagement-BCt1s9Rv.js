import{j as e}from"./ui-vendor-CJNjIdOR.js";import{r as i}from"./react-vendor-92AQlTAG.js";import{h as V,ab as I,B as m,P as E,C as P,a as K,b as L,c as O,d as B,N as R,O as z,Q as F,R as J,Z as q,L as n,I as h,S as f,t as N,v as y,w as C,x as r,ac as H,U as X,f as j,ad as Q,ae as W,j as w,a6 as Z,af as G,D as Y,k as _,m as $,p as S,g as ee}from"./index-Dj8ncPAG.js";import{M as se}from"./MapPicker-BvLj9vyM.js";import{T as ae,a as le,b as D,c as U}from"./tabs-BSJrF7vJ.js";import{DataTable as te}from"./data-table-CLwWu7jT.js";import{E as ne}from"./ellipsis-vertical-DyVpvsM3.js";import{S as re}from"./square-pen-BE2YbwJO.js";import"./three-vendor-CVohgf7y.js";import"./table-BP_P9naC.js";import"./download-C93Gk9fO.js";import"./minimize-2-BuqSuxBK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=V("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ce=[{id:"1",name:"John Doe",email:"john.doe@company.com",phone:"+62 812 3456 7890",role:"Admin",status:"active",department:"IT",createdAt:"2024-01-15"},{id:"2",name:"Jane Smith",email:"jane.smith@company.com",phone:"+62 813 4567 8901",role:"Manager",status:"active",department:"Sales",createdAt:"2024-02-20"},{id:"3",name:"Bob Wilson",email:"bob.wilson@company.com",phone:"+62 814 5678 9012",role:"Staff",status:"inactive",department:"Operations",createdAt:"2024-03-10"}];function Ne(){const[o,x]=i.useState(ce),[A,d]=i.useState(!1),[c,g]=i.useState(null),[a,t]=i.useState({name:"",email:"",phone:"",role:"",department:"",status:"active"}),[p,u]=i.useState(),v=s=>{s?(g(s),t({name:s.name,email:s.email,phone:s.phone,role:s.role,department:s.department||"",status:s.status}),u(s.location)):(g(null),t({name:"",email:"",phone:"",role:"",department:"",status:"active"}),u(void 0)),d(!0)},T=()=>{if(c)x(o.map(s=>s.id===c.id?{...s,...a,location:p}:s)),j.success("User updated successfully!");else{const s={id:Date.now().toString(),...a,department:a.department||"",location:p,createdAt:new Date().toISOString().split("T")[0]};x([...o,s]),j.success("User created successfully!")}d(!1)},M=s=>{x(o.filter(l=>l.id!==s)),j.success("User deleted successfully!")},k=[{accessorKey:"name",header:"Name",cell:({row:s})=>e.jsx("div",{className:"font-medium",children:s.getValue("name")})},{accessorKey:"email",header:"Email",cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-muted-foreground"}),s.getValue("email")]})},{accessorKey:"phone",header:"Phone",cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-muted-foreground"}),s.getValue("phone")]})},{accessorKey:"role",header:"Role",cell:({row:s})=>e.jsxs(w,{variant:"outline",className:"gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),s.getValue("role")]})},{accessorKey:"department",header:"Department"},{accessorKey:"status",header:"Status",cell:({row:s})=>{const l=s.getValue("status");return e.jsx(w,{variant:l==="active"?"default":"secondary",children:e.jsxs("span",{className:"flex items-center gap-1",children:[l==="active"?e.jsx(G,{className:"w-3 h-3 text-green-500"}):l==="suspended"?e.jsx(b,{className:"w-3 h-3 text-red-500"}):e.jsx(b,{className:"w-3 h-3 text-gray-500"}),l]})})}},{accessorKey:"createdAt",header:"Created"},{id:"actions",header:"Actions",cell:({row:s})=>{const l=s.original;return e.jsxs(Y,{children:[e.jsx(_,{asChild:!0,children:e.jsx(m,{variant:"ghost",size:"icon",children:e.jsx(ne,{className:"w-4 h-4"})})}),e.jsxs($,{align:"end",children:[e.jsxs(S,{onClick:()=>v(l),children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(S,{onClick:()=>M(l.id),className:"text-destructive",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})}}];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(I,{className:"w-8 h-8 text-primary"}),"User Management"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage internal company users and their roles"})]}),e.jsxs(m,{onClick:()=>v(),className:"gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Add User"]})]}),e.jsxs(P,{children:[e.jsxs(K,{children:[e.jsx(L,{children:"All Users"}),e.jsx(O,{children:"A list of all internal company users with their roles and status"})]}),e.jsx(B,{children:e.jsx(te,{columns:k,data:o,searchPlaceholder:"Search users...",searchKey:"name"})})]}),e.jsx(R,{open:A,onOpenChange:d,children:e.jsxs(z,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(F,{children:[e.jsx(J,{children:c?"Edit User":"Add New User"}),e.jsx(q,{children:c?"Update user information and role assignment":"Create a new internal company user"})]}),e.jsxs(ae,{defaultValue:"info",className:"w-full",children:[e.jsxs(le,{className:"grid w-full grid-cols-2",children:[e.jsx(D,{value:"info",children:"User Information"}),e.jsx(D,{value:"location",children:"Location"})]}),e.jsxs(U,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Full Name *"}),e.jsx(h,{value:a.name,onChange:s=>t({...a,name:s.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Email *"}),e.jsx(h,{type:"email",value:a.email,onChange:s=>t({...a,email:s.target.value}),placeholder:"john.doe@company.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Phone Number"}),e.jsx(h,{value:a.phone,onChange:s=>t({...a,phone:s.target.value}),placeholder:"+62 812 3456 7890"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Department"}),e.jsx(h,{value:a.department,onChange:s=>t({...a,department:s.target.value}),placeholder:"IT, Sales, Operations, etc."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Role *"}),e.jsxs(f,{value:a.role,onValueChange:s=>t({...a,role:s}),children:[e.jsx(N,{children:e.jsx(y,{placeholder:"Select role"})}),e.jsxs(C,{children:[e.jsx(r,{value:"Admin",children:"Admin"}),e.jsx(r,{value:"Manager",children:"Manager"}),e.jsx(r,{value:"Staff",children:"Staff"}),e.jsx(r,{value:"Viewer",children:"Viewer"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Status"}),e.jsxs(f,{value:a.status,onValueChange:s=>t({...a,status:s}),children:[e.jsx(N,{children:e.jsx(y,{})}),e.jsxs(C,{children:[e.jsx(r,{value:"active",children:"Active"}),e.jsx(r,{value:"inactive",children:"Inactive"}),e.jsx(r,{value:"suspended",children:"Suspended"})]})]})]})]})]}),e.jsxs(U,{value:"location",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"User Address Location"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on the map to select the user's office or home location"})]}),e.jsx(se,{onLocationSelect:u,value:p})]})]}),e.jsxs(X,{children:[e.jsx(m,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(m,{onClick:T,children:c?"Update User":"Create User"})]})]})})]})}export{Ne as default};
